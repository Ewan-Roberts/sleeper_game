window.headerBoardIconHasUpdater=!0,function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=K.type(e);return"function"!==n&&!K.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(K.isFunction(t))return K.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return K.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return K.filter(t,e,n);t=K.filter(t,e)}return K.grep(e,function(e){return Y.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=fe[e]={};return K.each(e.match(pe)||[],function(e,n){t[n]=!0}),t}function a(){Q.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),K.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=K.expando+s.uid++}function l(e,t,n){var r;if(n===undefined&&1===e.nodeType)if(r="data-"+t.replace(be,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:ye.test(n)?K.parseJSON(n):n)}catch(e){}ve.set(e,t,n)}else n=undefined;return n}function u(){return!0}function c(){return!1}function d(){try{return Q.activeElement}catch(e){}}function p(e,t){return K.nodeName(e,"table")&&K.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Ie.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,r=e.length;n<r;n++)ge.set(e[n],"globalEval",!t||ge.get(t[n],"globalEval"))}function g(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(ge.hasData(e)&&(o=ge.access(e),a=ge.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;n<r;n++)K.event.add(t,i,u[i][n])}ve.hasData(e)&&(s=ve.access(e),l=K.extend({},s),ve.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&K.nodeName(e,t)?K.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&$e.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function b(t,n){var r,i=K(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:K.css(i[0],"display");return i.detach(),o}function w(e){var t=Q,n=Fe[e];return n||(n=b(e,t),"none"!==n&&n||(Ne=(Ne||K("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ne[0].contentDocument,t.write(),t.close(),n=b(e,t),Ne.detach()),Fe[e]=n),n}function _(e,t,n){var r,i,o,a,s=e.style;return n=n||He(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||K.contains(e.ownerDocument,e)||(a=K.style(e,t)),Be.test(a)&&Ve.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),a!==undefined?a+"":a}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function $(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ge.length;i--;)if((t=Ge[i]+n)in e)return t;return r}function x(e,t,n){var r=ze.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function C(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=K.css(e,n+_e[o],!0,i)),r?("content"===n&&(a-=K.css(e,"padding"+_e[o],!0,i)),"margin"!==n&&(a-=K.css(e,"border"+_e[o]+"Width",!0,i))):(a+=K.css(e,"padding"+_e[o],!0,i),"padding"!==n&&(a+=K.css(e,"border"+_e[o]+"Width",!0,i)));return a}function T(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=He(e),a="border-box"===K.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=_(e,t,o),(i<0||null==i)&&(i=e.style[t]),Be.test(i))return i;r=a&&(J.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+C(e,t,n||(a?"border":"content"),r,o)+"px"}function S(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(o[a]=ge.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&ke(r)&&(o[a]=ge.access(r,"olddisplay",w(r.nodeName)))):(i=ke(r),"none"===n&&i||ge.set(r,"olddisplay",i?n:K.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function E(e,t,n,r,i){return new E.prototype.init(e,t,n,r,i)}function D(){return setTimeout(function(){Xe=undefined}),Xe=K.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=_e[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function M(e,t,n){for(var r,i=(tt[t]||[]).concat(tt["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function P(e,t,n){var r,i,o,a,s,l,u,c=this,d={},p=e.style,f=e.nodeType&&ke(e),h=ge.get(e,"fxshow");n.queue||(s=K._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,K.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=K.css(e,"display"),"inline"===("none"===u?ge.get(e,"olddisplay")||w(e.nodeName):u)&&"none"===K.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Qe.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!h||h[r]===undefined)continue;f=!0}d[r]=h&&h[r]||K.style(e,r)}else u=undefined;if(K.isEmptyObject(d))"inline"===("none"===u?w(e.nodeName):u)&&(p.display=u);else{h?"hidden"in h&&(f=h.hidden):h=ge.access(e,"fxshow",{}),o&&(h.hidden=!f),f?K(e).show():c.done(function(){K(e).hide()}),c.done(function(){var t;ge.remove(e,"fxshow");for(t in d)K.style(e,t,d[t])});for(r in d)a=M(f?h[r]:0,r,c),r in h||(h[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=K.camelCase(n),i=t[r],o=e[n],K.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=K.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function j(e,t,n){var r,i,o=0,a=et.length,s=K.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Xe||D(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),o<1&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:K.extend({},t),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xe||D(),duration:n.duration,tweens:[],createTween:function(t,n){var r=K.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);o<a;o++)if(r=et[o].call(u,e,c,u.opts))return r;return K.map(c,M,u),K.isFunction(u.opts.start)&&u.opts.start.call(e,u),K.fx.timer(K.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function I(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(pe)||[];if(K.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function L(e,t,n,r){function i(s){var l;return o[s]=!0,K.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===yt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function R(e,t){var n,r,i=K.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&K.extend(!0,e,r),e}function N(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function F(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function V(e,t,n,r){var i;if(K.isArray(t))K.each(t,function(t,i){n||$t.test(e)?r(e,i):V(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==K.type(t))r(e,t);else for(i in t)V(e+"["+i+"]",t[i],n,r)}function B(e){return K.isWindow(e)?e:9===e.nodeType&&e.defaultView}var H=[],U=H.slice,z=H.concat,q=H.push,Y=H.indexOf,W={},G=W.toString,X=W.hasOwnProperty,J={},Q=e.document,Z="2.1.4",K=function(e,t){return new K.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};K.fn=K.prototype={jquery:Z,constructor:K,selector:"",length:0,toArray:function(){return U.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:U.call(this)},pushStack:function(e){var t=K.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return K.each(this,e,t)},map:function(e){return this.pushStack(K.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:q,sort:H.sort,splice:H.splice},K.extend=K.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||K.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(K.isPlainObject(r)||(i=K.isArray(r)))?(i?(i=!1,o=n&&K.isArray(n)?n:[]):o=n&&K.isPlainObject(n)?n:{},a[t]=K.extend(u,o,r)):r!==undefined&&(a[t]=r));return a},K.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===K.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!K.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===K.type(e)&&!e.nodeType&&!K.isWindow(e)&&!(e.constructor&&!X.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?W[G.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=K.trim(e))&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i=0,o=e.length,a=n(e);if(r){if(a)for(;i<o&&!1!==t.apply(e[i],r);i++);else for(i in e)if(!1===t.apply(e[i],r))break}else if(a)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?K.merge(r,"string"==typeof e?[e]:e):q.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:Y.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;o<a;o++)null!=(i=t(e[o],o,r))&&l.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&l.push(i);return z.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),K.isFunction(e)?(r=U.call(arguments,2),i=function(){return e.apply(t||this,r.concat(U.call(arguments)))},i.guid=e.guid=e.guid||K.guid++,i):undefined},now:Date.now,support:J}),K.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){W["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,a,s,l,u,d,f,h,m;if((t?t.ownerDocument||t:V)!==P&&M(t),t=t||P,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&j){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&N(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&_.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(_.qsa&&(!I||!I.test(e))){if(f=d=F,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=C(e),(d=t.getAttribute("id"))?f=d.replace(we,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+p(u[l]);h=be.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Z.apply(n,h.querySelectorAll(m)),n}catch(e){}finally{d||t.removeAttribute("id")}}}return S(e.replace(le,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[F]=!0,e}function i(e){var t=P.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)k.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||W)-(~e.sourceIndex||W);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=H++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[B,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[F]||(t[F]={}),(s=l[r])&&s[0]===B&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function v(e,t,n,i,o,a){return i&&!i[F]&&(i=v(i)),o&&!o[F]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,p=[],f=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,p,e,s,l),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=g(b,f),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[f[c]]=!(y[f[c]]=d));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?ee(r,d):p[c])>-1&&(r[u]=!(a[u]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,l):Z.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),u=f(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==E)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];s<i;s++)if(n=k.relative[e[s].type])c=[f(h(c),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[F]){for(r=++s;r<i&&!k.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,s<r&&y(e.slice(s,r)),r<i&&y(e=e.slice(r)),r<i&&p(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,d,p,f=0,h="0",m=r&&[],v=[],y=E,b=r||o&&k.find.TAG("*",u),w=B+=null==y?1:Math.random()||.1,_=b.length;for(u&&(E=a!==P&&a);h!==_&&null!=(c=b[h]);h++){if(o&&c){for(d=0;p=e[d++];)if(p(c,a,s)){l.push(c);break}u&&(B=w)}i&&((c=!p&&c)&&f--,r&&m.push(c))}if(f+=h,i&&h!==f){for(d=0;p=n[d++];)p(m,v,a,s);if(r){if(f>0)for(;h--;)m[h]||v[h]||(v[h]=J.call(l));v=g(v)}Z.apply(l,v),u&&!r&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(B=w,E=y),m};return i?r(a):a}var w,_,k,$,x,C,T,S,E,D,A,M,P,O,j,I,L,R,N,F="sizzle"+1*new Date,V=e.document,B=0,H=0,U=n(),z=n(),q=n(),Y=function(e,t){return e===t&&(A=!0),0},W=1<<31,G={}.hasOwnProperty,X=[],J=X.pop,Q=X.push,Z=X.push,K=X.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(ae),fe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),ke=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},$e=function(){M()};try{Z.apply(X=K.call(V.childNodes),V.childNodes),X[V.childNodes.length].nodeType}catch(e){Z={apply:X.length?function(e,t){Q.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}_=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:V;return r!==P&&9===r.nodeType&&r.documentElement?(P=r,O=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",$e,!1):n.attachEvent&&n.attachEvent("onunload",$e)),j=!x(r),_.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=ve.test(r.getElementsByClassName),_.getById=i(function(e){return O.appendChild(e).id=F,!r.getElementsByName||!r.getElementsByName(F).length}),_.getById?(k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&j){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(_e,ke);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(_e,ke);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=_.getElementsByClassName&&function(e,t){if(j)return t.getElementsByClassName(e)},L=[],I=[],(_.qsa=ve.test(r.querySelectorAll))&&(i(function(e){O.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||I.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(_.matchesSelector=ve.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(e){_.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),L.push("!=",ae)}),I=I.length&&new RegExp(I.join("|")),L=L.length&&new RegExp(L.join("|")),t=ve.test(O.compareDocumentPosition),N=t||ve.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===V&&N(V,e)?-1:t===r||t.ownerDocument===V&&N(V,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?ee(D,e)-ee(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===V?-1:u[i]===V?1:0},r):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&M(e),n=n.replace(de,"='$1']"),_.matchesSelector&&j&&(!L||!L.test(n))&&(!I||!I.test(n)))try{var r=R.call(e,n);if(r||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&M(e),N(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&M(e);var n=k.attrHandle[t.toLowerCase()],r=n&&G.call(k.attrHandle,t.toLowerCase())?n(e,t,!j):undefined;return r!==undefined?r:_.attributes||!j?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!_.detectDuplicates,D=!_.sortStable&&e.slice(0),e.sort(Y),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},$=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=$(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=$(t);return n},k=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,ke),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,ke),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,ke).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,f,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[F]||(g[F]={}),u=c[e]||[],f=u[0]===B&&u[1],p=u[0]===B&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){c[e]=[B,f,p];break}}else if(y&&(u=(t[F]||(t[F]={}))[e])&&u[0]===B)p=u[1];else for(;(d=++f&&d&&d[m]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(y&&((d[F]||(d[F]={}))[e]=[B,p]),d!==t)););return(p-=i)===r||p%r==0&&p/r>=0}}},PSEUDO:function(e,n){var i,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[F]?o(n):o.length>1?(i=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=T(e.replace(le,"$1"));return i[F]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(_e,ke),function(t){return(t.textContent||t.innerText||$(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,ke).toLowerCase(),function(t){var n;do{if(n=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return d.prototype=k.filters=k.pseudos,k.setFilters=new d,C=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=z[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=k.preFilter;s;){r&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),s=s.slice(r.length));for(a in k.filter)!(i=he[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):z(e,l).slice(0)},T=t.compile=function(e,t){var n,r=[],i=[],o=q[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=y(t[n]),o[F]?r.push(o):i.push(o);o=q(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,d=!r&&C(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&_.getById&&9===t.nodeType&&j&&k.relative[o[1].type]){if(!(t=(k.find.ID(a.matches[0].replace(_e,ke),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!k.relative[s=a.type]);)if((l=k.find[s])&&(r=l(a.matches[0].replace(_e,ke),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&p(o)))return Z.apply(n,r),n;break}}return(u||T(e,d))(r,t,!j,n,be.test(e)&&c(t.parentNode)||t),n},_.sortStable=F.split("").sort(Y).join("")===F,_.detectDuplicates=!!A,M(),_.sortDetached=i(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);K.find=ie,K.expr=ie.selectors,K.expr[":"]=K.expr.pseudos,K.unique=ie.uniqueSort,K.text=ie.getText,K.isXMLDoc=ie.isXML,K.contains=ie.contains;var oe=K.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;K.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?K.find.matchesSelector(r,e)?[r]:[]:K.find.matches(e,K.grep(t,function(e){return 1===e.nodeType}))},K.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(K(e).filter(function(){for(t=0;t<n;t++)if(K.contains(i[t],this))return!0}));for(t=0;t<n;t++)K.find(e,i[t],r);return r=this.pushStack(n>1?K.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?K(e):e||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(K.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e))||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof K?t[0]:t,
K.merge(this,K.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),ae.test(n[1])&&K.isPlainObject(t))for(n in t)K.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=Q.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):K.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(K):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),K.makeArray(e,this))}).prototype=K.fn,le=K(Q);var ce=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};K.extend({dir:function(e,t,n){for(var r=[],i=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&K(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),K.fn.extend({has:function(e){var t=K(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(K.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=oe.test(e)||"string"!=typeof e?K(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&K.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?K.unique(o):o)},index:function(e){return e?"string"==typeof e?Y.call(K(e),this[0]):Y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(K.unique(K.merge(this.get(),K(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),K.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return K.dir(e,"parentNode")},parentsUntil:function(e,t,n){return K.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return K.dir(e,"nextSibling")},prevAll:function(e){return K.dir(e,"previousSibling")},nextUntil:function(e,t,n){return K.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return K.dir(e,"previousSibling",n)},siblings:function(e){return K.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return K.sibling(e.firstChild)},contents:function(e){return e.contentDocument||K.merge([],e.childNodes)}},function(e,t){K.fn[e]=function(n,r){var i=K.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=K.filter(r,i)),this.length>1&&(de[e]||K.unique(i),ce.test(e)&&i.reverse()),this.pushStack(i)}});var pe=/\S+/g,fe={};K.Callbacks=function(e){e="string"==typeof e?fe[e]||o(e):K.extend({},e);var t,n,r,i,a,s,l=[],u=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,s=i||0,i=0,a=l.length,r=!0;l&&s<a;s++)if(!1===l[s].apply(o[0],o[1])&&e.stopOnFalse){t=!1;break}r=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function t(n){K.each(n,function(n,r){var i=K.type(r);"function"===i?e.unique&&d.has(r)||l.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),r?a=l.length:t&&(i=n,c(t))}return this},remove:function(){return l&&K.each(arguments,function(e,t){for(var n;(n=K.inArray(t,l,n))>-1;)l.splice(n,1),r&&(n<=a&&a--,n<=s&&s--)}),this},has:function(e){return e?K.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=t=undefined,this},disabled:function(){return!l},lock:function(){return u=undefined,t||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],r?u.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},K.extend({Deferred:function(e){var t=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return K.Deferred(function(n){K.each(t,function(t,o){var a=K.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&K.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?K.extend(e,r):r}},i={};return r.pipe=r.then,K.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=U.call(arguments),a=o.length,s=1!==a||e&&K.isFunction(e.promise)?a:0,l=1===s?e:K.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?U.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&K.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,t)):--s;return s||l.resolveWith(r,o),l.promise()}});var he;K.fn.ready=function(e){return K.ready.promise().done(e),this},K.extend({isReady:!1,readyWait:1,holdReady:function(e){e?K.readyWait++:K.ready(!0)},ready:function(e){(!0===e?--K.readyWait:K.isReady)||(K.isReady=!0,!0!==e&&--K.readyWait>0||(he.resolveWith(Q,[K]),K.fn.triggerHandler&&(K(Q).triggerHandler("ready"),K(Q).off("ready"))))}}),K.ready.promise=function(t){return he||(he=K.Deferred(),"complete"===Q.readyState?setTimeout(K.ready):(Q.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),he.promise(t)},K.ready.promise();var me=K.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===K.type(n)){i=!0;for(s in n)K.access(e,t,s,n[s],!0,o,a)}else if(r!==undefined&&(i=!0,K.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(K(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o};K.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=K.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,K.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(K.isEmptyObject(o))K.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&"string"==typeof t&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,K.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(t===undefined)this.cache[o]={};else{K.isArray(t)?r=t.concat(t.map(K.camelCase)):(i=K.camelCase(t),t in a?r=[t,i]:(r=i,r=r in a?[r]:r.match(pe)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!K.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ge=new s,ve=new s,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;K.extend({hasData:function(e){return ve.hasData(e)||ge.hasData(e)},data:function(e,t,n){return ve.access(e,t,n)},removeData:function(e,t){ve.remove(e,t)},_data:function(e,t,n){return ge.access(e,t,n)},_removeData:function(e,t){ge.remove(e,t)}}),K.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(e===undefined){if(this.length&&(i=ve.get(o),1===o.nodeType&&!ge.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=K.camelCase(r.slice(5)),l(o,r,i[r])));ge.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ve.set(this,e)}):me(this,function(t){var n,r=K.camelCase(e);if(o&&t===undefined){if((n=ve.get(o,e))!==undefined)return n;if((n=ve.get(o,r))!==undefined)return n;if((n=l(o,r,undefined))!==undefined)return n}else this.each(function(){var n=ve.get(this,r);ve.set(this,r,t),-1!==e.indexOf("-")&&n!==undefined&&ve.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ve.remove(this,e)})}}),K.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ge.get(e,t),n&&(!r||K.isArray(n)?r=ge.access(e,t,K.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=K.queue(e,t),r=n.length,i=n.shift(),o=K._queueHooks(e,t),a=function(){K.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ge.get(e,n)||ge.access(e,n,{empty:K.Callbacks("once memory").add(function(){ge.remove(e,[t+"queue",n])})})}}),K.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?K.queue(this[0],e):t===undefined?this:this.each(function(){var n=K.queue(this,e,t);K._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&K.dequeue(this,e)})},dequeue:function(e){return this.each(function(){K.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=K.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";a--;)(n=ge.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_e=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===K.css(e,"display")||!K.contains(e.ownerDocument,e)},$e=/^(?:checkbox|radio)$/i;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var xe=typeof undefined;J.focusinBubbles="onfocusin"in e;var Ce=/^key/,Te=/^(?:mouse|pointer|contextmenu)|click/,Se=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;K.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,d,p,f,h,m,g=ge.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=K.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof K!==xe&&K.event.triggered!==t.type?K.event.dispatch.apply(e,arguments):undefined}),t=(t||"").match(pe)||[""],u=t.length;u--;)s=Ee.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f&&(d=K.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=K.event.special[f]||{},c=K.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&K.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=l[f])||(p=l[f]=[],p.delegateCount=0,d.setup&&!1!==d.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(f,a,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),K.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,p,f,h,m,g=ge.hasData(e)&&ge.get(e);if(g&&(l=g.events)){for(t=(t||"").match(pe)||[""],u=t.length;u--;)if(s=Ee.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=K.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,p=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||K.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)K.event.remove(e,f+t[u],n,r,!0);K.isEmptyObject(l)&&(delete g.handle,ge.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,d,p=[r||Q],f=X.call(t,"type")?t.type:t,h=X.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||Q,3!==r.nodeType&&8!==r.nodeType&&!Se.test(f+K.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[K.expando]?t:new K.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:K.makeArray(n,[t]),d=K.event.special[f]||{},i||!d.trigger||!1!==d.trigger.apply(r,n))){if(!i&&!d.noBubble&&!K.isWindow(r)){for(l=d.delegateType||f,Se.test(l+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||Q)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||f,c=(ge.get(a,"events")||{})[t.type]&&ge.get(a,"handle"),c&&c.apply(a,n),(c=u&&a[u])&&c.apply&&K.acceptData(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),n)||!K.acceptData(r)||u&&K.isFunction(r[f])&&!K.isWindow(r)&&(s=r[u],s&&(r[u]=null),K.event.triggered=f,r[f](),K.event.triggered=undefined,s&&(r[u]=s)),t.result}},dispatch:function(e){e=K.event.fix(e);var t,n,r,i,o,a=[],s=U.call(arguments),l=(ge.get(this,"events")||{})[e.type]||[],u=K.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=K.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,(r=((K.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))!==undefined&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(r=[],n=0;n<s;n++)o=t[n],i=o.selector+" ",r[i]===undefined&&(r[i]=o.needsContext?K(i,this).index(l)>=0:K.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Q,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||o===undefined||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[K.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Te.test(i)?this.mouseHooks:Ce.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new K.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===d()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&K.nodeName(this,"input"))return this.click(),!1},_default:function(e){return K.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=K.extend(new K.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?K.event.trigger(i,null,t):K.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},K.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},K.Event=function(e,t){if(!(this instanceof K.Event))return new K.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?u:c):this.type=e,t&&K.extend(this,t),this.timeStamp=e&&e.timeStamp||K.now(),this[K.expando]=!0},K.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},K.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){K.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||K.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),J.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){K.event.simulate(t,e.target,K.event.fix(e),!0)};K.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ge.access(r,t);i||r.addEventListener(e,n,!0),ge.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ge.access(r,t)-1;i?ge.access(r,t,i):(r.removeEventListener(e,n,!0),ge.remove(r,t))}}}),K.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=undefined);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=undefined):null==r&&("string"==typeof t?(r=n,n=undefined):(r=n,n=t,t=undefined)),!1===r)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return K().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=K.guid++)),this.each(function(){K.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,K(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=c),this.each(function(){K.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){K.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return K.event.trigger(e,t,n,!0)}});var De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ae=/<([\w:]+)/,Me=/<|&#?\w+;/,Pe=/<(?:script|style|link)/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^$|\/(?:java|ecma)script/i,Ie=/^true\/(.*)/,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Re={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Re.optgroup=Re.option,Re.tbody=Re.tfoot=Re.colgroup=Re.caption=Re.thead,Re.th=Re.td,K.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=K.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||K.isXMLDoc(e)))for(a=v(s),o=v(e),r=0,i=o.length;r<i;r++)y(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;r<i;r++)g(o[r],a[r]);else g(e,s);return a=v(s,"script"),a.length>0&&m(a,!l&&v(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((i=e[p])||0===i)if("object"===K.type(i))K.merge(d,i.nodeType?[i]:i);else if(Me.test(i)){for(o=o||c.appendChild(t.createElement("div")),a=(Ae.exec(i)||["",""])[1].toLowerCase(),s=Re[a]||Re._default,o.innerHTML=s[1]+i.replace(De,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;K.merge(d,o.childNodes),o=c.firstChild,o.textContent=""}else d.push(t.createTextNode(i));for(c.textContent="",p=0;i=d[p++];)if((!r||-1===K.inArray(i,r))&&(l=K.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),l&&m(o),n))for(u=0;i=o[u++];)je.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=K.event.special,a=0;(n=e[a])!==undefined;a++){if(K.acceptData(n)&&(i=n[ge.expando])&&(t=ge.cache[i])){if(t.events)for(r in t.events)o[r]?K.event.remove(n,r):K.removeEvent(n,r,t.handle);ge.cache[i]&&delete ge.cache[i]}delete ve.cache[n[ve.expando]]}}}),K.fn.extend({text:function(e){return me(this,function(e){return e===undefined?K.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){p(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?K.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||K.cleanData(v(n)),n.parentNode&&(t&&K.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(K.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return K.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!Re[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(De,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(K.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,K.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=z.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,d=u-1,p=e[0],m=K.isFunction(p);if(m||u>1&&"string"==typeof p&&!J.checkClone&&Oe.test(p))return this.each(function(n){var r=c.eq(n);m&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(u&&(n=K.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=K.map(v(n,"script"),f),o=i.length;l<u;l++)a=n,l!==d&&(a=K.clone(a,!0,!0),o&&K.merge(i,v(a,"script"))),t.call(this[l],a,l);if(o)for(s=i[i.length-1].ownerDocument,K.map(i,h),l=0;l<o;l++)a=i[l],je.test(a.type||"")&&!ge.access(a,"globalEval")&&K.contains(s,a)&&(a.src?K._evalUrl&&K._evalUrl(a.src):K.globalEval(a.textContent.replace(Le,"")))}return this}}),K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){K.fn[e]=function(e){for(var n,r=[],i=K(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),K(i[a])[t](n),q.apply(r,n.get());return this.pushStack(r)}});var Ne,Fe={},Ve=/^margin/,Be=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),He=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=Q.documentElement,o=Q.createElement("div"),a=Q.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&K.extend(J,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild(Q.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),t}}))}(),K.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var Ue=/^(none|table(?!-c[ea]).+)/,ze=new RegExp("^("+we+")(.*)$","i"),qe=new RegExp("^([+-])=("+we+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},We={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];K.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=K.camelCase(t),l=e.style;if(t=K.cssProps[s]||(K.cssProps[s]=$(l,s)),a=K.cssHooks[t]||K.cssHooks[s],n===undefined)return a&&"get"in a&&(i=a.get(e,!1,r))!==undefined?i:l[t];o=typeof n,"string"===o&&(i=qe.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(K.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||K.cssNumber[s]||(n+="px"),J.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&(n=a.set(e,n,r))===undefined||(l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=K.camelCase(t);return t=K.cssProps[s]||(K.cssProps[s]=$(e.style,s)),a=K.cssHooks[t]||K.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),i===undefined&&(i=_(e,t,r)),"normal"===i&&t in We&&(i=We[t]),""===n||n?(o=parseFloat(i),!0===n||K.isNumeric(o)?o||0:i):i}}),K.each(["height","width"],function(e,t){K.cssHooks[t]={get:function(e,n,r){if(n)return Ue.test(K.css(e,"display"))&&0===e.offsetWidth?K.swap(e,Ye,function(){return T(e,t,r)}):T(e,t,r)},set:function(e,n,r){var i=r&&He(e);return x(e,n,r?C(e,t,r,"border-box"===K.css(e,"boxSizing",!1,i),i):0)}}}),K.cssHooks.marginRight=k(J.reliableMarginRight,function(e,t){if(t)return K.swap(e,{display:"inline-block"},_,[e,"marginRight"])}),K.each({margin:"",padding:"",border:"Width"},function(e,t){K.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+_e[r]+t]=o[r]||o[r-2]||o[0];return i}},Ve.test(e)||(K.cssHooks[e+t].set=x)}),K.fn.extend({css:function(e,t){return me(this,function(e,t,n){var r,i,o={},a=0;if(K.isArray(t)){for(r=He(e),i=t.length;a<i;a++)o[t[a]]=K.css(e,t[a],!1,r);return o}return n!==undefined?K.style(e,t,n):K.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?K(this).show():K(this).hide()})}}),K.Tween=E,E.prototype={constructor:E,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(K.cssNumber[n]?"":"px")},cur:function(){var e=E.propHooks[this.prop];return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,n=E.propHooks[this.prop];return this.options.duration?this.pos=t=K.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=K.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){K.fx.step[e.prop]?K.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[K.cssProps[e.prop]]||K.cssHooks[e.prop])?K.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},K.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},K.fx=E.prototype.init,K.fx.step={};var Xe,Je,Qe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),Ke=/queueHooks$/,et=[P],tt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ze.exec(t),o=i&&i[3]||(K.cssNumber[e]?"":"px"),a=(K.cssNumber[e]||"px"!==o&&+r)&&Ze.exec(K.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{s=s||".5",a/=s,K.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};K.Animation=K.extend(j,{tweener:function(e,t){K.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],tt[n]=tt[n]||[],tt[n].unshift(t)},prefilter:function(e,t){t?et.unshift(e):et.push(e)}}),K.speed=function(e,t,n){var r=e&&"object"==typeof e?K.extend({},e):{complete:n||!n&&t||K.isFunction(e)&&e,duration:e,easing:n&&t||t&&!K.isFunction(t)&&t};return r.duration=K.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in K.fx.speeds?K.fx.speeds[r.duration]:K.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){K.isFunction(r.old)&&r.old.call(this),r.queue&&K.dequeue(this,r.queue)},r},K.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=K.isEmptyObject(e),o=K.speed(t,n,r),a=function(){var t=j(this,K.extend({},e),o);(i||ge.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=K.timers,a=ge.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Ke.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||K.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ge.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=K.timers,a=r?r.length:0;for(n.finish=!0,K.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),K.each(["toggle","show","hide"],function(e,t){var n=K.fn[t];K.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),K.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){K.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),K.timers=[],K.fx.tick=function(){var e,t=0,n=K.timers;for(Xe=K.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||K.fx.stop(),Xe=undefined},K.fx.timer=function(e){K.timers.push(e),e()?K.fx.start():K.timers.pop()},K.fx.interval=13,K.fx.start=function(){Je||(Je=setInterval(K.fx.tick,K.fx.interval))},K.fx.stop=function(){clearInterval(Je),Je=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fn.delay=function(e,t){return e=K.fx?K.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),n=t.appendChild(Q.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=n.selected,t.disabled=!0,J.optDisabled=!n.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}()
;var nt,rt,it=K.expr.attrHandle;K.fn.extend({attr:function(e,t){return me(this,K.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){K.removeAttr(this,e)})}}),K.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===xe?K.prop(e,t,n):(1===o&&K.isXMLDoc(e)||(t=t.toLowerCase(),r=K.attrHooks[t]||(K.expr.match.bool.test(t)?rt:nt)),n===undefined?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=K.find.attr(e,t),null==i?undefined:i):null!==n?r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n):void K.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(pe);if(o&&1===e.nodeType)for(;n=o[i++];)r=K.propFix[n]||n,K.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&K.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),rt={set:function(e,t,n){return!1===t?K.removeAttr(e,n):e.setAttribute(n,n),n}},K.each(K.expr.match.bool.source.match(/\w+/g),function(e,t){var n=it[t]||K.find.attr;it[t]=function(e,t,r){var i,o;return r||(o=it[t],it[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,it[t]=o),i}});var ot=/^(?:input|select|textarea|button)$/i;K.fn.extend({prop:function(e,t){return me(this,K.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[K.propFix[e]||e]})}}),K.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!K.isXMLDoc(e),o&&(t=K.propFix[t]||t,i=K.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ot.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),J.optSelected||(K.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),K.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){K.propFix[this.toLowerCase()]=this});var at=/[\t\r\n\f]/g;K.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,l=0,u=this.length;if(K.isFunction(e))return this.each(function(t){K(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];l<u;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=K.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(K.isFunction(e))return this.each(function(t){K(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(pe)||[];l<u;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?K.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):K.isFunction(e)?this.each(function(n){K(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=K(this),o=e.match(pe)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else n!==xe&&"boolean"!==n||(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||!1===e?"":ge.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(at," ").indexOf(t)>=0)return!0;return!1}});var st=/\r/g;K.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=K.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,K(this).val()):e,null==i?i="":"number"==typeof i?i+="":K.isArray(i)&&(i=K.map(i,function(e){return null==e?"":e+""})),(t=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,i,"value")!==undefined||(this.value=i))});if(i)return(t=K.valHooks[i.type]||K.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,"string"==typeof n?n.replace(st,""):null==n?"":n)}}}),K.extend({valHooks:{option:{get:function(e){var t=K.find.attr(e,"value");return null!=t?t:K.trim(K.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,l=i<0?s:o?i:0;l<s;l++)if(n=r[l],(n.selected||l===i)&&(J.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!K.nodeName(n.parentNode,"optgroup"))){if(t=K(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=K.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=K.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),K.each(["radio","checkbox"],function(){K.valHooks[this]={set:function(e,t){if(K.isArray(t))return e.checked=K.inArray(K(e).val(),t)>=0}},J.checkOn||(K.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){K.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),K.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=K.now(),ut=/\?/;K.parseJSON=function(e){return JSON.parse(e+"")},K.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=undefined}return t&&!t.getElementsByTagName("parsererror").length||K.error("Invalid XML: "+e),t};var ct=/#.*$/,dt=/([?&])_=[^&]*/,pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ht=/^(?:GET|HEAD)$/,mt=/^\/\//,gt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vt={},yt={},bt="*/".concat("*"),wt=e.location.href,_t=gt.exec(wt.toLowerCase())||[];K.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:ft.test(_t[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,K.ajaxSettings),t):R(K.ajaxSettings,e)},ajaxPrefilter:I(vt),ajaxTransport:I(yt),ajax:function(e,t){function n(e,t,n,a){var l,c,v,y,w,k=t;2!==b&&(b=2,s&&clearTimeout(s),r=undefined,o=a||"",_.readyState=e>0?4:0,l=e>=200&&e<300||304===e,n&&(y=N(d,_,n)),y=F(d,y,_,l),l?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(K.lastModified[i]=w),(w=_.getResponseHeader("etag"))&&(K.etag[i]=w)),204===e||"HEAD"===d.type?k="nocontent":304===e?k="notmodified":(k=y.state,c=y.data,v=y.error,l=!v)):(v=k,!e&&k||(k="error",e<0&&(e=0))),_.status=e,_.statusText=(t||k)+"",l?h.resolveWith(p,[c,k,_]):h.rejectWith(p,[_,k,v]),_.statusCode(g),g=undefined,u&&f.trigger(l?"ajaxSuccess":"ajaxError",[_,d,l?c:v]),m.fireWith(p,[_,k]),u&&(f.trigger("ajaxComplete",[_,d]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var r,i,o,a,s,l,u,c,d=K.ajaxSetup({},t),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?K(p):K.event,h=K.Deferred(),m=K.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=pt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),n(0,t),this}};if(h.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||wt)+"").replace(ct,"").replace(mt,_t[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=K.trim(d.dataType||"*").toLowerCase().match(pe)||[""],null==d.crossDomain&&(l=gt.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===_t[1]&&l[2]===_t[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(_t[3]||("http:"===_t[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=K.param(d.data,d.traditional)),L(vt,d,t,_),2===b)return _;u=K.event&&d.global,u&&0==K.active++&&K.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!ht.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(ut.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=dt.test(i)?i.replace(dt,"$1_="+lt++):i+(ut.test(i)?"&":"?")+"_="+lt++)),d.ifModified&&(K.lastModified[i]&&_.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&_.setRequestHeader("If-None-Match",K.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+bt+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)_.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(!1===d.beforeSend.call(p,_,d)||2===b))return _.abort();w="abort";for(c in{success:1,error:1,complete:1})_[c](d[c]);if(r=L(yt,d,t,_)){_.readyState=1,u&&f.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){_.abort("timeout")},d.timeout));try{b=1,r.send(v,n)}catch(e){if(!(b<2))throw e;n(-1,e)}}else n(-1,"No Transport");return _},getJSON:function(e,t,n){return K.get(e,t,n,"json")},getScript:function(e,t){return K.get(e,undefined,t,"script")}}),K.each(["get","post"],function(e,t){K[t]=function(e,n,r,i){return K.isFunction(n)&&(i=i||r,r=n,n=undefined),K.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),K._evalUrl=function(e){return K.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},K.fn.extend({wrapAll:function(e){var t;return K.isFunction(e)?this.each(function(t){K(this).wrapAll(e.call(this,t))}):(this[0]&&(t=K(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return K.isFunction(e)?this.each(function(t){K(this).wrapInner(e.call(this,t))}):this.each(function(){var t=K(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=K.isFunction(e);return this.each(function(n){K(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)}).end()}}),K.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},K.expr.filters.visible=function(e){return!K.expr.filters.hidden(e)};var kt=/%20/g,$t=/\[\]$/,xt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;K.param=function(e,t){var n,r=[],i=function(e,t){t=K.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(e)||e.jquery&&!K.isPlainObject(e))K.each(e,function(){i(this.name,this.value)});else for(n in e)V(n,e[n],t,i);return r.join("&").replace(kt,"+")},K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=K.prop(this,"elements");return e?K.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!K(this).is(":disabled")&&Tt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!$e.test(e))}).map(function(e,t){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,function(e){return{name:t.name,value:e.replace(xt,"\r\n")}}):{name:t.name,value:n.replace(xt,"\r\n")}}).get()}}),K.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var St=0,Et={},Dt={0:200,1223:204},At=K.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Et)Et[e]()}),J.cors=!!At&&"withCredentials"in At,J.ajax=At=!!At,K.ajaxTransport(function(e){var t;if(J.cors||At&&!e.crossDomain)return{send:function(n,r){var i,o=e.xhr(),a=++St;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Et[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Dt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:undefined,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Et[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return K.globalEval(e),e}}}),K.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),K.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=K("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Mt=[],Pt=/(=)\?(?=&|$)|\?\?/;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mt.pop()||K.expando+"_"+lt++;return this[e]=!0,e}}),K.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Pt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=K.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Pt,"$1"+i):!1!==t.jsonp&&(t.url+=(ut.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||K.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Mt.push(i)),a&&K.isFunction(o)&&o(a[0]),a=o=undefined}),"script"}),K.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var r=ae.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=K.buildFragment([e],t,i),i&&i.length&&K(i).remove(),K.merge([],r.childNodes))};var Ot=K.fn.load;K.fn.load=function(e,t,n){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=K.trim(e.slice(s)),e=e.slice(0,s)),K.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(i="POST"),a.length>0&&K.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?K("<div>").append(K.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},K.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){K.fn[t]=function(e){return this.on(t,e)}}),K.expr.filters.animated=function(e){return K.grep(K.timers,function(t){return e===t.elem}).length};var jt=e.document.documentElement;K.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=K.css(e,"position"),d=K(e),p={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=K.css(e,"top"),l=K.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),K.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):d.css(p)}},K.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){K.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,K.contains(t,r)?(typeof r.getBoundingClientRect!==xe&&(i=r.getBoundingClientRect()),n=B(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===K.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),K.nodeName(e[0],"html")||(r=e.offset()),r.top+=K.css(e[0],"borderTopWidth",!0),r.left+=K.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-K.css(n,"marginTop",!0),left:t.left-r.left-K.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||jt;e&&!K.nodeName(e,"html")&&"static"===K.css(e,"position");)e=e.offsetParent;return e||jt})}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;K.fn[t]=function(i){return me(this,function(t,i,o){var a=B(t);if(o===undefined)return a?a[n]:t[i];a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o},t,i,arguments.length,null)}}),K.each(["top","left"],function(e,t){K.cssHooks[t]=k(J.pixelPosition,function(e,n){if(n)return n=_(e,t),Be.test(n)?K(e).position()[t]+"px":n})}),K.each({Height:"height",Width:"width"},function(e,t){K.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){K.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return me(this,function(t,n,r){var i;return K.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?K.css(t,n,a):K.style(t,n,r,a)},t,o?r:undefined,o,null)}})}),K.fn.size=function(){return this.length},K.fn.andSelf=K.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return K});var It=e.jQuery,Lt=e.$;return K.noConflict=function(t){return e.$===K&&(e.$=Lt),t&&e.jQuery===K&&(e.jQuery=It),K},typeof t===xe&&(e.jQuery=e.$=K),K}),function(){function e(e){var t="Array"===e&&ce.isArray||function(t,n){return(n||ve.call(t))==="[object "+e+"]"};return ke[e]=t}function t(e,t){function n(n){return h(n)?ve.call(n)==="[object "+t+"]":typeof n===e}return ke[t]=n}function n(e){e.SugarMethods||(s(e,"SugarMethods",{}),r(e,!1,!0,{extend:function(t,n,i){r(e,!1!==i,n,t)},sugarRestore:function(){return o(this,e,arguments,function(e,t,n){s(e,t,n.method)})},sugarRevert:function(){return o(this,e,arguments,function(e,t,n){n.existed?s(e,t,n.original):delete e[t]})}}))}function r(e,t,r,i){var o=t?e.prototype:e;n(e),v(i,function(n,i){var l=o[n],u=f(o,n);Me(r)&&l&&(i=a(l,i,r)),!1===r&&l||s(o,n,i),e.SugarMethods[n]={method:i,existed:u,original:l,instance:t}})}function i(e,t,n,i,o){var a={};i=Se(i)?i.split(","):i,i.forEach(function(e,t){o(a,e,t)}),r(e,t,n,a)}function o(e,t,n,r){var i=0===n.length,o=l(n),a=!1;return v(t.SugarMethods,function(t,n){(i||-1!==o.indexOf(t))&&(a=!0,r(n.instance?e.prototype:e,t,n))}),a}function a(e,t,n){return function(){return n.apply(this,arguments)?t.apply(this,arguments):e.apply(this,arguments)}}function s(e,t,n){be?ue.defineProperty(e,t,{value:n,configurable:!0,enumerable:!1,writable:!0}):e[t]=n}function l(e,t,n){var r=[];n=n||0;var i;for(i=e.length;n<i;n++)r.push(e[n]),t&&t.call(e,e[n],n);return r}function u(e,t,n){var r=e[n||0];Ee(r)&&(e=r,n=0),l(e,t,n)}function c(e){if(!e||!e.call)throw new TypeError("Callback is not callable")}function d(e){return void 0!==e}function p(e){return void 0===e}function f(e,t){return!!e&&ye.call(e,t)}function h(e){return!!e&&("object"==typeof e||we&&Ae(e))}function m(e){var t=typeof e;return null==e||"string"===t||"number"===t||"boolean"===t}function g(e,t){t=t||ve.call(e);try{if(e&&e.constructor&&!f(e,"constructor")&&!f(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!!e&&"[object Object]"===t&&"hasOwnProperty"in e}function v(e,t){for(var n in e)if(f(e,n)&&!1===t.call(e,n,e[n],e))break}function y(e,t){for(var n=0;n<e;n++)t(n)}function b(e,t){return v(t,function(n){e[n]=t[n]}),e}function w(e){if(m(e)&&(e=ue(e)),_e&&Se(e))for(var t,n=e,r=0;t=n.charAt(r);)n[r++]=t;return e}function _(e){b(this,w(e))}function k(){return"\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u2028\u2029\u3000\ufeff"}function $(e,t){var n="";for(e=e.toString();0<t;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n}function x(e,t){var n,r;return n=e.replace(Pe,function(e){return e=He[e],e===Ve&&(r=!0),e}),r?parseFloat(n):parseInt(n,t||10)}function C(e,t){function n(e,n){(e||-1<t.indexOf(n))&&(r+=n)}var r="";return t=t||"",n(e.multiline,"m"),n(e.ignoreCase,"i"),n(e.global,"g"),n(e.u,"y"),r}function T(e){return Se(e)||(e=fe(e)),e.replace(/([\\/\'*+?|()\[\]{}.^$])/g,"\\$1")}function S(e,t){var n,r,i,o,a,s,l,u=typeof e;if("string"===u)return e;if(i=ve.call(e),n=g(e,i),r=Ee(e,i),null!=e&&n||r){if(t||(t=[]),1<t.length)for(s=t.length;s--;)if(t[s]===e)return"CYC";for(t.push(e),n=e.valueOf()+fe(e.constructor),o=r?e:ue.keys(e).sort(),s=0,l=o.length;s<l;s++)a=r?s:o[s],n+=a+S(e[a],t);t.pop()}else n=-Infinity==1/e?"-0":fe(e&&e.valueOf?e.valueOf():e);return u+i+n}function E(e,t){return e===t?0!==e||1/e==1/t:!(!D(e)||!D(t))&&S(e)===S(t)}function D(e){var t=ve.call(e);return $e.test(t)||g(e,t)}function A(e,t,n){var r,i=e.length,o=t.length,a=!1!==t[o-1];return o>(a?1:2)?(r=[],l(t,function(t){if(Ce(t))return!1;r.push(M(e,i,t,a,n))}),r):M(e,i,t[0],a,n)}function M(e,t,n,r,i){return r&&0>(n%=t)&&(n=t+n),i?e.charAt(n):e[n]}function P(e,t){i(t,!0,!1,e,function(e,t){e[t+("equal"===t?"s":"")]=function(){return ue[t].apply(null,[this].concat(l(arguments)))}})}function O(e){return e=de(e),function(t){return e.test(t)}}function j(e){var t=e.getTime();return function(e){return!(!e||!e.getTime)&&e.getTime()===t}}function I(e){return function(t,n,r){return t===e||e.call(this,t,n,r)}}function L(e){return function(t,n,r){return t===e||e.call(r,n,t,r)}}function R(e,t){var n={};return function(r,i,o){var a;if(!h(r))return!1;for(a in e)if(n[a]=n[a]||F(e[a],t),!1===n[a].call(o,r[a],i,o))return!1;return!0}}function N(e){return function(t){return t===e||E(t,e)}}function F(e,t){if(!m(e)){if(Ae(e))return O(e);if(De(e))return j(e);if(Me(e))return t?L(e):I(e);if(g(e))return R(e,t)}return N(e)}function V(e,t,n,r){return t?t.apply?t.apply(n,r||[]):Me(e[t])?e[t].call(e):e[t]:e}function B(e,t,n,r){var i=+e.length;for(0>n&&(n=e.length+n),n=isNaN(n)?0:n,!0===r&&(i+=n);n<i;){if(!((r=n%e.length)in e)){H(e,t,n);break}if(!1===t.call(e,e[r],r,e))break;n++}}function H(e,t,n){var r,i=[];for(r in e)r in e&&r>>>0==r&&4294967295!=r&&r>=n&&i.push(parseInt(r));i.sort().each(function(n){return t.call(e,e[n],n,e)})}function U(e,t,n,r,i,o){var a,s,l;return 0<e.length&&(l=F(t),B(e,function(t,n){if(l.call(o,t,n,e))return a=t,s=n,!1},n,r)),i?s:a}function z(e,t){var n,r=[],i={};return B(e,function(o,a){n=t?V(o,t,e,[o,a,e]):o,X(i,n)||r.push(o)}),r}function q(e,t,n){var r=[],i={};return t.each(function(e){X(i,e)}),e.each(function(e){var t=S(e),o=!D(e);if(G(i,t,e,o)!==n){var a=0;if(o)for(t=i[t];a<t.length;)t[a]===e?t.splice(a,1):a+=1;else delete i[t];r.push(e)}}),r}function Y(e,t,n){t=t||Infinity,n=n||0;var r=[];return B(e,function(e){Ee(e)&&n<t?r=r.concat(Y(e,t,n+1)):r.push(e)}),r}function W(e){var t=[];return l(e,function(e){t=t.concat(e)}),t}function G(e,t,n,r){var i=t in e;return r&&(e[t]||(e[t]=[]),i=-1!==e[t].indexOf(n)),i}function X(e,t){var n=S(t),r=!D(t),i=G(e,n,t,r);return r?e[n].push(t):e[n]=t,i}function J(e,t,n,r){var i,o,a,s=[],l="max"===n,u="min"===n,c=ce.isArray(e);for(i in e)if(e.hasOwnProperty(i)){if(n=e[i],a=V(n,t,e,c?[n,parseInt(i),e]:[]),p(a))throw new TypeError("Cannot compare with undefined");a===o?s.push(n):(p(o)||l&&a>o||u&&a<o)&&(s=[n],o=a)}return c||(s=Y(s,1)),r?s:s[0]}function Q(e,t){var n,r,i,o,a=0,s=0;n=ce[Ye],r=ce[We];var l=ce[Ge],u=ce[qe],c=ce[Xe];e=Z(e,n,r),t=Z(t,n,r);do{n=e.charAt(a),i=l[n]||n,n=t.charAt(a),o=l[n]||n,n=i?u.indexOf(i):null,r=o?u.indexOf(o):null,-1===n||-1===r?(n=e.charCodeAt(a)||null,r=t.charCodeAt(a)||null,c&&(n>=Le&&n<=Re||n>=Ne&&n<=Fe)&&(r>=Le&&r<=Re||r>=Ne&&r<=Fe)&&(n=x(e.slice(a)),r=x(t.slice(a)))):(i=i!==e.charAt(a),o=o!==t.charAt(a),i!==o&&0===s&&(s=i-o)),a+=1}while(null!=n&&null!=r&&n===r);return n===r?s:n-r}function Z(e,t,n){return Se(e)||(e=fe(e)),n&&(e=e.toLowerCase()),t&&(e=e.replace(t,"")),e}function K(e,t){i(ue,!1,!0,e,function(e,n){e[n]=function(e,r,i){var o,a=ue.keys(w(e));return t||(o=F(r,!0)),i=ce.prototype[n].call(a,function(n){var i=e[n];return t?V(i,r,e,[n,i,e]):o(i,n,e)},i),Ee(i)&&(i=i.reduce(function(t,n){return t[n]=e[n],t},{})),i}}),P(e,_)}function ee(e,t,n,r){var i,o,a;(o=t.match(/^(.+?)(\[.*\])$/))?(a=o[1],t=o[2].replace(/^\[|\]$/g,"").split("]["),t.forEach(function(t){i=!t||t.match(/^\d+$/),!a&&Ee(e)&&(a=e.length),f(e,a)||(e[a]=i?[]:{}),e=e[a],a=t}),!a&&i&&(a=e.length.toString()),ee(e,a,n,r)):e[t]=!(!r||"true"!==n)||(!r||"false"!==n)&&n}function te(e,t){var n;return Ee(t)||h(t)&&t.toString===ve?(n=[],v(t,function(t,r){e&&(t=e+"["+t+"]"),n.push(te(t,r))}),n.join("&")):e?ne(e)+"="+(De(t)?t.getTime():ne(t)):""}function ne(e){return e||!1===e||0===e?encodeURIComponent(e).replace(/%20/g,"+"):""}function re(e,t,n){var r,i=e instanceof _?new _:{};return v(e,function(e,o){r=!1,u(t,function(t){(Ae(t)?t.test(e):h(t)?t[e]===o:e===fe(t))&&(r=!0)},1),r===n&&(i[e]=o)}),i}function ie(e){if(0>(e=+e)||Infinity===e)throw new RangeError("Invalid number");return e}function oe(e,t){return $(d(t)?t:" ",e)}function ae(e,t,n,r,i){var o;if(e.length<=t)return e.toString();switch(r=p(r)?"...":r,n){case"left":return e=i?se(e,t,!0):e.slice(e.length-t),r+e;case"middle":return n=Oe(t/2),o=je(t/2),t=i?se(e,n):e.slice(0,n),e=i?se(e,o,!0):e.slice(e.length-o),t+r+e;default:return(t=i?se(e,t):e.slice(0,t))+r}}function se(e,t,n){if(n)return se(e.reverse(),t).reverse();n=de("(?=["+k()+"])");var r=0;return e.split(n).filter(function(e){return(r+=e.length)<=t}).join("")}function le(e,t,n){return Se(t)&&-1===(t=e.indexOf(t))&&(t=n?e.length:0),t}var ue=Object,ce=Array,de=RegExp,pe=Date,fe=String,he=Number,me=Math,ge="undefined"!=typeof global?global:this,ve=ue.prototype.toString,ye=ue.prototype.hasOwnProperty,be=ue.defineProperty&&ue.defineProperties,we="function"==typeof de(),_e=!("0"in new fe("a")),ke={},$e=/^\[object Date|Array|String|Number|RegExp|Boolean|Arguments\]$/,xe="Boolean Number String Array Date RegExp Function".split(" "),Ce=t("boolean",xe[0]),Te=t("number",xe[1]),Se=t("string",xe[2]),Ee=e(xe[3]),De=e(xe[4]),Ae=e(xe[5]),Me=e(xe[6]);_.prototype.constructor=ue;var Pe,Oe=(me.abs,me.pow,me.ceil),je=me.floor,Ie=(me.round,me.min,me.max),Le=48,Re=57,Ne=65296,Fe=65305,Ve=".",Be="",He={};n(ue),v(xe,function(e,t){n(ge[t])});var Ue,ze;for(ze=0;9>=ze;ze++)Ue=fe.fromCharCode(ze+Ne),Be+=Ue,He[Ue]=fe.fromCharCode(ze+Le);He[","]="",He["\uff0e"]=Ve,He[Ve]=Ve,Pe=de("["+Be+"\uff0e,"+Ve+"]","g");var qe="AlphanumericSortOrder",Ye="AlphanumericSortIgnore",We="AlphanumericSortIgnoreCase",Ge="AlphanumericSortEquivalents",Xe="AlphanumericSortNatural";r(ce,!1,!0,{create:function(){var e=[];return l(arguments,function(t){(!m(t)&&"length"in t&&("[object Arguments]"===ve.call(t)||t.callee)||!m(t)&&"length"in t&&!Se(t)&&!g(t))&&(t=ce.prototype.slice.call(t,0)),e=e.concat(t)}),e}}),r(ce,!0,!1,{find:function(e,t){return c(e),U(this,e,0,!1,!1,t)},findIndex:function(e,t){var n;return c(e),n=U(this,e,0,!1,!0,t),p(n)?-1:n}}),r(ce,!0,!0,{findFrom:function(e,t,n){return U(this,e,t,n)},findIndexFrom:function(e,t,n){return t=U(this,e,t,n,!0),p(t)?-1:t},findAll:function(e,t,n){var r,i=[];return 0<this.length&&(r=F(e),B(this,function(e,t,n){r(e,t,n)&&i.push(e)},t,n)),i},count:function(e){return p(e)?this.length:this.findAll(e).length},removeAt:function(e,t){return p(e)?this:(p(t)&&(t=e),this.splice(e,t-e+1),this)},include:function(e,t){return this.clone().add(e,t)},exclude:function(){return ce.prototype.remove.apply(this.clone(),arguments)},clone:function(){return b([],this)},unique:function(e){return z(this,e)},flatten:function(e){return Y(this,e)},union:function(){return z(this.concat(W(arguments)))},intersect:function(){return q(this,W(arguments),!1)},subtract:function(){return q(this,W(arguments),!0)},at:function(){return A(this,arguments)},first:function(e){return p(e)?this[0]:(0>e&&(e=0),this.slice(0,e))},last:function(e){return p(e)?this[this.length-1]:this.slice(0>this.length-e?0:this.length-e)},from:function(e){return this.slice(e)},to:function(e){return p(e)&&(e=this.length),this.slice(0,e)},min:function(e,t){return J(this,e,"min",t)},max:function(e,t){return J(this,e,"max",t)},least:function(e,t){return J(this.groupBy.apply(this,[e]),"length","min",t)},most:function(e,t){return J(this.groupBy.apply(this,[e]),"length","max",t)},sum:function(e){return e=e?this.map(e):this,0<e.length?e.reduce(function(e,t){return e+t}):0},average:function(e){return e=e?this.map(e):this,0<e.length?e.sum()/e.length:0},inGroups:function(e,t){var n=1<arguments.length,r=this,i=[],o=Oe(this.length/e);return y(e,function(e){e*=o;var a=r.slice(e,e+o);n&&a.length<o&&y(o-a.length,function(){a=a.add(t)}),i.push(a)}),i},inGroupsOf:function(e,t){var n,r=[],i=this.length,o=this;return 0===i||0===e?o:(p(e)&&(e=1),p(t)&&(t=null),y(Oe(i/e),function(i){for(n=o.slice(e*i,e*i+e);n.length<e;)n.push(t);r.push(n)}),r)},isEmpty:function(){return 0==this.compact().length},sortBy:function(e,t){var n=this.clone();return n.sort(function(r,i){var o,a;return o=V(r,e,n,[r]),a=V(i,e,n,[i]),(Se(o)&&Se(a)?Q(o,a):o<a?-1:o>a?1:0)*(t?-1:1)}),n},randomize:function(){for(var e,t,n=this.concat(),r=n.length;r;)e=me.random()*r|0,t=n[--r],n[r]=n[e],n[e]=t;return n},zip:function(){var e=l(arguments);return this.map(function(t,n){return[t].concat(e.map(function(e){return n in e?e[n]:null}))})},sample:function(e){var t=this.randomize();return 0<arguments.length?t.slice(0,e):t[0]},each:function(e,t,n){return B(this,e,t,n),this},add:function(e,t){return Te(he(t))&&!isNaN(t)||(t=this.length),ce.prototype.splice.apply(this,[t,0].concat(e)),this},remove:function(){var e=this;return l(arguments,function(t){var n=0;for(t=F(t);n<e.length;)t(e[n],n,e)?e.splice(n,1):n++}),e},compact:function(e){var t=[];return B(this,function(n){Ee(n)?t.push(n.compact()):e&&n?t.push(n):e||null==n||n.valueOf()!==n.valueOf()||t.push(n)}),t},groupBy:function(e,t){var n,r=this,i={};return B(r,function(t,o){n=V(t,e,r,[t,o,r]),i[n]||(i[n]=[]),i[n].push(t)}),t&&v(i,t),i},none:function(){return!this.any.apply(this,arguments)}}),r(ce,!0,!0,{all:ce.prototype.every,any:ce.prototype.some,insert:ce.prototype.add}),r(ue,!1,!0,{map:function(e,t){var n,r,i={};for(n in e)f(e,n)&&(r=e[n],i[n]=V(r,t,e,[n,r,e]));return i},reduce:function(e){var t=ue.keys(w(e)).map(function(t){return e[t]});return t.reduce.apply(t,l(arguments,null,1))},each:function(e,t){return c(t),v(e,t),e},size:function(e){return ue.keys(w(e)).length}});var Je="any all none count find findAll isEmpty".split(" "),Qe="sum average min max least most".split(" "),Ze=["map","reduce","size"],Ke=Je.concat(Qe).concat(Ze);!function(){function e(){var e=arguments;return 0<e.length&&!Me(e[0])}var t=ce.prototype.map;i(ce,!0,e,"every,all,some,filter,any,none,find,findIndex",function(e,t){var n=ce.prototype[t];e[t]=function(e){var t=F(e);return n.call(this,function(e,n){return t(e,n,this)})}}),r(ce,!0,e,{map:function(e){return t.call(this,function(t,n){return V(t,e,this,[t,n,this])})}})}(),function(){ce[qe]="A\xc1\xc0\xc2\xc3\u0104BC\u0106\u010c\xc7D\u010e\xd0E\xc9\xc8\u011a\xca\xcb\u0118FG\u011eH\u0131I\xcd\xcc\u0130\xce\xcfJKL\u0141MN\u0143\u0147\xd1O\xd3\xd2\xd4PQR\u0158S\u015a\u0160\u015eT\u0164U\xda\xd9\u016e\xdb\xdcVWXY\xddZ\u0179\u017b\u017d\xde\xc6\u0152\xd8\xd5\xc5\xc4\xd6".split("").map(function(e){return e+e.toLowerCase()}).join("");var e={};B("A\xc1\xc0\xc2\xc3\xc4 C\xc7 E\xc9\xc8\xca\xcb I\xcd\xcc\u0130\xce\xcf O\xd3\xd2\xd4\xd5\xd6 S\xdf U\xda\xd9\xdb\xdc".split(" "),function(t){var n=t.charAt(0)
;B(t.slice(1).split(""),function(t){e[t]=n,e[t.toLowerCase()]=n.toLowerCase()})}),ce[Xe]=!0,ce[We]=!0,ce[Ge]=e}(),K(Je),K(Qe,!0),P(Ze,_),ce.AlphanumericSort=Q;var et=["isObject","isNaN"],tt="keys values select reject each merge clone equal watch tap has toQueryString".split(" ");r(ue,!1,!0,{watch:function(e,t,n){if(be){var r=e[t];ue.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return r},set:function(i){r=n.call(e,t,r,i)}})}}}),r(ue,!1,function(){return 1<arguments.length},{keys:function(e,t){var n=ue.keys(e);return n.forEach(function(n){t.call(e,n,e[n])}),n}}),r(ue,!1,!0,{isObject:function(e){return g(e)},isNaN:function(e){return Te(e)&&e.valueOf()!==e.valueOf()},equal:function(e,t){return E(e,t)},extended:function(e){return new _(e)},merge:function(e,t,n,r){var i,o,a,s,l,u,c;if(e&&"string"!=typeof t)for(i in t)if(f(t,i)&&e){if(s=t[i],l=e[i],u=d(l),o=h(s),a=h(l),c=u&&!1===r?l:s,u&&Me(r)&&(c=r.call(t,i,l,s)),n&&(o||a))if(De(s))c=new pe(s.getTime());else{if(!Ae(s)){a||(e[i]=ce.isArray(s)?[]:{}),ue.merge(e[i],s,n,r);continue}c=new de(s.source,C(s))}e[i]=c}return e},values:function(e,t){var n=[];return v(e,function(r,i){n.push(i),t&&t.call(e,i)}),n},clone:function(e,t){var n;if(!h(e))return e;if(n=ve.call(e),De(e,n)&&e.clone)return e.clone();if(De(e,n)||Ae(e,n))return new e.constructor(e);if(e instanceof _)n=new _;else if(Ee(e,n))n=[];else{if(!g(e,n))throw new TypeError("Clone must be a basic data type.");n={}}return ue.merge(n,e,t)},fromQueryString:function(e,t){var n=ue.extended();return e=e&&e.toString?e.toString():"",e.replace(/^.*?\?/,"").split("&").forEach(function(e){e=e.split("="),2===e.length&&ee(n,e[0],decodeURIComponent(e[1]),t)}),n},toQueryString:function(e,t){return te(t,e)},tap:function(e,t){var n=t;return Me(t)||(n=function(){t&&e[t]()}),n.call(e,e),e},has:function(e,t){return f(e,t)},select:function(e){return re(e,arguments,!0)},reject:function(e){return re(e,arguments,!1)}}),i(ue,!1,!0,xe,function(e,t){var n="is"+t;et.push(n),e[n]=ke[t]}),r(ue,!1,function(){return 0===arguments.length},{extend:function(){var e=et.concat(tt);void 0!==Ke&&(e=e.concat(Ke)),P(e,ue)}}),P(tt,_);var nt,rt;r(fe,!0,!1,{repeat:function(e){return e=ie(e),$(this,e)}}),r(fe,!0,function(e){return Ae(e)||2<arguments.length},{startsWith:function(e){var t=arguments,n=t[1],t=t[2],r=this;return n&&(r=r.slice(n)),p(t)&&(t=!0),n=Ae(e)?e.source.replace("^",""):T(e),de("^"+n,t?"":"i").test(r)},endsWith:function(e){var t=arguments,n=t[1],t=t[2],r=this;return d(n)&&(r=r.slice(0,n)),p(t)&&(t=!0),n=Ae(e)?e.source.replace("$",""):T(e),de(n+"$",t?"":"i").test(r)}}),r(fe,!0,!0,{escapeRegExp:function(){return T(this)},escapeURL:function(e){return e?encodeURIComponent(this):encodeURI(this)},unescapeURL:function(e){return e?decodeURI(this):decodeURIComponent(this)},escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2f;")},unescapeHTML:function(){return this.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#x2f;/g,"/").replace(/&amp;/g,"&")},encodeBase64:function(){return nt(unescape(encodeURIComponent(this)))},decodeBase64:function(){return decodeURIComponent(escape(rt(this)))},each:function(e,t){var n,r,i;if(Me(e)?(t=e,e=/[\s\S]/g):e?Se(e)?e=de(T(e),"gi"):Ae(e)&&(e=de(e.source,C(e,"g"))):e=/[\s\S]/g,n=this.match(e)||[],t)for(r=0,i=n.length;r<i;r++)n[r]=t.call(this,n[r],r,n)||n[r];return n},shift:function(e){var t="";return e=e||0,this.codes(function(n){t+=fe.fromCharCode(n+e)}),t},codes:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++){var i=this.charCodeAt(t);r.push(i),e&&e.call(this,i,t)}return r},chars:function(e){return this.each(e)},words:function(e){return this.trim().each(/\S+/g,e)},lines:function(e){return this.trim().each(/^.*$/gm,e)},paragraphs:function(e){var t=this.trim().split(/[\r\n]{2,}/);return t=t.map(function(t){if(e)var n=e.call(t);return n||t})},isBlank:function(){return 0===this.trim().length},has:function(e){return-1!==this.search(Ae(e)?e:T(e))},add:function(e,t){return t=p(t)?this.length:t,this.slice(0,t)+e+this.slice(t)},remove:function(e){return this.replace(e,"")},reverse:function(){return this.split("").reverse().join("")},compact:function(){return this.trim().replace(/([\r\n\s\u3000])+/g,function(e,t){return"\u3000"===t?t:" "})},at:function(){return A(this,arguments,!0)},from:function(e){return this.slice(le(this,e,!0))},to:function(e){return p(e)&&(e=this.length),this.slice(0,le(this,e))},dasherize:function(){return this.underscore().replace(/_/g,"-")},underscore:function(){return this.replace(/[-\s]+/g,"_").replace(fe.Inflector&&fe.Inflector.acronymRegExp,function(e,t){return(0<t?"_":"")+e.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},camelize:function(e){return this.underscore().replace(/(^|_)([^_]+)/g,function(t,n,r,i){return t=(t=fe.Inflector)&&t.acronyms[r],t=Se(t)?t:void 0,i=!1!==e||0<i,t?i?t:t.toLowerCase():i?r.capitalize():r})},spacify:function(){return this.underscore().replace(/_/g," ")},stripTags:function(){var e=this;return u(0<arguments.length?arguments:[""],function(t){e=e.replace(de("</?"+T(t)+"[^<>]*>","gi"),"")}),e},removeTags:function(){var e=this;return u(0<arguments.length?arguments:["\\S+"],function(t){t=de("<("+t+")[^<>]*(?:\\/>|>.*?<\\/\\1>)","gi"),e=e.replace(t,"")}),e},truncate:function(e,t,n){return ae(this,e,t,n)},truncateOnWord:function(e,t,n){return ae(this,e,t,n,!0)},pad:function(e,t){var n,r;return e=ie(e),n=Ie(0,e-this.length)/2,r=je(n),n=Oe(n),oe(r,t)+this+oe(n,t)},padLeft:function(e,t){return e=ie(e),oe(Ie(0,e-this.length),t)+this},padRight:function(e,t){return e=ie(e),this+oe(Ie(0,e-this.length),t)},first:function(e){return p(e)&&(e=1),this.substr(0,e)},last:function(e){return p(e)&&(e=1),this.substr(0>this.length-e?0:this.length-e)},toNumber:function(e){return x(this,e)},capitalize:function(e){var t;return this.toLowerCase().replace(e?/[^']/g:/^\S/,function(e){var n,r=e.toUpperCase();return n=t?e:r,t=r!==e,n})},assign:function(){var e={};return u(arguments,function(t,n){h(t)?b(e,t):e[n+1]=t}),this.replace(/\{([^{]+?)\}/g,function(t,n){return f(e,n)?e[n]:t})}}),r(fe,!0,!0,{insert:fe.prototype.add}),function(e){if(ge.btoa)nt=ge.btoa,rt=ge.atob;else{var t=/[^A-Za-z0-9\+\/\=]/g;nt=function(t){var n,r,i,o,a,s,l="",u=0;do{n=t.charCodeAt(u++),r=t.charCodeAt(u++),i=t.charCodeAt(u++),o=n>>2,n=(3&n)<<4|r>>4,a=(15&r)<<2|i>>6,s=63&i,isNaN(r)?a=s=64:isNaN(i)&&(s=64),l=l+e.charAt(o)+e.charAt(n)+e.charAt(a)+e.charAt(s)}while(u<t.length);return l},rt=function(n){var r,i,o,a,s,l="",u=0;if(n.match(t))throw Error("String contains invalid base64 characters");n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{r=e.indexOf(n.charAt(u++)),i=e.indexOf(n.charAt(u++)),a=e.indexOf(n.charAt(u++)),s=e.indexOf(n.charAt(u++)),r=r<<2|i>>4,i=(15&i)<<4|a>>2,o=(3&a)<<6|s,l+=fe.fromCharCode(r),64!=a&&(l+=fe.fromCharCode(i)),64!=s&&(l+=fe.fromCharCode(o))}while(u<n.length);return l}}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")}(),function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?be(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.4.14/"+(e?e+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(be(o[r]));return new t(s)}}function i(e){if(null==e||E(e))return!1;if(zr(e)||$(e)||Pr&&e instanceof Pr)return!0;var t="length"in Object(e)&&e.length;return x(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function o(e,t,n){var r,a;if(e)if(T(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(zr(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;r<a;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(k(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)Sr.call(e,r)&&t.call(n,e[r],r,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function l(){return++Hr}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function c(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if(_(a)||T(a))for(var s=Object.keys(a),l=0,d=s.length;l<d;l++){var p=s[l],f=a[p];n&&_(f)?C(f)?e[p]=new Date(f.valueOf()):S(f)?e[p]=new RegExp(f):f.nodeName?e[p]=f.cloneNode(!0):L(f)?e[p]=f.clone():(_(e[p])||(e[p]=zr(f)?[]:{}),c(e[p],[f],!0)):e[p]=f}}return u(e,r),e}function d(e){return c(e,Ir.call(arguments,1),!1)}function p(e){return c(e,Ir.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function h(e,t){return d(Object.create(e),t)}function m(){}function g(e){return e}function v(e){return function(){return e}}function y(e){return T(e.toString)&&e.toString!==Nr}function b(e){return void 0===e}function w(e){return void 0!==e}function _(e){return null!==e&&"object"==typeof e}function k(e){return null!==e&&"object"==typeof e&&!Fr(e)}function $(e){return"string"==typeof e}function x(e){return"number"==typeof e}function C(e){return"[object Date]"===Nr.call(e)}function T(e){return"function"==typeof e}function S(e){return"[object RegExp]"===Nr.call(e)}function E(e){return e&&e.window===e}function D(e){return e&&e.$evalAsync&&e.$watch}function A(e){return"[object File]"===Nr.call(e)}function M(e){return"[object FormData]"===Nr.call(e)}function P(e){return"[object Blob]"===Nr.call(e)}function O(e){return"boolean"==typeof e}function j(e){return e&&T(e.then)}function I(e){return e&&x(e.length)&&qr.test(Nr.call(e))}function L(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function R(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function N(e){return Tr(e.nodeName||e[0]&&e[0].nodeName)}function F(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function V(e,t){function n(e,t){var n,i=t.$$hashKey;if(zr(e))for(var o=0,a=e.length;o<a;o++)t.push(r(e[o]));else if(k(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)Sr.call(e,n)&&(t[n]=r(e[n]));return u(t,i),t}function r(e){if(!_(e))return e;var t=i.indexOf(e);if(-1!==t)return a[t];if(E(e)||D(e))throw Vr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r,o=!1;return zr(e)?(r=[],o=!0):I(e)?r=new e.constructor(e):C(e)?r=new Date(e.getTime()):S(e)?(r=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),r.lastIndex=e.lastIndex):P(e)?r=new e.constructor([e],{type:e.type}):T(e.cloneNode)?r=e.cloneNode(!0):(r=Object.create(Fr(e)),o=!0),i.push(e),a.push(r),o?n(e,r):r}var i=[],a=[];if(t){if(I(t))throw Vr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Vr("cpi","Can't copy! Source and destination are identical.");return zr(t)?t.length=0:o(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),i.push(e),a.push(t),n(e,t)}return r(e)}function B(e,t){if(zr(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(_(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function H(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o==a&&"object"==o){if(!zr(e)){if(C(e))return!!C(t)&&H(e.getTime(),t.getTime());if(S(e))return!!S(t)&&e.toString()==t.toString();if(D(e)||D(t)||E(e)||E(t)||zr(t)||C(t)||S(t))return!1;i=ge();for(r in e)if("$"!==r.charAt(0)&&!T(e[r])){if(!H(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&w(t[r])&&!T(t[r]))return!1;return!0}if(!zr(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!H(e[r],t[r]))return!1;return!0}}return!1}function U(e,t,n){return e.concat(Ir.call(t,n))}function z(e,t){return Ir.call(e,t||0)}function q(e,t){var n=arguments.length>2?z(arguments,2):[];return!T(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,U(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function Y(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:E(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":D(r)&&(i="$SCOPE"),i}function W(e,t){return b(e)?n:(x(t)||(t=t?2:null),JSON.stringify(e,Y,t))}function G(e){return $(e)?JSON.parse(e):e}function X(e,t){e=e.replace(Jr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function J(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Q(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return J(e,n*(X(t,r)-r))}function Z(e){e=Pr(e).clone();try{e.empty()}catch(e){}var t=Pr("<div>").append(e).html();try{return e[0].nodeType===ni?Tr(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Tr(t)})}catch(e){return Tr(t)}}function K(e){try{return decodeURIComponent(e)}catch(e){}}function ee(e){var t={};return o((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=K(r),w(r)&&(i=!w(i)||K(i),Sr.call(t,r)?zr(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function te(e){var t=[];return o(e,function(e,n){zr(e)?o(e,function(e){t.push(re(n,!0)+(!0===e?"":"="+re(e,!0)))}):t.push(re(n,!0)+(!0===e?"":"="+re(e,!0)))}),t.length?t.join("&"):""}function ne(e){return re(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function re(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ie(e,t){var n,r,i=Qr.length;for(r=0;r<i;++r)if(n=Qr[r]+t,$(n=e.getAttribute(n)))return n;return null}function oe(e,t){var n,r,i={};o(Qr,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),o(Qr,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==ie(n,"strict-di"),t(n,r?[r]:[],i))}function ae(n,r,i){_(i)||(i={}),i=d({strictDi:!1},i);var a=function(){if(n=Pr(n),n.injector()){var e=n[0]===t?"document":Z(n);throw Vr("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var o=tt(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;if(e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name))return a();e.name=e.name.replace(l,""),Br.resumeBootstrap=function(e){return o(e,function(e){r.push(e)}),a()},T(Br.resumeDeferredBootstrap)&&Br.resumeDeferredBootstrap()}function se(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function le(e){var t=Br.element(e).injector();if(!t)throw Vr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ue(e,t){return t=t||"_",e.replace(Zr,function(e,n){return(n?t:"")+e.toLowerCase()})}function ce(){var t;if(!Kr){var r=Xr();Or=b(r)?e.jQuery:r?e[r]:n,Or&&Or.fn.on?(Pr=Or,d(Or.fn,{scope:_i.scope,isolateScope:_i.isolateScope,controller:_i.controller,injector:_i.injector,inheritedData:_i.inheritedData}),t=Or.cleanData,Or.cleanData=function(e){var n;if(Ur)Ur=!1;else for(var r,i=0;null!=(r=e[i]);i++)(n=Or._data(r,"events"))&&n.$destroy&&Or(r).triggerHandler("$destroy");t(e)}):Pr=De,Br.element=Pr,Kr=!0}}function de(e,t,n){if(!e)throw Vr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function pe(e,t,n){return n&&zr(e)&&(e=e[e.length-1]),de(T(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function fe(e,t){if("hasOwnProperty"===e)throw Vr("badname","hasOwnProperty is not a valid {0} name",t)}function he(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&T(e)?q(o,e):e}function me(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Pr(Ir.call(e,0,i))),t.push(n));return t||e}function ge(){return Object.create(null)}function ve(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||r,t(o,"module",function(){var e={};return function(r,o,a){return function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)}(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),c}}function t(e,t){return function(n,o){return o&&T(o)&&(o.$$moduleName=r),i.push([e,t,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var i=[],s=[],l=[],u=e("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:u,run:function(e){return l.push(e),this}};return a&&u(a),c})}})}function ye(e){var t=[];return JSON.stringify(e,function(e,n){if(n=Y(e,n),_(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function be(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):b(e)?"undefined":"string"!=typeof e?ye(e):e}function we(t){d(t,{bootstrap:ae,copy:V,extend:d,merge:p,equals:H,element:Pr,forEach:o,injector:tt,noop:m,bind:q,toJson:W,fromJson:G,identity:g,isUndefined:b,isDefined:w,isString:$,isFunction:T,isObject:_,isNumber:x,isElement:L,isArray:zr,version:ai,isDate:C,lowercase:Tr,uppercase:Er,callbacks:{counter:0},getTestability:le,$$minErr:r,$$csp:Gr,reloadWithDebugInfo:se}),(jr=ve(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:wn}),e.provider("$compile",dt).directive({a:To,input:qo,textarea:qo,form:Mo,script:Ra,select:Va,style:Ha,option:Ba,ngBind:Go,ngBindHtml:Jo,ngBindTemplate:Xo,ngClass:Zo,ngClassEven:ea,ngClassOdd:Ko,ngCloak:ta,ngController:na,ngForm:Po,ngHide:Ma,ngIf:oa,ngInclude:aa,ngInit:la,ngNonBindable:ka,ngPluralize:Ta,ngRepeat:Sa,ngShow:Aa,ngStyle:Pa,ngSwitch:Oa,ngSwitchWhen:ja,ngSwitchDefault:Ia,ngOptions:Ca,ngTransclude:La,ngModel:ba,ngList:ua,ngChange:Qo,pattern:za,ngPattern:za,required:Ua,ngRequired:Ua,minlength:Ya,ngMinlength:Ya,maxlength:qa,ngMaxlength:qa,ngValue:Wo,ngModelOptions:_a}).directive({ngInclude:sa}).directive(So).directive(ra),e.provider({$anchorScroll:nt,$animate:Li,$animateCss:Fi,$$animateJs:ji,$$animateQueue:Ii,$$AnimateRunner:Ni,$$animateAsyncRun:Ri,$browser:lt,$cacheFactory:ut,$controller:gt,$document:vt,$exceptionHandler:yt,$filter:jn,$$forceReflow:zi,$interpolate:Pt,$interval:Ot,$http:Et,$httpParamSerializer:wt,$httpParamSerializerJQLike:_t,$httpBackend:At,$xhrFactory:Dt,$location:Wt,$log:Gt,$parse:hn,$rootScope:bn,$q:mn,$$q:gn,$sce:xn,$sceDelegate:$n,$sniffer:Cn,$templateCache:ct,$templateRequest:Tn,$$testability:Sn,$timeout:En,$window:Mn,$$rAF:yn,$$jqLite:Je,$$HashMap:Ci,$$cookieReader:On})}])}function _e(){return++li}function ke(e){return e.replace(di,function(e,t,n,r){return r?n.toUpperCase():n}).replace(pi,"Moz$1")}function $e(e){return!gi.test(e)}function xe(e){var t=e.nodeType;return t===ei||!t||t===ii}function Ce(e){for(var t in si[e.ng339])return!0;return!1}function Te(e,t){var n,r,i,a,s=t.createDocumentFragment(),l=[];if($e(e))l.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(vi.exec(e)||["",""])[1].toLowerCase(),i=bi[r]||bi._default,n.innerHTML=i[1]+e.replace(yi,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;l=U(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(l,function(e){s.appendChild(e)}),s}function Se(e,n){n=n||t;var r;return(r=mi.exec(e))?[n.createElement(r[1])]:(r=Te(e,n))?r.childNodes:[]}function Ee(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function De(e){if(e instanceof De)return e;var t;if($(e)&&(e=Yr(e),t=!0),!(this instanceof De)){if(t&&"<"!=e.charAt(0))throw hi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new De(e)}t?Fe(this,Se(e)):Fe(this,e)}function Ae(e){return e.cloneNode(!0)}function Me(e,t){if(t||Oe(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;r<i;r++)Oe(n[r])}function Pe(e,t,n,r){if(w(r))throw hi("offargs","jqLite#off() does not support the `selector` argument");var i=je(e),a=i&&i.events,s=i&&i.handle;if(s)if(t){var l=function(t){var r=a[t];w(n)&&F(r||[],n),w(n)&&r&&r.length>0||(ci(e,t,s),delete a[t])};o(t.split(" "),function(e){l(e),fi[e]&&l(fi[e])})}else for(t in a)"$destroy"!==t&&ci(e,t,s),delete a[t]}function Oe(e,t){var r=e.ng339,i=r&&si[r];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Pe(e)),delete si[r],e.ng339=n}}function je(e,t){var r=e.ng339,i=r&&si[r];return t&&!i&&(e.ng339=r=_e(),i=si[r]={events:{},data:{},handle:n}),i}function Ie(e,t,n){if(xe(e)){var r=w(n),i=!r&&t&&!_(t),o=!t,a=je(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];d(s,t)}}}function Le(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function Re(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",Yr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Yr(t)+" "," ")))})}function Ne(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=Yr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Yr(n))}}function Fe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Ve(e,t){return Be(e,"$"+(t||"ngController")+"Controller")}function Be(e,t,n){e.nodeType==ii&&(e=e.documentElement);for(var r=zr(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(w(n=Pr.data(e,r[i])))return n;e=e.parentNode||e.nodeType===oi&&e.host}}function He(e){for(Me(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ue(e,t){t||Me(e);var n=e.parentNode;n&&n.removeChild(e)}function ze(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Pr(n).on("load",t)}function qe(e,t){var n=ki[t.toLowerCase()];return n&&$i[N(e)]&&n}function Ye(e){return xi[e]}function We(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||Ge;o>1&&(i=B(i));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function Ge(e,t,n){n.call(e,t)}function Xe(e,t,n){var r=t.relatedTarget;r&&(r===e||wi.call(e,r))||n.call(e,t)}function Je(){this.$get=function(){return d(De,{hasClass:function(e,t){return e.attr&&(e=e[0]),Le(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ne(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Re(e,t)}})}}function Qe(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||l)():r+":"+e}function Ze(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Ke(e){var t=e.toString().replace(Di,""),n=t.match(Ti);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function et(e,t,n){var r,i,a,s;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw $(n)&&n||(n=e.name||Ke(e)),Ai("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=e.toString().replace(Di,""),a=i.match(Ti),o(a[1].split(Si),function(e){e.replace(Ei,function(e,t,n){r.push(n)})})}e.$inject=r}}else zr(e)?(s=e.length-1,pe(e[s],"fn"),r=e.slice(0,s)):pe(e,"fn",!0);return r}function tt(e,t){function r(e){return function(t,n){if(!_(t))return e(t,n);o(t,s(e))}}function i(e,t){if(fe(e,"service"),(T(t)||zr(t))&&(t=x.instantiate(t)),!t.$get)throw Ai("pget","Provider '{0}' must define $get factory method.",e);return k[e+g]=t}function a(e,t){return function(){var n=S.invoke(t,this);if(b(n))throw Ai("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function l(e,t,n){return i(e,{$get:!1!==n?a(e,t):t})}function u(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return l(e,v(t),!1)}function d(e,t){fe(e,"constant"),k[e]=t,C[e]=t}function p(e,t){var n=x.get(e+g),r=n.$get;n.$get=function(){var e=S.invoke(r,n);return S.invoke(t,null,{$delegate:e})}}function f(e){de(b(e)||zr(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=x.get(r[0]);i[r[1]].apply(i,r[2])}}if(!w.get(e)){w.put(e,!0);try{$(e)?(t=jr(e),n=n.concat(f(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):T(e)?n.push(x.invoke(e)):zr(e)?n.push(x.invoke(e)):pe(e,"module")}catch(t){throw zr(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Ai("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function h(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===m)throw Ai("cdep","Circular dependency found: {0}",t+" <- "+y.join(" <- "));return e[t]}try{return y.unshift(t),e[t]=m,e[t]=n(t,r)}catch(n){throw e[t]===m&&delete e[t],n}finally{y.shift()}}function i(e,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,l,u=[],c=tt.$$annotate(e,t,o);for(s=0,a=c.length;s<a;s++){if("string"!=typeof(l=c[s]))throw Ai("itkn","Incorrect injection token! Expected service name as string, got {0}",l);u.push(i&&i.hasOwnProperty(l)?i[l]:r(l,o))}return zr(e)&&(e=e[a]),e.apply(n,u)}function o(e,t,n){var r=Object.create((zr(e)?e[e.length-1]:e).prototype||null),o=i(e,r,t,n);return _(o)||T(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:tt.$$annotate,has:function(t){return k.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=!0===t;var m={},g="Provider",y=[],w=new Ze([],!0),k={$provide:{provider:r(i),factory:r(l),service:r(u),value:r(c),constant:r(d),decorator:p}},x=k.$injector=h(k,function(e,t){throw Br.isString(t)&&y.push(t),Ai("unpr","Unknown provider: {0}",y.join(" <- "))}),C={},S=C.$injector=h(C,function(e,t){var r=x.get(e+g,t);return S.invoke(r.$get,r,n,e)});return o(f(e),function(e){e&&S.invoke(e)}),S}function nt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===N(e))return t=e,!0}),t}function o(){var e=s.yOffset;if(T(e))e=e();else if(L(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else x(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=$(e)?e:n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=i(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||ze(function(){r.$evalAsync(s)})}),s}]}function rt(e,t){return e||t?e?t?(zr(e)&&(e=e.join(" ")),zr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function it(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Pi)return n}}function ot(e){$(e)&&(e=e.split(" "));var t=ge();return o(e,function(e){e.length&&(t[e]=!0)}),t}function at(e){return _(e)?e:{}}function st(e,t,n,r){function i(e){try{e.apply(null,z(arguments,1))}finally{if(0===--y)for(;w.length;)try{w.pop()()}catch(e){n.error(e)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){C=null,u(),c()}function l(){try{return f.state}catch(e){}}function u(){_=l(),_=b(_)?null:_,H(_,E)&&(_=E),E=_}function c(){$===d.url()&&k===_||($=d.url(),k=_,o(T,function(e){e(d.url(),_)}))}var d=this,p=(t[0],e.location),f=e.history,h=e.setTimeout,g=e.clearTimeout,v={};d.isMock=!1;var y=0,w=[];d.$$completeOutstandingRequest=i,d.$$incOutstandingRequestCount=function(){y++},d.notifyWhenNoOutstandingRequests=function(e){0===y?e():w.push(e)};var _,k,$=p.href,x=t.find("base"),C=null;u(),k=_,d.url=function(t,n,i){if(b(i)&&(i=null),p!==e.location&&(p=e.location),f!==e.history&&(f=e.history),t){var o=k===i;if($===t&&(!r.history||o))return d;var s=$&&Nt($)===Nt(t);return $=t,k=i,!r.history||s&&o?(s&&!C||(C=t),n?p.replace(t):s?p.hash=a(t):p.href=t,p.href!==t&&(C=t)):(f[n?"replaceState":"pushState"](i,"",t),u(),k=_),d}return C||p.href.replace(/%27/g,"'")},d.state=function(){return _};var T=[],S=!1,E=null;d.onUrlChange=function(t){return S||(r.history&&Pr(e).on("popstate",s),Pr(e).on("hashchange",s),S=!0),T.push(t),t},d.$$applicationDestroyed=function(){Pr(e).off("hashchange popstate",s)},d.$$checkUrlChange=c,d.baseHref=function(){var e=x.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},d.defer=function(e,t){var n;return y++,n=h(function(){delete v[n],i(e)},t||0),v[n]=!0,n},d.defer.cancel=function(e){return!!v[e]&&(delete v[e],g(e),i(m),!0)}}function lt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new st(e,r,t,n)}]}function ut(){this.$get=function(){function e(e,n){function i(e){e!=p&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},n,{id:e}),l=ge(),u=n&&n.capacity||Number.MAX_VALUE,c=ge(),p=null,f=null;return t[e]={put:function(e,t){if(!b(t)){if(u<Number.MAX_VALUE){i(c[e]||(c[e]={key:e}))}return e in l||a++,l[e]=t,a>u&&this.remove(f.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=c[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),o(t.n,t.p),delete c[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=ge(),a=0,c=ge(),p=f=null},destroy:function(){l=null,s=null,c=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function ct(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function dt(e,r){function i(e,t,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i=ge();return o(e,function(e,o){if(e in C)return void(i[o]=C[e]);var a=e.match(r);if(!a)throw Vi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(C[e]=i[o])}),i}function a(e,t){var n={isolateScope:null,bindToController:null};if(_(e.scope)&&(!0===e.bindToController?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),_(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),_(n.bindToController)){var r=e.controller,o=e.controllerAs;if(!r)throw Vi("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!mt(r,o))throw Vi("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function l(e){var t=e.charAt(0);if(!t||t!==Tr(t))throw Vi("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Vi("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var u={},c="Directive",p=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=R("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,x=/^(on[a-z]+|formaction)$/,C=ge();this.directive=function t(n,r){return fe(n,"directive"),$(n)?(l(n),
de(r,"directiveFactory"),u.hasOwnProperty(n)||(u[n]=[],e.factory(n+c,["$injector","$exceptionHandler",function(e,t){var r=[];return o(u[n],function(i,o){try{var a=e.invoke(i);T(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",a.$$moduleName=i.$$moduleName,r.push(a)}catch(e){t(e)}}),r}])),u[n].push(r)):o(n,s(t)),this},this.aHrefSanitizationWhitelist=function(e){return w(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var S=!0;this.debugInfoEnabled=function(e){return w(e)?(S=e,this):S},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,r,i,s,l,v,C,E,A,M){function P(e,t){try{e.addClass(t)}catch(e){}}function j(e,n,r,i,o){e instanceof Pr||(e=Pr(e));for(var a=/\S+/,s=0,l=e.length;s<l;s++){var u=e[s];u.nodeType===ni&&u.nodeValue.match(a)&&Ee(u,e[s]=t.createElement("span"))}var c=L(e,n,e,r,i,o);j.$$addScopeClass(e);var d=null;return function(t,n,r){de(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,s=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),d||(d=I(s));var l;if(l="html"!==d?Pr(te(d,Pr("<div>").append(e).html())):n?_i.clone.call(e):e,a)for(var u in a)l.data("$"+u+"Controller",a[u].instance);return j.$$addScopeInfo(l,t),n&&n(l,t),c&&c(t,l,l,i),l}}function I(e){var t=e&&e[0];return t&&"foreignobject"!==N(t)&&t.toString().match(/SVG/)?"svg":"html"}function L(e,t,r,i,o,a){function s(e,r,i,o){var a,s,l,u,c,d,p,f,g;if(h){var v=r.length;for(g=new Array(v),c=0;c<m.length;c+=3)p=m[c],g[p]=r[p]}else g=r;for(c=0,d=m.length;c<d;)l=g[m[c++]],a=m[c++],s=m[c++],a?(a.scope?(u=e.$new(),j.$$addScopeInfo(Pr(l),u)):u=e,f=a.transcludeOnThisElement?R(e,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&t?R(e,t):null,a(s,u,l,i,f)):s&&s(e,l.childNodes,n,o)}for(var l,u,c,d,p,f,h,m=[],g=0;g<e.length;g++)l=new le,u=V(e[g],[],l,0===g?i:n,o),c=u.length?q(u,e[g],l,t,r,null,[],[],a):null,c&&c.scope&&j.$$addScopeClass(l.$$element),p=c&&c.terminal||!(d=e[g].childNodes)||!d.length?null:L(d,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||p)&&(m.push(g,c,p),f=!0,h=h||c),a=null;return f?s:null}function R(e,t,n){return function(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}}function V(e,t,n,r,i){var o,a,s,l=e.nodeType,u=n.$attr;switch(l){case ei:a=N(e),W(t,pt(a),"E",r,i);for(var c,d,h,m,g,v,y=e.attributes,b=0,w=y&&y.length;b<w;b++){var k=!1,x=!1;c=y[b],d=c.name,g=Yr(c.value),m=pt(d),(v=he.test(m))&&(d=d.replace(Bi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var C=m.match(me);C&&G(C[1])&&(k=d,x=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),h=pt(d.toLowerCase()),u[h]=d,!v&&n.hasOwnProperty(h)||(n[h]=g,qe(e,h)&&(n[h]=!0)),re(e,t,g,h,v),W(t,h,"A",r,i,k,x)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),s=e.className,_(s)&&(s=s.animVal),$(s)&&""!==s)for(;o=f.exec(s);)h=pt(o[2]),W(t,h,"C",r,i)&&(n[h]=Yr(o[3])),s=s.substr(o.index+o[0].length);break;case ni:if(11===Mr)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===ni;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);ee(t,e.nodeValue);break;case ri:try{o=p.exec(e.nodeValue),o&&(h=pt(o[1]),W(t,h,"M",r,i)&&(n[h]=Yr(o[2])))}catch(e){}}return t.sort(Q),t}function B(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Vi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==ei&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Pr(r)}function U(e,t,n){return function(r,i,o,a,s){return i=B(i[0],t,n),e(r,i,o,a,s)}}function q(e,r,o,a,s,l,u,c,d){function p(e,t,n,r){e&&(n&&(e=U(e,n,r)),e.require=g.require,e.directiveName=y,(A===g||g.$$isolateScope)&&(e=oe(e,{isolateScope:!0})),u.push(e)),t&&(n&&(t=U(t,n,r)),t.require=g.require,t.directiveName=y,(A===g||g.$$isolateScope)&&(t=oe(t,{isolateScope:!0})),c.push(t))}function f(e,t,n,r){var i;if($(t)){var o=t.match(k),a=t.substring(o[0].length),s=o[1]||o[3],l="?"===o[2];if("^^"===s?n=n.parent():(i=r&&r[a],i=i&&i.instance),!i){var u="$"+a+"Controller";i=s?n.inheritedData(u):n.data(u)}if(!i&&!l)throw Vi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(zr(t)){i=[];for(var c=0,d=t.length;c<d;c++)i[c]=f(e,t[c],n,r)}return i||null}function h(e,t,n,r,i,o){var a=ge();for(var s in r){var l=r[s],u={$scope:l===A||l.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},c=l.controller;"@"==c&&(c=t[l.name]);var d=v(c,u,!0,l.controllerAs);a[l.name]=d,e.data("$"+l.name+"Controller",d.instance)}return a}function m(e,t,i,a,s){function l(e,t,r){var i;return D(e)||(r=t,t=e,e=n),L&&(i=g),r||(r=L?y.parent():y),s(e,t,i,r,P)}var d,p,m,g,v,y,b,w,_;r===i?(b=o,y=o.$$element):(y=Pr(i),b=new le(y,o)),m=t,A?p=t.$new(!0):S&&(m=t.$parent),s&&(v=l,v.$$boundTransclude=s),E&&(g=h(y,b,v,E,p,t)),A&&(j.$$addScopeInfo(y,p,!0,!(M&&(M===A||M===A.$$originalDirective))),j.$$addScopeClass(y,!0),p.$$isolateBindings=A.$$isolateBindings,(w=se(t,b,p,p.$$isolateBindings,A))&&p.$on("$destroy",w));for(var k in g){var $=E[k],x=g[k],C=$.$$bindings.bindToController;x.identifier&&C&&(_=se(m,b,x.instance,C,$));var T=x();T!==x.instance&&(x.instance=T,y.data("$"+$.name+"Controller",T),_&&_(),_=se(m,b,x.instance,C,$))}for(H=0,q=u.length;H<q;H++)d=u[H],ae(d,d.isolateScope?p:t,y,b,d.require&&f(d.directiveName,d.require,y,g),v);var P=t;for(A&&(A.template||null===A.templateUrl)&&(P=p),e&&e(P,i.childNodes,n,s),H=c.length-1;H>=0;H--)d=c[H],ae(d,d.isolateScope?p:t,y,b,d.require&&f(d.directiveName,d.require,y,g),v)}d=d||{};for(var g,y,b,w,x,C=-Number.MAX_VALUE,S=d.newScopeDirective,E=d.controllerDirectives,A=d.newIsolateScopeDirective,M=d.templateDirective,P=d.nonTlbTranscludeDirective,O=!1,I=!1,L=d.hasElementTranscludeDirective,R=o.$$element=Pr(r),N=l,F=a,H=0,q=e.length;H<q;H++){g=e[H];var W=g.$$start,G=g.$$end;if(W&&(R=B(r,W,G)),b=n,C>g.priority)break;if((x=g.scope)&&(g.templateUrl||(_(x)?(K("new/isolated scope",A||S,g,R),A=g):K("new/isolated scope",A,g,R)),S=S||g),y=g.name,!g.templateUrl&&g.controller&&(x=g.controller,E=E||ge(),K("'"+y+"' controller",E[y],g,R),E[y]=g),(x=g.transclude)&&(O=!0,g.$$tlb||(K("transclusion",P,g,R),P=g),"element"==x?(L=!0,C=g.priority,b=R,R=o.$$element=Pr(t.createComment(" "+y+": "+o[y]+" ")),r=R[0],ie(s,z(b),r),F=j(b,a,C,N&&N.name,{nonTlbTranscludeDirective:P})):(b=Pr(Ae(r)).contents(),R.empty(),F=j(b,a,n,n,{needsNewScope:g.$$isolateScope||g.$$newScope}))),g.template)if(I=!0,K("template",M,g,R),M=g,x=T(g.template)?g.template(R,o):g.template,x=fe(x),g.replace){if(N=g,b=$e(x)?[]:ht(te(g.templateNamespace,Yr(x))),r=b[0],1!=b.length||r.nodeType!==ei)throw Vi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"");ie(s,R,r);var Q={$attr:{}},ee=V(r,[],Q),ne=e.splice(H+1,e.length-(H+1));(A||S)&&Y(ee,A,S),e=e.concat(ee).concat(ne),X(o,Q),q=e.length}else R.html(x);if(g.templateUrl)I=!0,K("template",M,g,R),M=g,g.replace&&(N=g),m=J(e.splice(H,e.length-H),R,o,s,O&&F,u,c,{controllerDirectives:E,newScopeDirective:S!==g&&S,newIsolateScopeDirective:A,templateDirective:M,nonTlbTranscludeDirective:P}),q=e.length;else if(g.compile)try{w=g.compile(R,o,F),T(w)?p(null,w,W,G):w&&p(w.pre,w.post,W,G)}catch(e){i(e,Z(R))}g.terminal&&(m.terminal=!0,C=Math.max(C,g.priority))}return m.scope=S&&!0===S.scope,m.transcludeOnThisElement=O,m.templateOnThisElement=I,m.transclude=F,d.hasElementTranscludeDirective=L,m}function Y(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=h(e[r],{$$isolateScope:t,$$newScope:n})}function W(t,n,r,o,s,l,d){if(n===s)return null;var p=null;if(u.hasOwnProperty(n))for(var f,m=e.get(n+c),g=0,v=m.length;g<v;g++)try{if(f=m[g],(b(o)||o>f.priority)&&-1!=f.restrict.indexOf(r)){if(l&&(f=h(f,{$$start:l,$$end:d})),!f.$$bindings){var y=f.$$bindings=a(f,f.name);_(y.isolateScope)&&(f.$$isolateBindings=y.isolateScope)}t.push(f),p=f}}catch(e){i(e)}return p}function G(t){if(u.hasOwnProperty(t))for(var n,r=e.get(t+c),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function X(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){"class"==o?(P(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function J(e,t,n,r,i,a,l,u){var c,d,p=[],f=t[0],m=e.shift(),g=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=T(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,y=m.templateNamespace;return t.empty(),s(v).then(function(s){var h,b,w,k;if(s=fe(s),m.replace){if(w=$e(s)?[]:ht(te(y,Yr(s))),h=w[0],1!=w.length||h.nodeType!==ei)throw Vi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);b={$attr:{}},ie(r,t,h);var $=V(h,[],b);_(m.scope)&&Y($,!0),e=$.concat(e),X(n,b)}else h=f,t.html(s);for(e.unshift(g),c=q(e,h,n,i,t,m,a,l,u),o(r,function(e,n){e==h&&(r[n]=t[0])}),d=L(t[0].childNodes,i);p.length;){var x=p.shift(),C=p.shift(),T=p.shift(),S=p.shift(),E=t[0];if(!x.$$destroyed){if(C!==f){var D=C.className;u.hasElementTranscludeDirective&&m.replace||(E=Ae(h)),ie(T,Pr(C),E),P(Pr(E),D)}k=c.transcludeOnThisElement?R(x,c.transclude,S):S,c(d,x,E,r,k)}}p=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(p?p.push(t,n,r,o):(c.transcludeOnThisElement&&(o=R(t,c.transclude,i)),c(d,t,n,r,o)))}}function Q(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function K(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Vi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,Z(r))}function ee(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&j.$$addBindingClass(t),function(e,t){var i=t.parent();r||j.$$addBindingClass(i),j.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function te(e,n){switch(e=Tr(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function ne(e,t){if("srcdoc"==t)return E.HTML;var n=N(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?E.RESOURCE_URL:void 0}function re(e,t,n,i,o){var a=ne(e,i);o=y[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===N(e))throw Vi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Z(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers=ge());if(x.test(i))throw Vi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==n&&(s=c&&r(c,!0,a,o),n=c),s&&(l[i]=s(e),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function ie(e,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]==a){e[i++]=r;for(var u=i,c=u+s-1,d=e.length;u<d;u++,c++)c<d?e[u]=e[c]:delete e[u];e.length-=s-1,e.context===a&&(e.context=r);break}l&&l.replaceChild(r,a);var p=t.createDocumentFragment();p.appendChild(a),Pr.hasData(a)&&(Pr.data(r,Pr.data(a)),Or?(Ur=!0,Or.cleanData([a])):delete Pr.cache[a[Pr.expando]]);for(var f=1,h=n.length;f<h;f++){var m=n[f];Pr(m).remove(),p.appendChild(m),delete n[f]}n[0]=r,n.length=1}function oe(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function ae(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(e){i(e,Z(n))}}function se(e,t,n,i,a){var s=[];return o(i,function(i,o){var u,c,d,p,f=i.attrName,h=i.optional,g=i.mode;switch(g){case"@":h||Sr.call(t,f)||(n[o]=t[f]=void 0),t.$observe(f,function(e){$(e)&&(n[o]=e)}),t.$$observers[f].$$scope=e,u=t[f],$(u)?n[o]=r(u)(e):O(u)&&(n[o]=u);break;case"=":if(!Sr.call(t,f)){if(h)break;t[f]=void 0}if(h&&!t[f])break;c=l(t[f]),p=c.literal?H:function(e,t){return e===t||e!==e&&t!==t},d=c.assign||function(){throw u=n[o]=c(e),Vi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[f],f,a.name)},u=n[o]=c(e);var v=function(t){return p(t,n[o])||(p(t,u)?d(e,t=n[o]):n[o]=t),u=t};v.$stateful=!0;var y;y=i.collection?e.$watchCollection(t[f],v):e.$watch(l(t[f],v),null,c.literal),s.push(y);break;case"&":if((c=t.hasOwnProperty(f)?l(t[f]):m)===m&&h)break;n[o]=function(t){return c(e,t)}}}),s.length&&function(){for(var e=0,t=s.length;e<t;++e)s[e]()}}var le=function(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e};le.prototype={$normalize:pt,$addClass:function(e){e&&e.length>0&&A.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&A.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=ft(e,t);n&&n.length&&A.addClass(this.$$element,n);var r=ft(t,e);r&&r.length&&A.removeClass(this.$$element,r)},$set:function(e,t,n,r){var a,s=this.$$element[0],l=qe(s,e),u=Ye(e),c=e;if(l?(this.$$element.prop(e,t),r=l):u&&(this[u]=t,c=u),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=ue(e,"-")),"a"===(a=N(this.$$element))&&"href"===e||"img"===a&&"src"===e)this[e]=t=M(t,"src"===e);else if("img"===a&&"srcset"===e&&w(t)){for(var d="",p=Yr(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(p)?f:/(,)/,m=p.split(h),g=Math.floor(m.length/2),v=0;v<g;v++){var y=2*v;d+=M(Yr(m[y]),!0),d+=" "+Yr(m[y+1])}var _=Yr(m[2*v]).split(/\s/);d+=M(Yr(_[0]),!0),2===_.length&&(d+=" "+Yr(_[1])),this[e]=t=d}!1!==n&&(null===t||b(t)?this.$$element.removeAttr(r):this.$$element.attr(r,t));var k=this.$$observers;k&&o(k[c],function(e){try{e(t)}catch(e){i(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ge()),i=r[e]||(r[e]=[]);return i.push(t),C.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){F(i,t)}}};var ce=r.startSymbol(),pe=r.endSymbol(),fe="{{"==ce&&"}}"==pe?g:function(e){return e.replace(/\{\{/g,ce).replace(/}}/g,pe)},he=/^ngAttr[A-Z]/,me=/^(.+)Start$/;return j.$$addBindingInfo=S?function(e,t){var n=e.data("$binding")||[];zr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:m,j.$$addBindingClass=S?function(e){P(e,"ng-binding")}:m,j.$$addScopeInfo=S?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:m,j.$$addScopeClass=S?function(e,t){P(e,t?"ng-isolate-scope":"ng-scope")}:m,j}]}function pt(e){return ke(e.replace(Bi,""))}function ft(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function ht(e){e=Pr(e);var t=e.length;if(t<=1)return e;for(;t--;){e[t].nodeType===ri&&Lr.call(e,t,1)}return e}function mt(e,t){if(t&&$(t))return t;if($(e)){var n=Ui.exec(e);if(n)return n[3]}}function gt(){var e={},t=!1;this.register=function(t,n){fe(t,"controller"),_(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(i,o){function a(e,t,n,i){if(!e||!_(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,s,l,u){var c,p,f,h;if(l=!0===l,u&&$(u)&&(h=u),$(r)){if(!(p=r.match(Ui)))throw Hi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);f=p[1],h=h||p[3],r=e.hasOwnProperty(f)?e[f]:he(s.$scope,f,!0)||(t?he(o,f,!0):n),pe(r,f,!0)}if(l){var m=(zr(r)?r[r.length-1]:r).prototype;c=Object.create(m||null),h&&a(s,h,c,f||r.name);return d(function(){var e=i.invoke(r,c,s,f);return e!==c&&(_(e)||T(e))&&(c=e,h&&a(s,h,c,f||r.name)),c},{instance:c,identifier:h})}return c=i.instantiate(r,s,f),h&&a(s,h,c,f||r.name),c}}]}function vt(){this.$get=["$window",function(e){return Pr(e.document)}]}function yt(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function bt(e){return _(e)?C(e)?e.toISOString():W(e):e}function wt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||b(e)||(zr(e)?o(e,function(e){t.push(re(n)+"="+re(bt(e)))}):t.push(re(n)+"="+re(bt(e))))}),t.join("&")}}}function _t(){this.$get=function(){return function(e){function t(e,r,i){null===e||b(e)||(zr(e)?o(e,function(e,n){t(e,r+"["+(_(e)?n:"")+"]")}):_(e)&&!C(e)?a(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(re(r)+"="+re(bt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function kt(e,t){if($(e)){var n=e.replace(Xi,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(qi)||$t(n))&&(e=G(n))}}return e}function $t(e){var t=e.match(Wi);return t&&Gi[t[0]].test(e)}function xt(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=ge();return $(e)?o(e.split("\n"),function(e){n=e.indexOf(":"),t(Tr(Yr(e.substr(0,n))),Yr(e.substr(n+1)))}):_(e)&&o(e,function(e,n){t(Tr(n),Yr(e))}),r}function Ct(e){var t;return function(n){if(t||(t=xt(e)),n){var r=t[Tr(n)];return void 0===r&&(r=null),r}return t}}function Tt(e,t,n,r){return T(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function St(e){return 200<=e&&e<300}function Et(){var e=this.defaults={transformResponse:[kt],transformRequest:[function(e){return!_(e)||A(e)||P(e)||M(e)?e:W(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:B(Yi),put:B(Yi),patch:B(Yi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return w(e)?(t=!!e,this):t};var i=!0;this.useLegacyPromiseExtensions=function(e){return w(e)?(i=!!e,this):i};var a=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,u,c,p,f){function h(t){function a(e){var t=d({},e);return t.data=Tt(e.data,e.headers,e.status,u.transformResponse),St(e.status)?t:p.reject(t)}function s(e,t){var n,r={};return o(e,function(e,i){T(e)?null!=(n=e(t))&&(r[i]=n):r[i]=e}),r}function l(t){var n,r,i,o=e.headers,a=d({},t.headers);o=d({},o.common,o[Tr(t.method)]);e:for(n in o){r=Tr(n);for(i in a)if(Tr(i)===r)continue e;a[n]=o[n]}return s(a,B(t))}if(!Br.isObject(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!$(t.url))throw r("$http")("badreq","Http request configuration url must be a string.  Received: {0}",t.url);var u=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);u.headers=l(t),u.method=Er(u.method),u.paramSerializer=$(u.paramSerializer)?f.get(u.paramSerializer):u.paramSerializer;var c=function(t){var r=t.headers,i=Tt(t.data,Ct(r),n,t.transformRequest);return b(i)&&o(r,function(e,t){"content-type"===Tr(t)&&delete r[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,i).then(a,a)},h=[c,n],m=p.when(u);for(o(x,function(e){(e.request||e.requestError)&&h.unshift(e.request,e.requestError),(e.response||e.responseError)&&h.push(e.response,e.responseError)});h.length;){var g=h.shift(),y=h.shift();m=m.then(g,y)}return i?(m.success=function(e){return pe(e,"fn"),m.then(function(t){e(t.data,t.status,t.headers,u)}),m},m.error=function(e){return pe(e,"fn"),m.then(null,function(t){e(t.data,t.status,t.headers,u)}),m}):(m.success=Qi("success"),m.error=Qi("error")),m}function m(){o(arguments,function(e){h[e]=function(t,n){return h(d({},n||{},{method:e,url:t}))}})}function g(){o(arguments,function(e){h[e]=function(t,n,r){return h(d({},r||{},{method:e,url:t,data:n}))}})}function v(r,i){function o(e,n,r,i){function o(){a(n,e,r,i)}f&&(St(e)?f.put(x,[e,n,xt(r),i]):f.remove(x)),t?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function a(e,t,n,i){t=t>=-1?t:0,(St(t)?g.resolve:g.reject)({data:e,status:t,headers:Ct(n),config:r,statusText:i})}function u(e){a(e.data,e.status,B(e.headers()),e.statusText)}function d(){var e=h.pendingRequests.indexOf(r);-1!==e&&h.pendingRequests.splice(e,1)}var f,m,g=p.defer(),v=g.promise,$=r.headers,x=y(r.url,r.paramSerializer(r.params));if(h.pendingRequests.push(r),v.then(d,d),!r.cache&&!e.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(f=_(r.cache)?r.cache:_(e.cache)?e.cache:k),f&&(m=f.get(x),w(m)?j(m)?m.then(u,u):zr(m)?a(m[1],m[0],B(m[2]),m[3]):a(m,200,{},"OK"):f.put(x,v)),b(m)){var C=An(r.url)?l()[r.xsrfCookieName||e.xsrfCookieName]:n;C&&($[r.xsrfHeaderName||e.xsrfHeaderName]=C),s(r.method,x,i,o,$,r.timeout,r.withCredentials,r.responseType)}return v}function y(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var k=u("$http");e.paramSerializer=$(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var x=[];return o(a,function(e){x.unshift($(e)?f.get(e):f.invoke(e))}),h.pendingRequests=[],m("get","delete","head","jsonp"),g("post","put","patch"),h.defaults=e,h}]}function Dt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function At(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return Mt(e,r,e.defer,t.angular.callbacks,n[0])}]}function Mt(e,t,n,r,i){function a(e,t,n){var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){ci(o,"load",a),ci(o,"error",a),i.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},ui(o,"load",a),ui(o,"error",a),i.body.appendChild(o),a}return function(i,s,l,u,c,d,p,f){function h(){y&&y(),_&&_.abort()}function g(t,r,i,o,a){w($)&&n.cancel($),y=_=null,t(r,i,o,a),e.$$completeOutstandingRequest(m)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Tr(i)){var v="_"+(r.counter++).toString(36);r[v]=function(e){r[v].data=e,r[v].called=!0};var y=a(s.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){g(u,e,r[v].data,"",t),r[v]=m})}else{var _=t(i,s);_.open(i,s,!0),o(c,function(e,t){w(e)&&_.setRequestHeader(t,e)}),_.onload=function(){var e=_.statusText||"",t="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=t?200:"file"==Dn(s).protocol?404:0),g(u,n,t,_.getAllResponseHeaders(),e)};var k=function(){g(u,-1,null,null,"")};if(_.onerror=k,_.onabort=k,p&&(_.withCredentials=!0),f)try{_.responseType=f}catch(e){if("json"!==f)throw e}_.send(b(l)?null:l)}if(d>0)var $=n(h,d);else j(d)&&d.then(h)}}function Pt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(p,e).replace(f,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=W(e)}return e}function l(o,l,p,f){function h(e){try{return e=E(e),f&&!w(e)?e:s(e)}catch(e){r(Zi.interr(o,e))}}f=!!f;for(var m,g,v,y=0,_=[],k=[],$=o.length,x=[],C=[];y<$;){if(-1==(m=o.indexOf(e,y))||-1==(g=o.indexOf(t,m+u))){y!==$&&x.push(a(o.substring(y)));break}y!==m&&x.push(a(o.substring(y,m))),v=o.substring(m+u,g),_.push(v),k.push(n(v,h)),y=g+c,C.push(x.length),x.push("")}if(p&&x.length>1&&Zi.throwNoconcat(o),!l||_.length){var S=function(e){for(var t=0,n=_.length;t<n;t++){if(f&&b(e[t]))return;x[C[t]]=e[t]}return x.join("")},E=function(e){return p?i.getTrusted(p,e):i.valueOf(e)};return d(function(e){var t=0,n=_.length,i=new Array(n);try{for(;t<n;t++)i[t]=k[t](e);return S(i)}catch(e){r(Zi.interr(o,e))}},{exp:o,expressions:_,$$watchDelegate:function(e,t){var n;return e.$watchGroup(k,function(r,i){var o=S(r);T(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var u=e.length,c=t.length,p=new RegExp(e.replace(/./g,o),"g"),f=new RegExp(t.replace(/./g,o),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function Ot(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,a,s,l){var u=arguments.length>4,c=u?z(arguments,4):[],d=t.setInterval,p=t.clearInterval,f=0,h=w(l)&&!l,m=(h?r:n).defer(),g=m.promise;return s=w(s)?s:0,g.then(null,null,u?function(){i.apply(null,c)}:i),g.$$intervalId=d(function(){m.notify(f++),s>0&&f>=s&&(m.resolve(f),p(g.$$intervalId),delete o[g.$$intervalId]),h||e.$apply()},a),o[g.$$intervalId]=m,g}var o={};return i.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},i}]}function jt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ne(t[n]);return t.join("/")}function It(e,t){var n=Dn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||eo[n.protocol]||null}function Lt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Dn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=ee(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Rt(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function Nt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Ft(e){return e.replace(/(#.+)|#$/,"$1")}function Vt(e){return e.substr(0,Nt(e).lastIndexOf("/")+1)}function Bt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Ht(e,t,n){this.$$html5=!0,n=n||"",It(e,this),this.$$parse=function(e){var n=Rt(t,e);if(!$(n))throw to("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Lt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=te(this.$$search),n=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=jt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return w(o=Rt(e,r))?(a=o,s=w(o=Rt(n,o))?t+(Rt("/",o)||o):e+a):w(o=Rt(t,r))?s=t+o:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Ut(e,t,n){It(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=Rt(e,r)||Rt(t,r);b(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",b(a)&&(e=r,this.replace())):(o=Rt(n,a),b(o)&&(o=a)),Lt(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=te(this.$$search),r=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=jt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t){return Nt(e)==Nt(t)&&(this.$$parse(t),!0)}}function zt(e,t,n){this.$$html5=!0,Ut.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==Nt(r)?o=r:(a=Rt(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=te(this.$$search),r=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=jt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function qt(e){return function(){return this[e]}}function Yt(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Wt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return w(t)?(e=t,this):e},this.html5Mode=function(e){return O(e)?(t.enabled=e,this):_(e)?(O(e.enabled)&&(t.enabled=e.enabled),O(e.requireBase)&&(t.requireBase=e.requireBase),O(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(e){throw u.url(i),u.$$state=o,e}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,d,p=r.baseHref(),f=r.url();if(t.enabled){if(!p&&t.requireBase)throw to("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Bt(f)+(p||"/"),c=i.history?Ht:zt}else d=Nt(f),c=Ut;var h=Vt(d);u=new c(d,h,"#"+e),u.$$parseLinkUrl(f,f),u.$$state=r.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Pr(e.target);"a"!==N(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");_(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Dn(s.animVal).href),m.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(e.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Ft(u.absUrl())!=Ft(f)&&r.url(u.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){if(b(Rt(h,e)))return void(a.location.href=e);n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;e=Ft(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(g=!1,l(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=Ft(r.url()),t=Ft(u.absUrl()),o=r.state(),a=u.$$replace,c=e!==t||u.$$html5&&i.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(c&&s(t,a,o===u.$$state?null:u.$$state),l(e,o)))})),u.$$replace=!1}),u}]}function Gt(){var e=!0,t=this;this.debugEnabled=function(t){return w(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||m,a=!1;try{a=!!i.apply}catch(e){}return a?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Xt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw ro("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Jt(e,t){if(e+="",!$(e))throw ro("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return e}function Qt(e,t){if(e){if(e.constructor===e)throw ro("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw ro("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw ro("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw ro("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Zt(e,t){if(e){if(e.constructor===e)throw ro("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===io||e===oo||e===ao)throw ro("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Kt(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw ro("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function en(e,t){return void 0!==e?e:t}function tn(e,t){return void 0===e?t:void 0===t?e:e+t}function nn(e,t){return!e(t).$stateful}function rn(e,t){var n,r;switch(e.type){case co.Program:n=!0,o(e.body,function(e){rn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case co.Literal:e.constant=!0,e.toWatch=[];break;case co.UnaryExpression:rn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case co.BinaryExpression:rn(e.left,t),rn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case co.LogicalExpression:rn(e.left,t),rn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case co.ConditionalExpression:rn(e.test,t),rn(e.alternate,t),rn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case co.Identifier:e.constant=!1,e.toWatch=[e];break
;case co.MemberExpression:rn(e.object,t),e.computed&&rn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case co.CallExpression:n=!!e.filter&&nn(t,e.callee.name),r=[],o(e.arguments,function(e){rn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&nn(t,e.callee.name)?r:[e];break;case co.AssignmentExpression:rn(e.left,t),rn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case co.ArrayExpression:n=!0,r=[],o(e.elements,function(e){rn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case co.ObjectExpression:n=!0,r=[],o(e.properties,function(e){rn(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case co.ThisExpression:e.constant=!1,e.toWatch=[]}}function on(e){if(1==e.length){var t=e[0].expression,r=t.toWatch;return 1!==r.length?r:r[0]!==t?r:n}}function an(e){return e.type===co.Identifier||e.type===co.MemberExpression}function sn(e){if(1===e.body.length&&an(e.body[0].expression))return{type:co.AssignmentExpression,left:e.body[0].expression,right:{type:co.NGValueParameter},operator:"="}}function ln(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===co.Literal||e.body[0].expression.type===co.ArrayExpression||e.body[0].expression.type===co.ObjectExpression)}function un(e){return e.constant}function cn(e,t){this.astBuilder=e,this.$filter=t}function dn(e,t){this.astBuilder=e,this.$filter=t}function pn(e){return"constructor"==e}function fn(e){return T(e.valueOf)?e.valueOf():fo.call(e)}function hn(){var e=ge(),t=ge();this.$get=["$filter",function(r){function i(n,i,o){var s,f,y;switch(o=o||v,typeof n){case"string":n=n.trim(),y=n;var b=o?t:e;if(!(s=b[y])){":"===n.charAt(0)&&":"===n.charAt(1)&&(f=!0,n=n.substring(2));var w=o?g:h,_=new uo(w);s=new po(_,r,w).parse(n),s.constant?s.$$watchDelegate=d:f?s.$$watchDelegate=s.literal?c:u:s.inputs&&(s.$$watchDelegate=l),o&&(s=a(s)),b[y]=s}return p(s,i);case"function":return p(n,i);default:return p(m,i)}}function a(e){function t(t,n,r,i){var o=v;v=!0;try{return e(t,n,r,i)}finally{v=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=a(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=a(e.inputs[n]);return t.inputs=e.inputs,t}function s(e,t){return null==e||null==t?e===t:("object"!=typeof e||"object"!=typeof(e=fn(e)))&&(e===t||e!==e&&t!==t)}function l(e,t,r,i,o){var a,l=i.inputs;if(1===l.length){var u=s;return l=l[0],e.$watch(function(e){var t=l(e);return s(t,u)||(a=i(e,n,n,[t]),u=t&&fn(t)),a},t,r,o)}for(var c=[],d=[],p=0,f=l.length;p<f;p++)c[p]=s,d[p]=null;return e.$watch(function(e){for(var t=!1,r=0,o=l.length;r<o;r++){var u=l[r](e);(t||(t=!s(u,c[r])))&&(d[r]=u,c[r]=u&&fn(u))}return t&&(a=i(e,n,n,d)),a},t,r,o)}function u(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,T(t)&&t.apply(this,arguments),w(e)&&r.$$postDigest(function(){w(o)&&i()})},n)}function c(e,t,n,r){function i(e){var t=!0;return o(e,function(e){w(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,T(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&a()})},n)}function d(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(){T(t)&&t.apply(this,arguments),i()},n)}function p(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==c&&n!==u,o=i?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return w(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==l?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=l,r=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var f=Gr().noUnsafeEval,h={csp:f,expensiveChecks:!1},g={csp:f,expensiveChecks:!0},v=!1;return i.$$runningExpensiveChecks=function(){return v},i}]}function mn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return vn(function(t){e.$evalAsync(t)},t)}]}function gn(){this.$get=["$browser","$exceptionHandler",function(e,t){return vn(function(t){e.defer(t)},t)}]}function vn(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function a(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function l(e){var r,i,o;o=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=o.length;a<s;++a){i=o[a][0],r=o[a][e.status];try{T(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(e){i.reject(e),t(e)}}}function u(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){l(t)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function p(e){var t=new c,n=0,r=zr(e)?[]:{};return o(e,function(e,i){n++,y(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var f=r("$q",TypeError),h=function(){return new c};d(a.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&u(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return v(t,!0,e)},function(t){return v(t,!1,e)},t)}}),d(c.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(f("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(_(e)||T(e))&&(n=e&&e.then),T(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,u(this.promise.$$state))}catch(e){r[1](e),t(e)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;o<a;o++){i=r[o][0],e=r[o][3];try{i.notify(T(e)?e(n):n)}catch(e){t(e)}}})}});var m=function(e){var t=new c;return t.reject(e),t.promise},g=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},v=function(e,t,n){var r=null;try{T(n)&&(r=n())}catch(e){return g(e,!1)}return j(r)?r.then(function(){return g(e,t)},function(e){return g(e,!1)}):g(e,t)},y=function(e,t,n,r){var i=new c;return i.resolve(e),i.promise.then(t,n,r)},w=y,k=function e(t){function n(e){i.resolve(e)}function r(e){i.reject(e)}if(!T(t))throw f("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof e))return new e(t);var i=new c;return t(n,r),i.promise};return k.defer=h,k.reject=m,k.when=y,k.resolve=w,k.all=p,k}function yn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function bn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,c,d){function p(e){e.currentScope.$$destroyed=!0}function f(e){9===Mr&&(e.$$childHead&&f(e.$$childHead),e.$$nextSibling&&f(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function h(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(e){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=e}function v(){C.$$phase=null}function y(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function w(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function k(){}function $(){for(;D.length;)try{D.shift()()}catch(e){u(e)}s=null}function x(){null===s&&(s=d.defer(function(){C.$apply($)}))}h.prototype={constructor:h,$new:function(t,n){var r;return n=n||this,t?(r=new h,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",p),r},$watch:function(e,t,n,r){var i=c(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,s=o.$$watchers,l={fn:t,last:k,get:i,exp:r||e,eq:!!n};return a=null,T(t)||(l.fn=m),s||(s=o.$$watchers=[]),s.unshift(l),y(this,1),function(){F(s,l)>=0&&y(o,-1),a=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(i,i,s)):t(i,r,s)}var r=new Array(e.length),i=new Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,r,s;if(!b(o)){if(_(o))if(i(o)){a!==f&&(a=f,g=a.length=0,d++),t=o.length,g!==t&&(d++,a.length=g=t);for(var l=0;l<t;l++)s=a[l],r=o[l],s!==s&&r!==r||s===r||(d++,a[l]=r)}else{a!==h&&(a=h={},g=0,d++),t=0;for(n in o)Sr.call(o,n)&&(t++,r=o[n],s=a[n],n in a?s!==s&&r!==r||s===r||(d++,a[n]=r):(g++,a[n]=r,d++));if(g>t){d++;for(n in a)Sr.call(o,n)||(g--,delete a[n])}}else a!==o&&(a=o,d++);return d}}function r(){if(m?(m=!1,t(o,o,l)):t(o,s,l),u)if(_(o))if(i(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var n in o)Sr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,u=t.length>1,d=0,p=c(e,n),f=[],h={},m=!0,g=0;return this.$watch(p,r)},$digest:function(){var e,r,i,o,l,c,p,f,h,m,y,b,w=t,_=this,x=[];g("$digest"),d.$$checkUrlChange(),this===C&&null!==s&&(d.defer.cancel(s),$()),a=null;do{for(f=!1,m=_;S.length;){try{b=S.shift(),b.scope.$eval(b.expression,b.locals)}catch(e){u(e)}a=null}e:do{if(c=m.$$watchers)for(p=c.length;p--;)try{if(e=c[p])if(l=e.get,(r=l(m))===(i=e.last)||(e.eq?H(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===a){f=!1;break e}}else f=!0,a=e,e.last=e.eq?V(r,null):r,o=e.fn,o(r,i===k?r:i,m),w<5&&(y=4-w,x[y]||(x[y]=[]),x[y].push({msg:T(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch(e){u(e)}if(!(h=m.$$watchersCount&&m.$$childHead||m!==_&&m.$$nextSibling))for(;m!==_&&!(h=m.$$nextSibling);)m=m.$parent}while(m=h);if((f||S.length)&&!w--)throw v(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,x)}while(f||S.length);for(v();E.length;)try{E.shift()()}catch(e){u(e)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&d.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var t in this.$$listenerCount)w(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$$nextSibling=null,f(this)}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){C.$$phase||S.length||d.defer(function(){S.length&&C.$digest()}),S.push({scope:this,expression:c(e),locals:t})},$$postDigest:function(e){E.push(e)},$apply:function(e){try{g("$apply");try{return this.$eval(e)}finally{v()}}catch(e){u(e)}finally{try{C.$digest()}catch(e){throw u(e),e}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&D.push(t),e=c(e),x()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do{r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,w(i,1,e))}},$emit:function(e){var t,n,r,i=[],o=this,a=!1,s={name:e,targetScope:o,stopPropagation:function(){a=!0},preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},l=U([s],arguments,1);do{for(t=o.$$listeners[e]||i,s.currentScope=o,n=0,r=t.length;n<r;n++)if(t[n])try{t[n].apply(null,l)}catch(e){u(e)}else t.splice(n,1),n--,r--;if(a)return s.currentScope=null,s;o=o.$parent}while(o);return s.currentScope=null,s},$broadcast:function(e){var t=this,n=t,r=t,i={name:e,targetScope:t,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!t.$$listenerCount[e])return i;for(var o,a,s,l=U([i],arguments,1);n=r;){for(i.currentScope=n,o=n.$$listeners[e]||[],a=0,s=o.length;a<s;a++)if(o[a])try{o[a].apply(null,l)}catch(e){u(e)}else o.splice(a,1),a--,s--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==t&&n.$$nextSibling))for(;n!==t&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var C=new h,S=C.$$asyncQueue=[],E=C.$$postDigestQueue=[],D=C.$$applyAsyncQueue=[];return C}]}function wn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=Dn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function _n(e){if("self"===e)return e;if($(e)){if(e.indexOf("***")>-1)throw ho("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Wr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(S(e))return new RegExp("^"+e.source+"$");throw ho("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function kn(e){var t=[];return w(e)&&o(e,function(e){t.push(_n(e))}),t}function $n(){this.SCE_CONTEXTS=mo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=kn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=kn(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?An(t):!!e.exec(t.href)}function i(n){var i,o,a=Dn(n.toString()),s=!1;for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw ho("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||b(t)||""===t)return t;if("string"!=typeof t)throw ho("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof c?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||b(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===mo.RESOURCE_URL){if(i(t))return t;throw ho("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===mo.HTML)return u(t);throw ho("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(){throw ho("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),d={};return d[mo.HTML]=o(c),d[mo.CSS]=o(c),d[mo.URL]=o(c),d[mo.JS]=o(c),d[mo.RESOURCE_URL]=o(d[mo.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function xn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&Mr<8)throw ho("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=B(mo);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(mo,function(e,t){var n=Tr(t);r[ke("parse_as_"+n)]=function(t){return i(e,t)},r[ke("get_trusted_"+n)]=function(t){return a(e,t)},r[ke("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Cn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=f((/android (\d+)/.exec(Tr((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,c=!1,d=!1;if(u){for(var p in u)if(r=l.exec(p)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),d=!!("animation"in u||n+"Animation"in u),!o||c&&d||(c=$(u.webkitTransition),d=$(u.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||o<4||a),hasEvent:function(e){if("input"===e&&Mr<=11)return!1;if(b(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:Gr(),vendorPrefix:n,transitions:c,animations:d,android:o}}]}function Tn(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,r){function i(o,a){function s(e){if(!a)throw Vi("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,e.status,e.statusText);return n.reject(e)}i.totalPendingRequests++,$(o)&&!b(e.get(o))||(o=r.getTrustedResourceUrl(o));var l=t.defaults&&t.defaults.transformResponse;zr(l)?l=l.filter(function(e){return e!==kt}):l===kt&&(l=null);var u={cache:e,transformResponse:l};return t.get(o,u)["finally"](function(){i.totalPendingRequests--}).then(function(t){return e.put(o,t.data),t.data},s)}return i.totalPendingRequests=0,i}]}function Sn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return o(r,function(e){var r=Br.element(e).data("$binding");r&&o(r,function(r){if(n){new RegExp("(^|\\s)"+Wr(t)+"(\\s|\\||$)").test(r)&&i.push(e)}else-1!=r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function En(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,l){T(o)||(l=s,s=o,o=m);var u,c=z(arguments,3),d=w(l)&&!l,p=(d?r:n).defer(),f=p.promise;return u=t.defer(function(){try{p.resolve(o.apply(null,c))}catch(e){p.reject(e),i(e)}finally{delete a[f.$$timeoutId]}d||e.$apply()},s),f.$$timeoutId=u,a[u]=p,f}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function Dn(e){var t=e;return Mr&&(go.setAttribute("href",t),t=go.href),go.setAttribute("href",t),{href:go.href,protocol:go.protocol?go.protocol.replace(/:$/,""):"",host:go.host,search:go.search?go.search.replace(/^\?/,""):"",hash:go.hash?go.hash.replace(/^#/,""):"",hostname:go.hostname,port:go.port,pathname:"/"===go.pathname.charAt(0)?go.pathname:"/"+go.pathname}}function An(e){var t=$(e)?Dn(e):e;return t.protocol===vo.protocol&&t.host===vo.host}function Mn(){this.$get=v(e)}function Pn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,a,s,l,u=n.cookie||"";if(u!==i)for(i=u,e=i.split("; "),r={},a=0;a<e.length;a++)o=e[a],(s=o.indexOf("="))>0&&(l=t(o.substring(0,s)),b(r[l])&&(r[l]=t(o.substring(s+1))));return r}}function On(){this.$get=Pn}function jn(e){function t(r,i){if(_(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Fn),t("date",er),t("filter",In),t("json",tr),t("limitTo",nr),t("lowercase",xo),t("number",Vn),t("orderBy",rr),t("uppercase",Co)}function In(){return function(e,t,n){if(!i(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var o,a,s=Nn(t);switch(s){case"function":o=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=Ln(t,n,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function Ln(e,t,n){var r=_(e)&&"$"in e;return!0===t?t=H:T(t)||(t=function(e,t){return!b(e)&&(null===e||null===t?e===t:!(_(t)||_(e)&&!y(e))&&(e=Tr(""+e),t=Tr(""+t),-1!==e.indexOf(t)))}),function(i){return r&&!_(i)?Rn(i,e.$,t,!1):Rn(i,e,t,n)}}function Rn(e,t,n,r,i){var o=Nn(e),a=Nn(t);if("string"===a&&"!"===t.charAt(0))return!Rn(e,t.substring(1),n,r);if(zr(e))return e.some(function(e){return Rn(e,t,n,r)});switch(o){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Rn(e[s],t,n,!0))return!0;return!i&&Rn(e,t,n,!1)}if("object"===a){for(s in t){var l=t[s];if(!T(l)&&!b(l)){var u="$"===s;if(!Rn(u?e:e[s],l,n,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Nn(e){return null===e?"null":typeof e}function Fn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return b(n)&&(n=t.CURRENCY_SYM),b(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Un(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Vn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Un(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Bn(e){var t,n,r,i,o,a=0;for((n=e.indexOf(bo))>-1&&(e=e.replace(bo,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)==wo;r++);if(r==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==wo;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>yo&&(t=t.splice(0,yo-1),a=n-1,n=1),{d:t,e:a,i:n}}function Hn(e,t,n,r){var i=e.d,o=i.length-e.i;t=b(t)?Math.min(Math.max(n,o),r):+t;var a=t+e.i,s=i[a];if(a>0)i.splice(a);else{e.i=1,i.length=a=t+1;for(var l=0;l<a;l++)i[l]=0}for(s>=5&&i[a-1]++;o<t;o++)i.push(0);var u=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);u&&(i.unshift(u),e.i++)}function Un(e,t,n,r,i){if(!$(e)&&!x(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="\u221e";else{o=Bn(l),Hn(o,i,t.minFrac,t.maxFrac);var c=o.d,d=o.i,p=o.e,f=[];for(s=c.reduce(function(e,t){return e&&!t},!0);d<0;)c.unshift(0),d++;d>0?f=c.splice(d,c.length):(f=c,c=[0]);var h=[];for(c.length>=t.lgSize&&h.unshift(c.splice(-t.lgSize,c.length).join(""));c.length>t.gSize;)h.unshift(c.splice(-t.gSize,c.length).join(""));c.length&&h.unshift(c.join("")),u=h.join(n),f.length&&(u+=r+f.join("")),p&&(u+="e+"+p)}return e<0&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function zn(e,t,n){var r="";for(e<0&&(r="-",e=-e),e=""+e;e.length<t;)e=wo+e;return n&&(e=e.substr(e.length-t)),r+e}function qn(e,t,n,r){return n=n||0,function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),zn(o,t,r)}}function Yn(e,t){return function(n,r){var i=n["get"+e]();return r[Er(t?"SHORT"+e:e)][i]}}function Wn(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=zn(Math[r>0?"floor":"ceil"](r/60),2)+zn(Math.abs(r%60),2)}function Gn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Xn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Jn(e){return function(t){var n=Gn(t.getFullYear()),r=Xn(t),i=+r-+n;return zn(1+Math.round(i/6048e5),e)}}function Qn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Zn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Kn(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function er(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=f(t[9]+t[10]),o=f(t[9]+t[11])),a.call(r,f(t[1]),f(t[2])-1,f(t[3]));var l=f(t[4]||0)-i,u=f(t[5]||0)-o,c=f(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,u,c,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,l="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,$(n)&&(n=$o.test(n)?f(n):t(n)),x(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;r;)s=ko.exec(r),s?(u=U(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=X(i,c),n=Q(n,i,!0)),o(u,function(t){a=_o[t],l+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function tr(){return function(e,t){return b(t)&&(t=2),W(e,t)}}function nr(){return function(e,t,n){return t=Math.abs(Number(t))===Infinity?Number(t):f(t),isNaN(t)?e:(x(e)&&(e=e.toString()),zr(e)||$(e)?(n=!n||isNaN(n)?0:f(n),n=n<0?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function rr(e){function t(t,n){return n=n?-1:1,t.map(function(t){var r=1,i=g;if(T(t))i=t;else if($(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var o=i();i=function(e){return e[o]}}return{get:i,descending:r*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function r(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),n(e))?e:y(e)&&(e=e.toString(),n(e))?e:t}function o(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=r(e,t)),{value:e,type:n}}function a(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,n,r){function s(e,t){return{value:e,predicateValues:u.map(function(n){return o(n.get(e),t)})}}function l(e,t){for(var n=0,r=0,i=u.length;r<i&&!(n=a(e.predicateValues[r],t.predicateValues[r])*u[r].descending);++r);return n}if(!i(e))return e;zr(n)||(n=[n]),0===n.length&&(n=["+"]);var u=t(n,r);u.push({get:function(){return{}},descending:r?-1:1});var c=Array.prototype.map.call(e,s);return c.sort(l),e=c.map(function(e){return e.value})}}function ir(e){return T(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function or(e,t){e.$name=t}function ar(e,t,r,i,a){var s=this,l=[];s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=Eo,s.$rollbackViewValue=function(){o(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){fe(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,n){s.$setValidity(n,null,e)}),o(s.$error,function(t,n){s.$setValidity(n,null,e)}),o(s.$$success,function(t,n){s.$setValidity(n,null,e)}),F(l,e),e.$$parentForm=Eo},_r({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){-1===r.indexOf(n)&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(F(r,n),0===r.length&&delete e[t])},$animate:i}),s.$setDirty=function(){i.removeClass(e,pa),i.addClass(e,fa),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){i.setClass(e,pa,fa+" "+Do),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(l,function(e){e.$setPristine()})},s.$setUntouched=function(){o(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,Do),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function sr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function lr(e,t,n,r,i,o){ur(e,t,n,r,i,o),sr(r)}function ur(e,t,n,r,i,o){var a=Tr(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Yr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),Uo[a]&&r.$$hasNativeValidators&&a===n.type&&t.on(Ho,function(e){if(!l){var t=this[Cr],n=t.badInput,r=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===r||u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function cr(e,t){if(C(e))return e;if($(e)){Fo.lastIndex=0;var n=Fo.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=Gn(r),c=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return NaN}function dr(e,t){return function(n,r){var i,a;if(C(n))return n;if($(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Oo.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function pr(e,t,r,i){return function(o,a,s,l,u,c,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return w(e)&&!C(e)?r(e)||n:e}fr(o,a,s,l),ur(o,a,s,l,u,c);var h,m=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var i=r(e,h);return m&&(i=Q(i,m)),i}return n}),l.$formatters.push(function(e){if(e&&!C(e))throw va("datefmt","Expected `{0}` to be a date",e);return p(e)?(h=e,h&&m&&(h=Q(h,m,!0)),d("date")(e,i,m)):(h=null,"")}),w(s.min)||s.ngMin){var g;l.$validators.min=function(e){return!p(e)||b(g)||r(e)>=g},s.$observe("min",function(e){g=f(e),l.$validate()})}if(w(s.max)||s.ngMax){var v;l.$validators.max=function(e){return!p(e)||b(v)||r(e)<=v},s.$observe("max",function(e){v=f(e),l.$validate()})}}}function fr(e,t,r,i){var o=t[0];(i.$$hasNativeValidators=_(o.validity))&&i.$parsers.push(function(e){var r=t.prop(Cr)||{};return r.badInput&&!r.typeMismatch?n:e})}function hr(e,t,r,i,o,a){if(fr(e,t,r,i),ur(e,t,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:Lo.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!x(e))throw va("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),w(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||b(s)||e>=s},r.$observe("min",function(e){w(e)&&!x(e)&&(e=parseFloat(e,10)),s=x(e)&&!isNaN(e)?e:n,i.$validate()})}if(w(r.max)||r.ngMax){var l;i.$validators.max=function(e){return i.$isEmpty(e)||b(l)||e<=l},r.$observe("max",function(e){w(e)&&!x(e)&&(e=parseFloat(e,10)),l=x(e)&&!isNaN(e)?e:n,i.$validate()})}}function mr(e,t,n,r,i,o){ur(e,t,n,r,i,o),sr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||jo.test(n)}}function gr(e,t,n,r,i,o){ur(e,t,n,r,i,o),sr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Io.test(n)}}function vr(e,t,n,r){b(n.name)&&t.attr("name",l());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function yr(e,t,n,r,i){var o;if(w(r)){if(o=e(r),
!o.constant)throw va("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function br(e,t,n,r,i,o,a,s){var l=yr(s,e,"ngTrueValue",n.ngTrueValue,!0),u=yr(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return H(e,l)}),r.$parsers.push(function(e){return e?l:u})}function wr(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){var t=[];return zr(e)?(o(e,function(e){t=t.concat(i(e))}),t):$(e)?e.split(" "):_(e)?(o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function u(e){var t=d(e,1);l.$addClass(t)}function c(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||ge(),r=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function p(e,t){var i=r(t,e),o=r(e,t);i=d(i,1),o=d(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function f(e){if(!0===t||a.$index%2===t){var n=i(e||[]);if(h){if(!H(e,h)){var r=i(h);p(r,n)}}else u(n)}h=zr(e)?e.map(function(e){return B(e)}):B(e)}var h;a.$watch(l[e],f,!0),l.$observe("class",function(){f(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(l[e]));o===t?u(s):c(s)}})}}}]}function _r(e){function t(e,t,l){b(t)?r("$pending",e,l):i("$pending",e,l),O(t)?t?(d(s.$error,e,l),c(s.$$success,e,l)):(c(s.$error,e,l),d(s.$$success,e,l)):(d(s.$error,e,l),d(s.$$success,e,l)),s.$pending?(o(ga,!0),s.$valid=s.$invalid=n,a("",null)):(o(ga,!1),s.$valid=kr(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var u;u=s.$pending&&s.$pending[e]?n:!s.$error[e]&&(!!s.$$success[e]||null),a(e,u),s.$$parentForm.$setValidity(e,u,s)}function r(e,t,n){s[e]||(s[e]={}),c(s[e],t,n)}function i(e,t,r){s[e]&&d(s[e],t,r),kr(s[e])&&(s[e]=n)}function o(e,t){t&&!u[e]?(p.addClass(l,e),u[e]=!0):!t&&u[e]&&(p.removeClass(l,e),u[e]=!1)}function a(e,t){e=e?"-"+ue(e,"-"):"",o(ca+e,!0===t),o(da+e,!1===t)}var s=e.ctrl,l=e.$element,u={},c=e.set,d=e.unset,p=e.$animate;u[da]=!(u[ca]=l.hasClass(ca)),s.$setValidity=t}function kr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function $r(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var xr=/^\/(.+)\/([a-z]*)$/,Cr="validity",Tr=function(e){return $(e)?e.toLowerCase():e},Sr=Object.prototype.hasOwnProperty,Er=function(e){return $(e)?e.toUpperCase():e},Dr=function(e){return $(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Ar=function(e){return $(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Tr=Dr,Er=Ar);var Mr,Pr,Or,jr,Ir=[].slice,Lr=[].splice,Rr=[].push,Nr=Object.prototype.toString,Fr=Object.getPrototypeOf,Vr=r("ng"),Br=e.angular||(e.angular={}),Hr=0;Mr=t.documentMode,m.$inject=[],g.$inject=[];var Ur,zr=Array.isArray,qr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Yr=function(e){return $(e)?e.trim():e},Wr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Gr=function(){function e(){try{return new Function(""),!1}catch(e){return!0}}if(!w(Gr.rules)){var n=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Gr.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else Gr.rules={noUnsafeEval:e(),noInlineStyle:!1}}return Gr.rules},Xr=function(){if(w(Xr.name_))return Xr.name_;var e,n,r,i,o=Qr.length;for(n=0;n<o;++n)if(r=Qr[n],e=t.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return Xr.name_=i},Jr=/:/g,Qr=["ng-","data-ng-","ng:","x-ng-"],Zr=/[A-Z]/g,Kr=!1,ei=1,ti=2,ni=3,ri=8,ii=9,oi=11,ai={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};De.expando="ng339";var si=De.cache={},li=1,ui=function(e,t,n){e.addEventListener(t,n,!1)},ci=function(e,t,n){e.removeEventListener(t,n,!1)};De._data=function(e){return this.cache[e[this.expando]]||{}};var di=/([\:\-\_]+(.))/g,pi=/^moz([A-Z])/,fi={mouseleave:"mouseout",mouseenter:"mouseover"},hi=r("jqLite"),mi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gi=/<|&#?\w+;/,vi=/<([\w:-]+)/,yi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,bi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};bi.optgroup=bi.option,bi.tbody=bi.tfoot=bi.colgroup=bi.caption=bi.thead,bi.th=bi.td;var wi=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},_i=De.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),De(e).on("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Pr(e>=0?this[e]:this[this.length+e])},length:0,push:Rr,sort:[].sort,splice:[].splice},ki={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){ki[Tr(e)]=e});var $i={};o("input,select,option,textarea,button,form,details".split(","),function(e){$i[e]=!0});var xi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Ie,removeData:Oe,hasData:Ce},function(e,t){De[t]=e}),o({data:Ie,inheritedData:Be,scope:function(e){return Pr.data(e,"$scope")||Be(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Pr.data(e,"$isolateScope")||Pr.data(e,"$isolateScopeNoTemplate")},controller:Ve,injector:function(e){return Be(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Le,css:function(e,t,n){if(t=ke(t),!w(n))return e.style[t];e.style[t]=n},attr:function(e,t,r){var i=e.nodeType;if(i!==ni&&i!==ti&&i!==ri){var o=Tr(t);if(ki[o]){if(!w(r))return e[t]||(e.attributes.getNamedItem(t)||m).specified?o:n;r?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(w(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}}},prop:function(e,t,n){if(!w(n))return e[t];e[t]=n},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===ei||n===ni?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===N(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(b(t))return e.innerHTML;Me(e,!0),e.innerHTML=t},empty:He},function(e,t){De.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==He&&b(2==e.length&&e!==Le&&e!==Ve?t:n)){if(_(t)){for(r=0;r<o;r++)if(e===Ie)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=b(a)?Math.min(o,1):o,l=0;l<s;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(r=0;r<o;r++)e(this[r],t,n);return this}}),o({removeData:Oe,on:function(e,t,r,i){if(w(i))throw hi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(xe(e)){var o=je(e,!0),a=o.events,s=o.handle;s||(s=o.handle=We(e,a));for(var l=t.indexOf(" ")>=0?t.split(" "):[t],u=l.length,c=function(t,n,i){var o=a[t];o||(o=a[t]=[],o.specialHandlerWrapper=n,"$destroy"===t||i||ui(e,t,s)),o.push(r)};u--;)t=l[u],fi[t]?(c(fi[t],Xe),c(t,n,!0)):c(t)}},off:Pe,one:function(e,t,n){e=Pr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Me(e),o(new De(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===ei&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===ei||n===oi){t=new De(t);for(var r=0,i=t.length;r<i;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===ei){var n=e.firstChild;o(new De(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Ee(e,Pr(t).eq(0).clone()[0])},remove:Ue,detach:function(e){Ue(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new De(t);for(var i=0,o=t.length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Ne,removeClass:Re,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;b(r)&&(r=!Le(e,t)),(r?Ne:Re)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==oi?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Ae,triggerHandler:function(e,t,n){var r,i,a,s=t.type||t,l=je(e),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:m,type:s,target:e},t.type&&(r=d(r,t)),i=B(c),a=n?[r].concat(n):[r],o(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){De.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;o<a;o++)b(i)?(i=e(this[o],t,n,r),w(i)&&(i=Pr(i))):Fe(i,e(this[o],t,n,r));return w(i)?i:this},De.prototype.bind=De.prototype.on,De.prototype.unbind=De.prototype.off}),Ze.prototype={put:function(e,t){this[Qe(e,this.nextUid)]=t},get:function(e){return this[Qe(e,this.nextUid)]},remove:function(e){var t=this[e=Qe(e,this.nextUid)];return delete this[e],t}};var Ci=[function(){this.$get=[function(){return Ze}]}],Ti=/^[^\(]*\(\s*([^\)]*)\)/m,Si=/,/,Ei=/^\s*(_?)(\S+?)\1\s*$/,Di=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ai=r("$injector");tt.$$annotate=et;var Mi=r("$animate"),Pi=1,Oi="ng-animate",ji=function(){this.$get=function(){}},Ii=function(){var e=new Ze,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(e,t,n){var r=!1;return t&&(t=$(t)?t.split(" "):zr(t)?t:[],o(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){o(t,function(t){var n=e.get(t);if(n){var r=ot(t.attr("class")),i="",a="";o(n,function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){i&&Ne(e,i),a&&Re(e,a)}),e.remove(t)}}),t.length=0}function s(n,o,s){var l=e.get(n)||{},u=i(l,o,!0),c=i(l,s,!1);(u||c)&&(e.put(n,l),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:m,on:m,off:m,pin:m,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},Li=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Mi("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){if(new RegExp("(\\s+|\\/)"+Oi+"(\\s+|\\/)").test(this.$$classNameFilter.toString()))throw Mi("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Oi)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=it(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Pr(r),i=i&&Pr(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",at(o))},move:function(n,r,i,o){return r=r&&Pr(r),i=i&&Pr(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",at(o))},leave:function(t,n){return e.push(t,"leave",at(n),function(){t.remove()})},addClass:function(t,n,r){return r=at(r),r.addClass=rt(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=at(r),r.removeClass=rt(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=at(i),i.addClass=rt(i.addClass,n),i.removeClass=rt(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=at(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=rt(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Ri=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Ni=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,r,i){function a(e){this.setHost(e);var t=n(),o=function(e){i(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=r[0];n&&n.hidden?o(e):t(e)},this._state=0}var s=2;return a.chain=function(e,t){function n(){if(r===e.length)return void t(!0);e[r](function(e){if(!1===e)return void t(!1);r++,n()})}var r=0;n()},a.all=function(e,t){function n(n){i=i&&n,++r===e.length&&t(i)}var r=0,i=!0;o(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===s?e():this._doneCallbacks.push(e)},progress:m,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==s&&(o(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=s)}},a}]},Fi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=V(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:i,end:i}}}]},Vi=r("$compile");dt.$inject=["$provide","$$sanitizeUriProvider"];var Bi=/^((?:x|data)[\:\-_])/i,Hi=r("$controller"),Ui=/^(\S+)(\s+as\s+([\w$]+))?$/,zi=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Pr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},qi="application/json",Yi={"Content-Type":qi+";charset=utf-8"},Wi=/^\[|^\{(?!\{)/,Gi={"[":/]$/,"{":/}$/},Xi=/^\)\]\}',?\n/,Ji=r("$http"),Qi=function(e){return function(){throw Ji("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},Zi=Br.$interpolateMinErr=r("$interpolate");Zi.throwNoconcat=function(e){throw Zi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Zi.interr=function(e,t){return Zi("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Ki=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,eo={http:80,https:443,ftp:21},to=r("$location"),no={$$html5:!1,$$replace:!1,absUrl:qt("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Ki.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:qt("$$protocol"),host:qt("$$host"),port:qt("$$port"),path:Yt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if($(e)||x(e))e=e.toString(),this.$$search=ee(e);else{if(!_(e))throw to("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=V(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Yt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([zt,Ut,Ht],function(e){e.prototype=Object.create(no),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Ht||!this.$$html5)throw to("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(t)?null:t,this}});var ro=r("$parse"),io=Function.prototype.call,oo=Function.prototype.apply,ao=Function.prototype.bind,so=ge();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){so[e]=!0});var lo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},uo=function(e){this.options=e};uo.prototype={constructor:uo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=so[t],o=so[n],a=so[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||"\xa0"===e},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=w(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw ro("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Tr(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=lo[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var co=function(e,t){this.lexer=e,this.options=t};co.Program="Program",co.ExpressionStatement="ExpressionStatement",co.AssignmentExpression="AssignmentExpression",co.ConditionalExpression="ConditionalExpression",co.LogicalExpression="LogicalExpression",co.BinaryExpression="BinaryExpression",co.UnaryExpression="UnaryExpression",co.CallExpression="CallExpression",co.MemberExpression="MemberExpression",co.Identifier="Identifier",co.Literal="Literal",co.ArrayExpression="ArrayExpression",co.Property="Property",co.ObjectExpression="ObjectExpression",co.ThisExpression="ThisExpression",co.NGValueParameter="NGValueParameter",co.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:co.Program,body:e}},expressionStatement:function(){return{type:co.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:co.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:co.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:co.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:co.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:co.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:co.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:co.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:co.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:co.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=V(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:co.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:co.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:co.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:co.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.expression())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:co.Identifier,name:e.text}},constant:function(){return{type:co.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:co.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:co.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:co.ObjectExpression,properties:t}},throwError:function(e,t){throw ro("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw ro("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw ro("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},constants:{"true":{type:co.Literal,value:!0},"false":{type:co.Literal,value:!1},"null":{type:co.Literal,value:null},undefined:{type:co.Literal,value:n},"this":{type:co.ThisExpression}}},cn.prototype={compile:function(e,t){var r=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},rn(i,r.$filter);var a,s="";if(this.stage="assign",a=sn(i)){this.state.computing="assign";var l=this.nextId();this.recurse(a,l),this.return_(l),s="fn.assign="+this.generateFunction("assign","s,v,l")}var u=on(i.body);r.stage="inputs",o(u,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",d=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,Xt,Qt,Zt,Jt,Kt,en,tn,e);return this.state=this.stage=n,d.literal=ln(i),d.constant=un(i),d},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,i,a,s){var l,u,c,d,p=this;if(i=i||m,!s&&w(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,i,a,!0));switch(e.type){case co.Program:o(e.body,function(t,r){p.recurse(t.expression,n,n,function(e){u=e}),r!==e.body.length-1?p.current().body.push(u,";"):p.return_(u)});break;case co.Literal:d=this.escape(e.value),this.assign(t,d),i(d);break;case co.UnaryExpression:this.recurse(e.argument,n,n,function(e){u=e}),d=e.operator+"("+this.ifDefined(u,0)+")",this.assign(t,d),i(d);break;case co.BinaryExpression:this.recurse(e.left,n,n,function(e){l=e}),this.recurse(e.right,n,n,function(e){u=e}),d="+"===e.operator?this.plus(l,u):"-"===e.operator?this.ifDefined(l,0)+e.operator+this.ifDefined(u,0):"("+l+")"+e.operator+"("+u+")",this.assign(t,d),i(d);break;case co.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),i(t);break;case co.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),i(t);break;case co.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),Xt(e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){a&&1!==a&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||pn(e.name))&&p.addEnsureSafeObject(t),i(t);break;case co.MemberExpression:l=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,l,n,function(){p.if_(p.notNull(l),function(){a&&1!==a&&p.addEnsureSafeAssignContext(l),e.computed?(u=p.nextId(),p.recurse(e.property,u),p.getStringValue(u),p.addEnsureSafeMemberName(u),a&&1!==a&&p.if_(p.not(p.computedMember(l,u)),p.lazyAssign(p.computedMember(l,u),"{}")),d=p.ensureSafeObject(p.computedMember(l,u)),p.assign(t,d),r&&(r.computed=!0,r.name=u)):(Xt(e.property.name),a&&1!==a&&p.if_(p.not(p.nonComputedMember(l,e.property.name)),p.lazyAssign(p.nonComputedMember(l,e.property.name),"{}")),d=p.nonComputedMember(l,e.property.name),(p.state.expensiveChecks||pn(e.property.name))&&(d=p.ensureSafeObject(d)),p.assign(t,d),r&&(r.computed=!1,r.name=e.property.name))},function(){p.assign(t,"undefined")}),i(t)},!!a);break;case co.CallExpression:t=t||this.nextId(),e.filter?(u=p.filter(e.callee.name),c=[],o(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),c.push(t)}),d=u+"("+c.join(",")+")",p.assign(t,d),i(t)):(u=p.nextId(),l={},c=[],p.recurse(e.callee,u,l,function(){p.if_(p.notNull(u),function(){p.addEnsureSafeFunction(u),o(e.arguments,function(e){p.recurse(e,p.nextId(),n,function(e){c.push(p.ensureSafeObject(e))})}),l.name?(p.state.expensiveChecks||p.addEnsureSafeObject(l.context),d=p.member(l.context,l.name,l.computed)+"("+c.join(",")+")"):d=u+"("+c.join(",")+")",d=p.ensureSafeObject(d),p.assign(t,d)},function(){p.assign(t,"undefined")}),i(t)}));break;case co.AssignmentExpression:if(u=this.nextId(),l={},!an(e.left))throw ro("lval","Trying to assign a value to a non l-value");this.recurse(e.left,n,l,function(){p.if_(p.notNull(l.context),function(){p.recurse(e.right,u),p.addEnsureSafeObject(p.member(l.context,l.name,l.computed)),p.addEnsureSafeAssignContext(l.context),d=p.member(l.context,l.name,l.computed)+e.operator+u,p.assign(t,d),i(t||d)})},1);break;case co.ArrayExpression:c=[],o(e.elements,function(e){p.recurse(e,p.nextId(),n,function(e){c.push(e)})}),d="["+c.join(",")+"]",this.assign(t,d),i(d);break;case co.ObjectExpression:c=[],o(e.properties,function(e){p.recurse(e.value,p.nextId(),n,function(t){c.push(p.escape(e.key.type===co.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+c.join(",")+"}",this.assign(t,d),i(d);break;case co.ThisExpression:this.assign(t,"s"),i("s");break;case co.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){
return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+",text)")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if($(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw ro("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},dn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,rn(r,n.$filter);var i,a;(i=sn(r))&&(a=this.recurse(i));var s,l=on(r.body);l&&(s=[],o(l,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var u=[];o(r.body,function(e){u.push(n.recurse(e.expression))});var c=0===r.body.length?function(){}:1===r.body.length?u[0]:function(e,t){var n;return o(u,function(r){n=r(e,t)}),n};return a&&(c.assign=function(e,t,n){return a(e,n,t)}),s&&(c.inputs=s),c.literal=ln(r),c.constant=un(r),c},recurse:function(e,t,r){var i,a,s,l=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case co.Literal:return this.value(e.value,t);case co.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case co.BinaryExpression:case co.LogicalExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case co.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case co.Identifier:return Xt(e.name,l.expression),l.identifier(e.name,l.expensiveChecks||pn(e.name),t,r,l.expression);case co.MemberExpression:return i=this.recurse(e.object,!1,!!r),e.computed||(Xt(e.property.name,l.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(i,a,t,r,l.expression):this.nonComputedMember(i,a,l.expensiveChecks,t,r,l.expression);case co.CallExpression:return s=[],o(e.arguments,function(e){s.push(l.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,r,i,o){for(var l=[],u=0;u<s.length;++u)l.push(s[u](e,r,i,o));var c=a.apply(n,l,o);return t?{context:n,name:n,value:c}:c}:function(e,n,r,i){var o,u=a(e,n,r,i);if(null!=u.value){Qt(u.context,l.expression),Zt(u.value,l.expression);for(var c=[],d=0;d<s.length;++d)c.push(Qt(s[d](e,n,r,i),l.expression));o=Qt(u.value.apply(u.context,c),l.expression)}return t?{value:o}:o};case co.AssignmentExpression:return i=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,r,o){var s=i(e,n,r,o),u=a(e,n,r,o);return Qt(s.value,l.expression),Kt(s.context),s.context[s.name]=u,t?{value:u}:u};case co.ArrayExpression:return s=[],o(e.elements,function(e){s.push(l.recurse(e))}),function(e,n,r,i){for(var o=[],a=0;a<s.length;++a)o.push(s[a](e,n,r,i));return t?{value:o}:o};case co.ObjectExpression:return s=[],o(e.properties,function(e){s.push({key:e.key.type===co.Identifier?e.key.name:""+e.key.value,value:l.recurse(e.value)})}),function(e,n,r,i){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(e,n,r,i);return t?{value:o}:o};case co.ThisExpression:return function(e){return t?{value:e}:e};case co.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=w(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=w(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=tn(s,l);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=(w(s)?s:0)-(w(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var l=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,i,o){return function(a,s){var l=s&&e in s?s:a;i&&1!==i&&l&&!l[e]&&(l[e]={});var u=l?l[e]:n;return t&&Qt(u,o),r?{context:l,name:e,value:u}:u}},computedMember:function(e,t,n,r,i){return function(o,a,s,l){var u,c,d=e(o,a,s,l);return null!=d&&(u=t(o,a,s,l),u=Jt(u),Xt(u,i),r&&1!==r&&(Kt(d),d&&!d[u]&&(d[u]={})),c=d[u],Qt(c,i)),n?{context:d,name:u,value:c}:c}},nonComputedMember:function(e,t,r,i,o,a){return function(s,l,u,c){var d=e(s,l,u,c);o&&1!==o&&(Kt(d),d&&!d[t]&&(d[t]={}));var p=null!=d?d[t]:n;return(r||pn(t))&&Qt(p,a),i?{context:d,name:t,value:p}:p}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var po=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new co(this.lexer),this.astCompiler=n.csp?new dn(this.ast,t):new cn(this.ast,t)};po.prototype={constructor:po,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var fo=Object.prototype.valueOf,ho=r("$sce"),mo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Vi=r("$compile"),go=t.createElement("a"),vo=Dn(e.location.href);Pn.$inject=["$document"],jn.$inject=["$provide"];var yo=22,bo=".",wo="0";Fn.$inject=["$locale"],Vn.$inject=["$locale"];var _o={yyyy:qn("FullYear",4),yy:qn("FullYear",2,0,!0),y:qn("FullYear",1),MMMM:Yn("Month"),MMM:Yn("Month",!0),MM:qn("Month",2,1),M:qn("Month",1,1),dd:qn("Date",2),d:qn("Date",1),HH:qn("Hours",2),H:qn("Hours",1),hh:qn("Hours",2,-12),h:qn("Hours",1,-12),mm:qn("Minutes",2),m:qn("Minutes",1),ss:qn("Seconds",2),s:qn("Seconds",1),sss:qn("Milliseconds",3),EEEE:Yn("Day"),EEE:Yn("Day",!0),a:Qn,Z:Wn,ww:Jn(2),w:Jn(1),G:Zn,GG:Zn,GGG:Zn,GGGG:Kn},ko=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,$o=/^\-?\d+$/;er.$inject=["$locale"];var xo=v(Tr),Co=v(Er);rr.$inject=["$parse"];var To=v({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Nr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),So={};o(ki,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=pt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),So[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(xi,function(e,t){So[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(xr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=pt("ng-"+e);So[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Nr.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){if(!t)return void("href"===e&&i.$set(a,null));i.$set(a,t),Mr&&o&&r.prop(o,i[a])})}}}});var Eo={$addControl:m,$$renameControl:or,$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m},Do="ng-submitted";ar.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ao=function(e){return["$timeout","$parse",function(t,r){function i(e){return""===e?r('this[""]').assign:r(e).assign||m}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:ar,compile:function(r,o){r.addClass(pa).addClass(ca);var a=o.name?"name":!(!e||!o.ngForm)&&"ngForm";return{pre:function(e,r,o,s){var l=s[0];if(!("action"in o)){var u=function(t){e.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),t.preventDefault()};ui(r[0],"submit",u),r.on("$destroy",function(){t(function(){ci(r[0],"submit",u)},0,!1)})}(s[1]||l.$$parentForm).$addControl(l);var c=a?i(l.$name):m;a&&(c(e,l),o.$observe(a,function(t){l.$name!==t&&(c(e,n),l.$$parentForm.$$renameControl(l,t),(c=i(l.$name))(e,l))})),r.on("$destroy",function(){l.$$parentForm.$removeControl(l),c(e,n),d(l,Eo)})}}}}}]},Mo=Ao(),Po=Ao(!0),Oo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,jo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Io=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Lo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ro=/^(\d{4})-(\d{2})-(\d{2})$/,No=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Fo=/^(\d{4})-W(\d\d)$/,Vo=/^(\d{4})-(\d\d)$/,Bo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ho="keydown wheel mousedown",Uo=ge();o("date,datetime-local,month,time,week".split(","),function(e){Uo[e]=!0});var zo={text:lr,date:pr("date",Ro,dr(Ro,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":pr("datetimelocal",No,dr(No,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:pr("time",Bo,dr(Bo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:pr("week",Fo,cr,"yyyy-Www"),month:pr("month",Vo,dr(Vo,["yyyy","MM"]),"yyyy-MM"),number:hr,url:mr,email:gr,radio:vr,checkbox:br,hidden:m,button:m,submit:m,reset:m,file:m},qo=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(zo[Tr(a.type)]||zo.text)(i,o,a,s[0],t,e,n,r)}}}}],Yo=/^(true|false|\d+)$/,Wo=function(){return{restrict:"A",priority:100,compile:function(e,t){return Yo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Go=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=b(e)?"":e})}}}}],Xo=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=b(e)?"":e})}}}}],Jo=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],Qo=v({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Zo=wr("",!0),Ko=wr("Odd",0),ea=wr("Even",1),ta=ir({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),na=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ra={},ia={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=pt("ng-"+e);ra[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};ia[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var oa=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=me(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],aa=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Br.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var d,p,f,h=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){p=null}),p=f,f=null)};r.$watch(o,function(o){var l=function(){!w(s)||s&&!r.$eval(s)||t()},p=++h;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&p===h){var t=r.$new();u.template=e;var s=c(t,function(e){m(),n.enter(e,null,i).then(l)});d=t,f=s,d.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||p===h&&(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],sa=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(/SVG/.test(r[0].toString()))return r.empty(),void e(Te(o.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r});r.html(o.template),e(r.contents())(n)}}}],la=ir({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),ua=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var a=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?Yr(a):a,u=function(e){if(!b(e)){var t=[];return e&&o(e.split(l),function(e){e&&t.push(s?Yr(e):e)}),t}};i.$parsers.push(u),i.$formatters.push(function(e){return zr(e)?e.join(a):n}),i.$isEmpty=function(e){return!e||!e.length}}}},ca="ng-valid",da="ng-invalid",pa="ng-pristine",fa="ng-dirty",ha="ng-untouched",ma="ng-touched",ga="ng-pending",va=r("ngModel"),ya=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,a,s,l,u,c,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(e),this.$$parentForm=Eo;var p,f=a(r.ngModel),h=f.assign,g=f,v=h,y=null,_=this;this.$$setOptions=function(e){if(_.$options=e,e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");g=function(e){var n=f(e);return T(n)&&(n=t(e)),n},v=function(e){T(f(e))?n(e,{$$$p:_.$modelValue}):h(e,_.$modelValue)}}else if(!f.assign)throw va("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,Z(i))},this.$render=m,this.$isEmpty=function(e){return b(e)||""===e||null===e||e!==e};var k=0;_r({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){_.$dirty=!1,_.$pristine=!0,s.removeClass(i,fa),s.addClass(i,pa)},this.$setDirty=function(){_.$dirty=!0,_.$pristine=!1,s.removeClass(i,pa),s.addClass(i,fa),_.$$parentForm.$setDirty()},this.$setUntouched=function(){_.$touched=!1,_.$untouched=!0,s.setClass(i,ha,ma)},this.$setTouched=function(){_.$touched=!0,_.$untouched=!1,s.setClass(i,ma,ha)},this.$rollbackViewValue=function(){l.cancel(y),_.$viewValue=_.$$lastCommittedViewValue,_.$render()},this.$validate=function(){if(!x(_.$modelValue)||!isNaN(_.$modelValue)){var e=_.$$lastCommittedViewValue,t=_.$$rawModelValue,r=_.$valid,i=_.$modelValue,o=_.$options&&_.$options.allowInvalid;_.$$runValidators(t,e,function(e){o||r===e||(_.$modelValue=e?t:n,_.$modelValue!==i&&_.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var e=_.$$parserName||"parse";return b(p)?(l(e,null),!0):(p||(o(_.$validators,function(e,t){l(t,null)}),o(_.$asyncValidators,function(e,t){l(t,null)})),l(e,p),p)}function a(){var n=!0;return o(_.$validators,function(r,i){var o=r(e,t);n=n&&o,l(i,o)}),!!n||(o(_.$asyncValidators,function(e,t){l(t,null)}),!1)}function s(){var r=[],i=!0;o(_.$asyncValidators,function(o,a){var s=o(e,t);if(!j(s))throw va("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(a,n),r.push(s.then(function(){l(a,!0)},function(){i=!1,l(a,!1)}))}),r.length?c.all(r).then(function(){u(i)},m):u(!0)}function l(e,t){d===k&&_.$setValidity(e,t)}function u(e){d===k&&r(e)}k++;var d=k;return i()&&a()?void s():void u(!1)},this.$commitViewValue=function(){var e=_.$viewValue;l.cancel(y),(_.$$lastCommittedViewValue!==e||""===e&&_.$$hasNativeValidators)&&(_.$$lastCommittedViewValue=e,_.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){_.$modelValue!==a&&_.$$writeModelToScope()}var r=_.$$lastCommittedViewValue,i=r;if(p=!b(i)||n)for(var o=0;o<_.$parsers.length;o++)if(i=_.$parsers[o](i),b(i)){p=!1;break}x(_.$modelValue)&&isNaN(_.$modelValue)&&(_.$modelValue=g(e));var a=_.$modelValue,s=_.$options&&_.$options.allowInvalid;_.$$rawModelValue=i,s&&(_.$modelValue=i,t()),_.$$runValidators(i,_.$$lastCommittedViewValue,function(e){s||(_.$modelValue=e?i:n,t())})},this.$$writeModelToScope=function(){v(e,_.$modelValue),o(_.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}})},this.$setViewValue=function(e,t){_.$viewValue=e,_.$options&&!_.$options.updateOnDefault||_.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=_.$options;i&&w(i.debounce)&&(n=i.debounce,x(n)?r=n:x(n[t])?r=n[t]:x(n["default"])&&(r=n["default"])),l.cancel(y),r?y=l(function(){_.$commitViewValue()},r):u.$$phase?_.$commitViewValue():e.$apply(function(){_.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==_.$modelValue&&(_.$modelValue===_.$modelValue||t===t)){_.$modelValue=_.$$rawModelValue=t,p=n;for(var r=_.$formatters,i=r.length,o=t;i--;)o=r[i](o);_.$viewValue!==o&&(_.$viewValue=_.$$lastCommittedViewValue=o,_.$render(),_.$$runValidators(t,o,m))}return t})}],ba=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ya,priority:1,compile:function(t){return t.addClass(pa).addClass(ha).addClass(ca),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],wa=/(\s+|^)default(\s+|$)/,_a=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=V(e.$eval(t.ngModelOptions)),w(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Yr(this.$options.updateOn.replace(wa,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ka=ir({terminal:!0,priority:1e3}),$a=r("ngOptions"),xa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ca=["$compile","$parse",function(e,n){function r(e,t,r){function o(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!u&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(xa);if(!s)throw $a("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Z(t));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],d=s[9],p=n(s[2]?s[1]:l),f=c&&n(c),h=f||p,m=d&&n(d),g=d?function(e,t){return m(r,t)}:function(e){return Qe(e)},v=function(e,t){return g(e,$(e,t))},y=n(s[2]||s[1]),b=n(s[3]||""),w=n(s[4]||""),_=n(s[8]),k={},$=u?function(e,t){return k[u]=t,k[l]=e,k}:function(e){return k[l]=e,k};return{trackBy:d,getTrackByValue:v,getWatchables:n(_,function(e){var t=[];e=e||[];for(var n=a(e),i=n.length,o=0;o<i;o++){var l=e===n?o:n[o],u=(e[l],$(e[l],l)),c=g(e[l],u);if(t.push(c),s[2]||s[1]){var d=y(r,u);t.push(d)}if(s[4]){var p=w(r,u);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},n=_(r)||[],i=a(n),s=i.length,l=0;l<s;l++){var u=n===i?l:i[l],c=n[u],p=$(c,u),f=h(r,p),m=g(f,p),k=y(r,p),x=b(r,p),C=w(r,p),T=new o(m,f,k,x,C);e.push(T),t[m]=T}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?Br.copy(e.viewValue):e.viewValue}}}}}function a(t,n,i,a){function u(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function c(e,t,n,r){var i;return t&&Tr(t.nodeName)===n?i=t:(i=r.cloneNode(!1),t?e.insertBefore(i,t):e.appendChild(i)),i}function d(e){for(var t;e;)t=e.nextSibling,Ue(e),e=t}function p(e){var t=m&&m[0],n=k&&k[0];if(t||n)for(;e&&(e===t||e===n||e.nodeType===ri||"option"===N(e)&&""===e.value);)e=e.nextSibling;return e}function f(){var e=$&&g.readValue();$=x.getOptions();var t={},r=n[0].firstChild;if(_&&n.prepend(m),r=p(r),$.items.forEach(function(e){var i,o,a;e.group?(i=t[e.group],i||(o=c(n[0],r,"optgroup",l),r=o.nextSibling,o.label=e.group,i=t[e.group]={groupElement:o,currentOptionElement:o.firstChild}),a=c(i.groupElement,i.currentOptionElement,"option",s),u(e,a),i.currentOptionElement=a.nextSibling):(a=c(n[0],r,"option",s),u(e,a),r=a.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(r),h.$render(),!h.$isEmpty(e)){var i=g.readValue();(x.trackBy||v?H(e,i):e===i)||(h.$setViewValue(i),h.$render())}}var h=a[1];if(h){for(var m,g=a[0],v=i.multiple,y=0,b=n.children(),w=b.length;y<w;y++)if(""===b[y].value){m=b.eq(y);break}var _=!!m,k=Pr(s.cloneNode(!1));k.val("?");var $,x=r(i.ngOptions,n,t),C=function(){_||n.prepend(m),n.val(""),m.prop("selected",!0),m.attr("selected",!0)},T=function(){_||m.remove()},S=function(){n.prepend(k),n.val("?"),k.prop("selected",!0),k.attr("selected",!0)},E=function(){k.remove()};v?(h.$isEmpty=function(e){return!e||0===e.length},g.writeValue=function(e){$.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=$.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)})},g.readValue=function(){var e=n.val()||[],t=[];return o(e,function(e){var n=$.selectValueMap[e];n&&!n.disabled&&t.push($.getViewValueFromOption(n))}),t},x.trackBy&&t.$watchCollection(function(){if(zr(h.$viewValue))return h.$viewValue.map(function(e){return x.getTrackByValue(e)})},function(){h.$render()})):(g.writeValue=function(e){var t=$.getOptionFromViewValue(e);t&&!t.disabled?(n[0].value!==t.selectValue&&(E(),T(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||_?(E(),C()):(T(),S())},g.readValue=function(){var e=$.selectValueMap[n.val()];return e&&!e.disabled?(T(),E(),$.getViewValueFromOption(e)):null},x.trackBy&&t.$watch(function(){return x.getTrackByValue(h.$viewValue)},function(){h.$render()})),_?(m.remove(),e(m)(t),m.removeClass("ng-scope")):m=Pr(s.cloneNode(!1)),f(),t.$watchCollection(x.getWatchables,f)}}var s=t.createElement("option"),l=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=m},post:a}}}],Ta=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,d=l.count,p=l.$attr.when&&s.attr(l.$attr.when),f=l.offset||0,h=a.$eval(p)||{},g={},v=t.startSymbol(),y=t.endSymbol(),w=v+d+"-"+f+y,_=Br.noop;o(l,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+Tr(n[2]);h[r]=s.attr(l.$attr[t])}}),o(h,function(e,n){g[n]=t(e.replace(r,w))}),a.$watch(d,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in h||(r=e.pluralCat(r-f)),r!==c&&!(i&&x(c)&&isNaN(c))){_();var o=g[r];b(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),_=m,u()):_=a.$watch(o,u),c=r}})}}}],Sa=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",l=r("ngRepeat"),u=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},c=function(e){return e.clone[0]},d=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,p){var f=p.ngRepeat,h=t.createComment(" end ngRepeat: "+f+" "),m=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=m[1],v=m[2],y=m[3],b=m[4];if(!(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var w=m[3]||m[1],_=m[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var k,$,x,C,T={$id:Qe};return b?k=e(b):(x=function(e,t){return Qe(t)},C=function(e){return e}),function(e,t,r,p,m){k&&($=function(t,n,r){return _&&(T[_]=t),T[w]=n,T.$index=r,k(e,T)});var g=ge();e.$watchCollection(v,function(r){var p,v,b,k,T,S,E,D,A,M,P,O,j=t[0],I=ge();if(y&&(e[y]=r),i(r))A=r,D=$||x;else{D=$||C,A=[];for(var L in r)Sr.call(r,L)&&"$"!==L.charAt(0)&&A.push(L)}for(k=A.length,P=new Array(k),p=0;p<k;p++)if(T=r===A?p:A[p],S=r[T],E=D(T,S,p),g[E])M=g[E],delete g[E],I[E]=M,P[p]=M;else{if(I[E])throw o(P,function(e){e&&e.scope&&(g[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,E,S);P[p]={id:E,scope:n,clone:n},I[E]=!0}for(var R in g){if(M=g[R],O=me(M.clone),a.leave(O),O[0].parentNode)for(p=0,v=O.length;p<v;p++)O[p][s]=!0;M.scope.$destroy()}for(p=0;p<k;p++)if(T=r===A?p:A[p],S=r[T],M=P[p],M.scope){b=j;do{b=b.nextSibling}while(b&&b[s]);c(M)!=b&&a.move(me(M.clone),null,j),j=d(M),u(M.scope,p,w,S,_,T,k)}else m(function(e,t){M.scope=t;var n=h.cloneNode(!1);e[e.length++]=n,a.enter(e,null,j),j=n,M.clone=e,I[M.id]=M,u(M.scope,p,w,S,_,T,k)});g=I})}}}}],Ea="ng-hide",Da="ng-hide-animate",Aa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Ea,{tempClasses:Da})})}}}],Ma=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Ea,{tempClasses:Da})})}}}],Pa=ir(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Oa=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,l=[],u=[],c=[],d=[],p=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;r<i;++r)e.cancel(c[r]);for(c.length=0,r=0,i=d.length;r<i;++r){var s=me(u[r].clone);d[r].$destroy();(c[r]=e.leave(s)).then(p(c,r))}u.length=0,d.length=0,(l=a.cases["!"+n]||a.cases["?"])&&o(l,function(n){n.transclude(function(r,i){d.push(i);var o=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:r};u.push(a),e.enter(r,o.parent(),o)})})})}}}],ja=ir({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Ia=ir({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),La=ir({restrict:"EAC",link:function(e,t,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Z(t));o(function(e){t.empty(),t.append(e)})}}),Ra=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Na={$setViewValue:m,$render:m},Fa=["$element","$scope","$attrs",function(e,r){var i=this,o=new Ze;i.ngModelCtrl=Na,i.unknownOption=Pr(t.createElement("option")),i.renderUnknownOption=function(t){var n="? "+Qe(t)+" ?";i.unknownOption.val(n),e.prepend(i.unknownOption),e.val(n)},r.$on("$destroy",function(){i.renderUnknownOption=m}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),e.val()},i.writeValue=function(t){i.hasOption(t)?(i.removeUnknownOption(),e.val(t),""===t&&i.emptyOption.prop("selected",!0)):null==t&&i.emptyOption?(i.removeUnknownOption(),e.val("")):i.renderUnknownOption(t)},i.addOption=function(e,t){if(t[0].nodeType!==ri){fe(e,'"option value"'),""===e&&(i.emptyOption=t);var n=o.get(e)||0;o.put(e,n+1),i.ngModelCtrl.$render(),$r(t)}},i.removeOption=function(e){var t=o.get(e);t&&(1===t?(o.remove(e),""===e&&(i.emptyOption=n)):o.put(e,t-1))},i.hasOption=function(e){return!!o.get(e)},i.registerOption=function(e,t,n,r,o){if(r){var a;n.$observe("value",function(e){w(a)&&i.removeOption(a),a=e,i.addOption(e,t)})}else o?e.$watch(o,function(e,r){n.$set("value",e),r!==e&&i.removeOption(r),i.addOption(e,t)}):i.addOption(n.value,t);t.on("$destroy",function(){i.removeOption(n.value),i.ngModelCtrl.$render()})}}],Va=function(){function e(e,t,n,r){var i=r[1];if(i){var a=r[0];if(a.ngModelCtrl=i,t.on("change",function(){e.$apply(function(){i.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Ze(e);o(t.find("option"),function(e){e.selected=w(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==i.$viewValue||H(s,i.$viewValue)||(s=B(i.$viewValue),i.$render()),l=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Fa,priority:1,link:{pre:e,post:t}}},Ba=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(w(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,r,i)}}}}],Ha=v({restrict:"E",terminal:!1}),Ua=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},za=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if($(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,Z(t));a=e||n,o.$validate()}),
o.$validators.pattern=function(e,t){return o.$isEmpty(t)||b(a)||a.test(t)}}}}},qa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=f(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},Ya=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=f(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};if(e.angular.bootstrap)return void(e.console&&console.log("WARNING: Tried to load angular more than once."));ce(),we(Br),Br.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function r(e,r){var i=r;n===i&&(i=Math.min(t(e),3));var o=Math.pow(10,i);return{v:i,f:(e*o|0)%o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\xa4",negSuf:"",posPre:"\xa4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n=0|e,o=r(e,t);return 1==n&&0==o.v?i.ONE:i.OTHER}})}]),Pr(t).ready(function(){oe(t,ae)})}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),angular.module("ng-rails-csrf",[]).config(["$httpProvider",function(e){var t=function(){var e=document.querySelector('meta[name="csrf-token"]');return e&&(e=e.getAttribute("content")),e},n=function(e){var t=document.createElement("a");return t.href=e,t.hostname===document.location.hostname};e.interceptors.push(function(){return{request:function(e){if(-1===["GET","HEAD"].indexOf(e.method)&&n(e.url)){var r=e.headers,i=t();i&&(r["X-CSRF-TOKEN"]=i,r["X-Requested-With"]="XMLHttpRequest")}return e}}})}]),function(e,t){"use strict";function n(){function e(e,t){if(e)return r(e)?e.indexOf(t)>=0:e.hasOwnProperty(t)}return["$animate",function(t){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(n,i,o,a,s){var l,u=i[0],c=o.ngMessage||o.when,d=o.ngMessageExp||o.whenExp,p=function(e){l=e?r(e)?e:e.split(/[\s,]+/):null,a.reRender()};d?(p(n.$eval(d)),n.$watchCollection(d,p)):p(c);var f,h;a.register(u,h={test:function(t){return e(l,t)},attach:function(){f||s(n,function(e){t.enter(e,null,i),f=e;var n=f.$$attachId=a.getAttachId();f.on("$destroy",function(){f&&f.$$attachId===n&&(a.deregister(u),h.detach())})})},detach:function(){if(f){var e=f;f=null,t.leave(e)}}})}}}]}var r=t.isArray,i=t.forEach,o=t.isString,a=t.element;t.module("ngMessages",[]).directive("ngMessages",["$animate",function(e){function t(e,t){return o(t)&&0===t.length||n(e.$eval(t))}function n(e){return o(e)?e.length:!!e}var r="ng-active",a="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(o,s,l){function u(e,t){for(var n=t,r=[];n&&n!==e;){var i=n.$$ngMessageNode;if(i&&i.length)return v[i];n.childNodes.length&&-1==r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,r.push(n))}}function c(e,t,n){var r=v[n];if(p.head){var i=u(e,t);i?(r.next=i.next,i.next=r):(r.next=p.head,p.head=r)}else p.head=r}function d(e,t,n){var r=v[n],i=u(e,t);i?i.next=r.next:p.head=r.next}var p=this,f=0,h=0;this.getAttachId=function(){return h++};var m,g,v=this.messages={};this.render=function(u){u=u||{},m=!1,g=u;for(var c=t(s,l.ngMessagesMultiple)||t(s,l.multiple),d=[],f={},h=p.head,v=!1,y=0;null!=h;){y++;var b=h.message,w=!1;v||i(u,function(e,t){if(!w&&n(e)&&b.test(t)){if(f[t])return;f[t]=!0,w=!0,b.attach()}}),w?v=!c:d.push(b),h=h.next}i(d,function(e){e.detach()}),d.length!==y?e.setClass(o,r,a):e.setClass(o,a,r)},s.$watchCollection(l.ngMessages||l["for"],p.render),o.on("$destroy",function(){i(v,function(e){e.message.detach()})}),this.reRender=function(){m||(m=!0,s.$evalAsync(function(){m&&g&&p.render(g)}))},this.register=function(e,t){var n=f.toString();v[n]={message:t},c(o[0],e,n),e.$$ngMessageNode=n,f++,p.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,d(o[0],e,t),delete v[t],p.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){return{restrict:"AE",require:"^^ngMessages",link:function(r,i,o){var s=o.ngMessagesInclude||o.src;e(s).then(function(e){n(e)(r,function(e){i.after(e);var n=a(t[0].createComment(" ngMessagesInclude: "+s+" "));i.after(n),i.remove()})})}}}]).directive("ngMessage",n("AE")).directive("ngMessageExp",n("A"))}(window,window.angular),angular.module("templates",[]),function(e,t){"use strict";function n(e,t,n){if(!e)throw he("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function r(e,t){return e||t?e?t?(H(e)&&(e=e.join(" ")),H(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function i(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var r="";return e=H(e)?e:e&&U(e)&&e.length?e.split(/\s+/):[],B(e,function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)}),r}function a(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof V)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===X)return e;break;default:return V(l(e))}if(e.nodeType===X)return V(e)}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==X)return n}}function u(e,t,n){B(t,function(t){e.addClass(t,n)})}function c(e,t,n){B(t,function(t){e.removeClass(t,n)})}function d(e){return function(t,n){n.addClass&&(u(e,t,n.addClass),n.addClass=null),n.removeClass&&(c(e,t,n.removeClass),n.removeClass=null)}}function p(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||R;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=R},e.$$prepared=!0}return e}function f(e,t){h(e,t),m(e,t)}function h(e,t){t.from&&(e.css(t.from),t.from=null)}function m(e,t){t.to&&(e.css(t.to),t.to=null)}function g(e,t,n){var r=t.options||{},i=n.options||{},o=(r.addClass||"")+" "+(i.addClass||""),a=(r.removeClass||"")+" "+(i.removeClass||""),s=v(e.attr("class"),o,a);i.preparationClasses&&(r.preparationClasses=x(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var l=r.domOperation!==R?r.domOperation:null;return F(r,i),l&&(r.domOperation=l),s.addClass?r.addClass=s.addClass:r.addClass=null,s.removeClass?r.removeClass=s.removeClass:r.removeClass=null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function v(e,t,n){function r(e){U(e)&&(e=e.split(" "));var t={};return B(e,function(e){e.length&&(t[e]=!0)}),t}var i=1,o=-1,a={};e=r(e),t=r(t),B(t,function(e,t){a[t]=i}),n=r(n),B(n,function(e,t){a[t]=a[t]===i?null:o});var s={addClass:"",removeClass:""};return B(a,function(t,n){var r,a;t===i?(r="addClass",a=!e[n]):t===o&&(r="removeClass",a=e[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function y(e){return e instanceof t.element?e[0]:e}function b(e,t,n){var r="";t&&(r=o(t,Z,!0)),n.addClass&&(r=x(r,o(n.addClass,J))),n.removeClass&&(r=x(r,o(n.removeClass,Q))),r.length&&(n.preparationClasses=r,e.addClass(r))}function w(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function _(e,t){var n=t?"-"+t+"s":"";return $(e,[pe,n]),[pe,n]}function k(e,t){var n=t?"paused":"",r=I+le;return $(e,[r,n]),[r,n]}function $(e,t){var n=t[0],r=t[1];e.style[n]=r}function x(e,t){return e?t?e+" "+t:e:t}function C(e){return[de,e+"s"]}function T(e,t){return[t?ce:pe,e+"s"]}function S(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return B(n,function(e,t){var n=i[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=E(n)),0===n&&(n=null),r[t]=n}}),r}function E(e){var t=0,n=e.split(/\s*,\s*/);return B(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function D(e){return 0===e||null!=e}function A(e,t){var n=O,r=e+"s";return t?n+=re:r+=" linear all",[n,r]}function M(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function P(e,t,n){B(n,function(n){e[n]=Y(e[n])?e[n]:t.style.getPropertyValue(n)})}var O,j,I,L,R=t.noop,N=t.copy,F=t.extend,V=t.element,B=t.forEach,H=t.isArray,U=t.isString,z=t.isObject,q=t.isUndefined,Y=t.isDefined,W=t.isFunction,G=t.isElement,X=1,J="-add",Q="-remove",Z="ng-",K="-active",ee="-prepare",te="ng-animate",ne="$$ngAnimateChildren";q(e.ontransitionend)&&Y(e.onwebkittransitionend)?("-webkit-",O="WebkitTransition",j="webkitTransitionEnd transitionend"):(O="transition",j="transitionend"),q(e.onanimationend)&&Y(e.onwebkitanimationend)?("-webkit-",I="WebkitAnimation",L="webkitAnimationEnd animationend"):(I="animation",L="animationend");var re="Duration",ie="Property",oe="Delay",ae="TimingFunction",se="IterationCount",le="PlayState",ue=9999,ce=I+oe,de=I+re,pe=O+oe,fe=O+re,he=t.$$minErr("ng"),me=["$$rAF",function(e){function t(e){r=r.concat(e),n()}function n(){if(r.length){for(var t=r.shift(),o=0;o<t.length;o++)t[o]();i||e(function(){i||n()})}}var r,i;return r=t.queue=[],t.waitUntilQuiet=function(t){i&&i(),i=e(function(){i=null,t(),n()})},t}],ge=["$interpolate",function(e){return{link:function(n,r,i){function o(e){e="on"===e||"true"===e,r.data(ne,e)}var a=i.ngAnimateChildren;t.isString(a)&&0===a.length?r.data(ne,!0):(o(e(a)(n)),i.$observe("ngAnimateChildren",o))}}}],ve="$$animateCss",ye=1e3,be=3,we=1.5,_e={transitionDuration:fe,transitionDelay:pe,transitionProperty:O+ie,animationDuration:de,animationDelay:ce,animationIterationCount:I+se},ke={transitionDuration:fe,transitionDelay:pe,animationDuration:de,animationDelay:ce},$e=["$animateProvider",function(){var e=M(),t=M();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(n,r,s,l,u,c,g,v){function b(e,t){var n="$$ngAnimateParentKey",r=e.parentNode;return(r[n]||(r[n]=++V))+"-"+e.getAttribute("class")+"-"+t}function w(t,r,i,o){var a=e.get(i);return a||(a=S(n,t,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),e.put(i,a),a}function x(i,a,s,l){var u;if(e.count(s)>0&&!(u=t.get(s))){var c=o(a,"-stagger");r.addClass(i,c),u=S(n,i,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),r.removeClass(i,c),t.put(s,u)}return u||{}}function E(n){U.push(n),g.waitUntilQuiet(function(){e.flush(),t.flush();for(var n=u(),r=0;r<U.length;r++)U[r](n);U.length=0})}function M(e,t,n){var r=w(e,t,n,_e),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var F=d(r),V=0,U=[];return function(t,n){function u(){g()}function d(){g(!0)}function g(e){if(!(W||X&&G)){W=!0,G=!1,z.$$skipPreparationClasses||r.removeClass(t,$e),r.removeClass(t,Ce),k(Y,!1),_(Y,!1),B(ce,function(e){Y.style[e[0]]=""}),F(t,z),f(t,z),Object.keys(q).length&&B(q,function(e,t){e?Y.style.setProperty(t,e):Y.style.removeProperty(t)}),z.onDone&&z.onDone(),fe&&fe.length&&t.off(fe.join(" "),V);var n=t.data(ve);n&&(l.cancel(n[0].timer),t.removeData(ve)),ee&&ee.complete(!e)}}function w(e){Ne.blockTransition&&_(Y,e),Ne.blockKeyframeAnimation&&k(Y,!!e)}function S(){return ee=new s({end:u,cancel:d}),E(R),g(),{$$willAnimate:!1,start:function(){return ee},end:u}}function V(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(be));Math.max(n-le,0)>=re&&r>=oe&&(X=!0,g())}function U(){function e(){if(!W){if(w(!1),B(ce,function(e){var t=e[0],n=e[1];Y.style[t]=n}),F(t,z),r.addClass(t,Ce),Ne.recalculateTimingStyles){if(xe=Y.className+" "+$e,Se=b(Y,xe),Le=M(Y,xe,Se),Re=Le.maxDelay,ne=Math.max(Re,0),0===(oe=Le.maxDuration))return void g();Ne.hasTransitions=Le.transitionDuration>0,Ne.hasAnimations=Le.animationDuration>0}if(Ne.applyAnimationDelay&&(Re="boolean"!=typeof z.delay&&D(z.delay)?parseFloat(z.delay):Re,ne=Math.max(Re,0),Le.animationDelay=Re,Fe=T(Re,!0),ce.push(Fe),Y.style[Fe[0]]=Fe[1]),re=ne*ye,se=oe*ye,z.easing){var e,i=z.easing;Ne.hasTransitions&&(e=O+ae,ce.push([e,i]),Y.style[e]=i),Ne.hasAnimations&&(e=I+ae,ce.push([e,i]),Y.style[e]=i)}Le.transitionDuration&&fe.push(j),Le.animationDuration&&fe.push(L),le=Date.now();var o=re+we*se,a=le+o,s=t.data(ve)||[],u=!0;if(s.length){var c=s[0];u=a>c.expectedEndTime,u?l.cancel(c.timer):s.push(g)}if(u){var d=l(n,o,!1);s[0]={timer:d,expectedEndTime:a},s.push(g),t.data(ve,s)}fe.length&&t.on(fe.join(" "),V),z.to&&(z.cleanupStyles&&P(q,Y,Object.keys(z.to)),m(t,z))}}function n(){var e=t.data(ve);if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData(ve)}}if(!W){if(!Y.parentNode)return void g();var i=function(e){if(X)G&&e&&(G=!1,g());else if(G=!e,Le.animationDuration){var t=k(Y,G);G?ce.push(t):a(ce,t)}},o=je>0&&(Le.transitionDuration&&0===Ee.transitionDuration||Le.animationDuration&&0===Ee.animationDuration)&&Math.max(Ee.animationDelay,Ee.transitionDelay);o?l(e,Math.floor(o*je*ye),!1):e(),te.resume=function(){i(!0)},te.pause=function(){i(!1)}}}var z=n||{};z.$$prepared||(z=p(N(z)));var q={},Y=y(t);if(!Y||!Y.parentNode||!v.enabled())return S();var W,G,X,ee,te,ne,re,oe,se,le,ce=[],de=t.attr("class"),pe=i(z),fe=[];if(0===z.duration||!c.animations&&!c.transitions)return S();var he=z.event&&H(z.event)?z.event.join(" "):z.event,me=he&&z.structural,ge="",_e="";me?ge=o(he,Z,!0):he&&(ge=he),z.addClass&&(_e+=o(z.addClass,J)),z.removeClass&&(_e.length&&(_e+=" "),_e+=o(z.removeClass,Q)),z.applyClassesEarly&&_e.length&&F(t,z);var $e=[ge,_e].join(" ").trim(),xe=de+" "+$e,Ce=o($e,K),Te=pe.to&&Object.keys(pe.to).length>0;if(!((z.keyframeStyle||"").length>0||Te||$e))return S();var Se,Ee;if(z.stagger>0){var De=parseFloat(z.stagger);Ee={transitionDelay:De,animationDelay:De,transitionDuration:0,animationDuration:0}}else Se=b(Y,xe),Ee=x(Y,$e,Se,ke);z.$$skipPreparationClasses||r.addClass(t,$e);var Ae;if(z.transitionStyle){var Me=[O,z.transitionStyle];$(Y,Me),ce.push(Me)}if(z.duration>=0){Ae=Y.style[O].length>0;var Pe=A(z.duration,Ae);$(Y,Pe),ce.push(Pe)}if(z.keyframeStyle){var Oe=[I,z.keyframeStyle];$(Y,Oe),ce.push(Oe)}var je=Ee?z.staggerIndex>=0?z.staggerIndex:e.count(Se):0,Ie=0===je;Ie&&!z.skipBlocking&&_(Y,ue);var Le=M(Y,xe,Se),Re=Le.maxDelay;ne=Math.max(Re,0),oe=Le.maxDuration;var Ne={};if(Ne.hasTransitions=Le.transitionDuration>0,Ne.hasAnimations=Le.animationDuration>0,Ne.hasTransitionAll=Ne.hasTransitions&&"all"==Le.transitionProperty,Ne.applyTransitionDuration=Te&&(Ne.hasTransitions&&!Ne.hasTransitionAll||Ne.hasAnimations&&!Ne.hasTransitions),Ne.applyAnimationDuration=z.duration&&Ne.hasAnimations,Ne.applyTransitionDelay=D(z.delay)&&(Ne.applyTransitionDuration||Ne.hasTransitions),Ne.applyAnimationDelay=D(z.delay)&&Ne.hasAnimations,Ne.recalculateTimingStyles=_e.length>0,(Ne.applyTransitionDuration||Ne.applyAnimationDuration)&&(oe=z.duration?parseFloat(z.duration):oe,Ne.applyTransitionDuration&&(Ne.hasTransitions=!0,Le.transitionDuration=oe,Ae=Y.style[O+ie].length>0,ce.push(A(oe,Ae))),Ne.applyAnimationDuration&&(Ne.hasAnimations=!0,Le.animationDuration=oe,ce.push(C(oe)))),0===oe&&!Ne.recalculateTimingStyles)return S();if(null!=z.delay){var Fe;"boolean"!=typeof z.delay&&(Fe=parseFloat(z.delay),ne=Math.max(Fe,0)),Ne.applyTransitionDelay&&ce.push(T(Fe)),Ne.applyAnimationDelay&&ce.push(T(Fe,!0))}return null==z.duration&&Le.transitionDuration>0&&(Ne.recalculateTimingStyles=Ne.recalculateTimingStyles||Ie),re=ne*ye,se=oe*ye,z.skipBlocking||(Ne.blockTransition=Le.transitionDuration>0,Ne.blockKeyframeAnimation=Le.animationDuration>0&&Ee.animationDelay>0&&0===Ee.animationDuration),z.from&&(z.cleanupStyles&&P(q,Y,Object.keys(z.from)),h(t,z)),Ne.blockTransition||Ne.blockKeyframeAnimation?w(oe):z.skipBlocking||_(Y,!1),{$$willAnimate:!0,end:u,start:function(){if(!W)return te={end:u,cancel:d,resume:null,pause:null},ee=new s(te),E(U),ee}}}}]}],xe=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",r="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,i,o,a,s,l,u){function c(e){return e.replace(/\bng-\S+\b/g,"")}function p(e,t){return U(e)&&(e=e.split(" ")),U(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function f(t,i,a){function s(e){var t={},n=y(e).getBoundingClientRect();return B(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=g.scrollTop;break;case"left":r+=g.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function l(){var t=e(h,{addClass:r,delay:!0,from:s(i)});return t.$$willAnimate?t:null}function u(e){return e.attr("class")||""}function d(){var t=c(u(a)),n=p(t,m),i=p(m,t),o=e(h,{to:s(a),addClass:"ng-anchor-in "+n,removeClass:r+" "+i,delay:!0});return o.$$willAnimate?o:null}function f(){h.remove(),i.removeClass(n),a.removeClass(n)}var h=V(y(i).cloneNode(!0)),m=c(u(h));i.addClass(n),a.addClass(n),h.addClass("ng-anchor"),b.append(h);var v,w=l();if(!w&&!(v=d()))return f();var _=w||v;return{start:function(){function e(){n&&n.end()}var t,n=_.start();return n.done(function(){if(n=null,!v&&(v=d()))return n=v.start(),n.done(function(){n=null,f(),t.complete()}),n;f(),t.complete()}),t=new o({end:e,cancel:e})}}}function h(e,t,n,r){var i=m(e,R),a=m(t,R),s=[];if(B(r,function(e){var t=e.out,r=e["in"],i=f(n,t,r);i&&s.push(i)}),i||a||0!==s.length)return{start:function(){function e(){B(t,function(e){e.end()})}var t=[];i&&t.push(i.start()),a&&t.push(a.start()),B(s,function(e){t.push(e.start())});var n=new o({end:e,cancel:e});return o.all(t,function(e){n.complete(e)}),n}}}function m(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=x(r.event,r.preparationClasses));var i=e(n,r);return i.$$willAnimate?i:null}if(!s.animations&&!s.transitions)return R;var g=u[0].body,v=y(a),b=V(t(v)||g.contains(v)?v:g);return d(l),function(e){return e.from&&e.to?h(e.from,e.to,e.classes,e.anchors):m(e)}}]}],Ce=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){function i(n){n=H(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!i[a]&&(r.push(t.get(s)),i[a]=!0)}return r}var o=d(r);return function(e,t,r,a){function s(){a.domOperation(),o(e,a)}function l(){h=!0,s(),f(e,a)}function u(e,t,r,i,o){var a;switch(r){case"animate":a=[t,i.from,i.to,o];break;case"setClass":a=[t,v,y,o];break;case"addClass":a=[t,v,o];break;case"removeClass":a=[t,y,o];break;default:a=[t,o]}a.push(i);var s=e.apply(e,a);if(s)if(W(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(W(s))return s;return R}function c(e,t,r,i,o){var a=[];return B(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,l=function(e){a||(a=!0,(o||R)(e),i.complete(!e))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),o=u(s,e,t,r,function(e){l(!1===e)}),i})}),a}function d(e,t,r,i,o){var a=c(e,t,r,i,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=c(e,"removeClass",r,i,"beforeRemoveClass"),l=c(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=c(e,"removeClass",r,i,"removeClass"),l=c(e,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&B(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){B(t,function(t){e?t.cancel():t.end()})}}}var h=!1;3===arguments.length&&z(r)&&(a=r,r=null),a=p(a),r||(r=e.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var m,g,v=a.addClass,y=a.removeClass,b=i(r);if(b.length){var w,_;"leave"==t?(_="leave",w="afterLeave"):(_="before"+t.charAt(0).toUpperCase()+t.substr(1),w=t),"enter"!==t&&"move"!==t&&(m=d(e,t,a,b,_)),g=d(e,t,a,b,w)}if(m||g){var k;return{$$willAnimate:!0,end:function(){return k?k.end():(l(),k=new n,k.complete(!0)),k},start:function(){function e(e){l(e),k.complete(e)}function t(t){h||((r||R)(t),e(t))}if(k)return k;k=new n;var r,i=[];return m&&i.push(function(e){r=m(e)}),i.length?i.push(function(e){s(),e(!0)}):s(),g&&i.push(function(e){r=g(e)}),k.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(i,e),k}}}}}]}],Te=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,i=t.options,o=t.classes;return e(n,r,o,i)}return function(e){if(e.from&&e.to){var r=n(e.from),i=n(e.to);if(!r&&!i)return;return{start:function(){function e(){return function(){B(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],Se="data-ng-animate",Ee="$ngAnimatePin",De=["$animateProvider",function(e){function t(e){if(!e)return null;var t=e.split(c),n=Object.create(null);return B(t,function(e){n[e]=!0}),n}function r(e,n){if(e&&n){var r=t(n);return e.split(c).some(function(e){return r[e]})}}function i(e,t,n,r){return h[e].some(function(e){return e(t,n,r)})}function o(e,t){var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var a=1,u=2,c=" ",h=this.rules={skip:[],cancel:[],join:[]};h.join.push(function(e,t){return!t.structural&&o(t)}),h.skip.push(function(e,t){return!t.structural&&!o(t)}),h.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),h.skip.push(function(e,t,n){return n.structural&&n.state===u&&!t.structural}),h.cancel.push(function(e,t,n){return n.structural&&t.structural}),h.cancel.push(function(e,t,n){return n.state===u&&t.structural}),h.cancel.push(function(e,t,n){var i=t.addClass,o=t.removeClass,a=n.addClass,s=n.removeClass;return!(q(i)&&q(o)||q(a)&&q(s))&&(r(i,s)||r(o,a))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(t,r,c,h,m,v,_,k,$){function x(){var e=!1;return function(t){e?t():r.$$postDigest(function(){e=!0,t()})}}function C(e,t){return g(e,t,{})}function T(e,t,n){var r=y(t),i=y(e),o=[],a=W[n];return a&&B(a,function(e){K.call(e.node,r)?o.push(e.callback):"leave"===n&&K.call(e.node,i)&&o.push(e.callback)}),o}function S(e,n,l){function c(n,r,i,o){S(function(){var n=T(m,e,r);n.length&&t(function(){B(n,function(t){t(e,i,o)})})}),n.progress(r,i,o)}function d(t){w(e,k),Z(e,k),f(e,k),k.domOperation(),$.complete(!t)}var h,m,k=N(l);e=s(e),e&&(h=y(e),m=e.parent()),k=p(k);var $=new _,S=x();if(H(k.addClass)&&(k.addClass=k.addClass.join(" ")),k.addClass&&!U(k.addClass)&&(k.addClass=null),H(k.removeClass)&&(k.removeClass=k.removeClass.join(" ")),k.removeClass&&!U(k.removeClass)&&(k.removeClass=null),k.from&&!z(k.from)&&(k.from=null),k.to&&!z(k.to)&&(k.to=null),!h)return d(),$;var A=[h.className,k.addClass,k.removeClass].join(" ");if(!Q(A))return d(),$;var R=["enter","move","leave"].indexOf(n)>=0,F=L.hidden,V=!I||F||j.get(h),q=!V&&O.get(h)||{},Y=!!q.state;if(V||Y&&q.state==a||(V=!M(e,m,n)),V)return F&&c($,n,"start"),d(),F&&c($,n,"close"),$;R&&E(e);var W={structural:R,element:e,event:n,addClass:k.addClass,removeClass:k.removeClass,close:d,options:k,runner:$};if(Y){if(i("skip",e,W,q))return q.state===u?(d(),$):(g(e,q,W),q.runner);if(i("cancel",e,W,q))if(q.state===u)q.runner.end();else{if(!q.structural)return g(e,q,W),q.runner;q.close()}else{if(i("join",e,W,q)){if(q.state!==u)return b(e,R?n:null,k),n=W.event=q.event,k=g(e,q,W),q.runner;C(e,W)}}}else C(e,W);var G=W.structural;if(G||(G="animate"===W.event&&Object.keys(W.options.to||{}).length>0||o(W)),!G)return d(),D(e),$;var X=(q.counter||0)+1;return W.counter=X,P(e,a,W),r.$$postDigest(function(){var t=O.get(h),r=!t;t=t||{};var i=e.parent()||[],a=i.length>0&&("animate"===t.event||t.structural||o(t));if(r||t.counter!==X||!a)return r&&(Z(e,k),f(e,k)),(r||R&&t.event!==n)&&(k.domOperation(),$.end()),void(a||D(e));n=!t.structural&&o(t,!0)?"setClass":t.event,P(e,u);var s=v(e,n,t.options);$.setHost(s),c($,n,"start",{}),s.done(function(t){d(!t);var r=O.get(h);r&&r.counter===X&&D(y(e)),c($,n,"close",{})})}),$}function E(e){var t=y(e),n=t.querySelectorAll("["+Se+"]");B(n,function(e){var t=parseInt(e.getAttribute(Se)),n=O.get(e);if(n)switch(t){case u:n.runner.end();case a:O.remove(e)}})}function D(e){var t=y(e);t.removeAttribute(Se),O.remove(t)}function A(e,t){return y(e)===y(t)}function M(e,t){var n,r=V(L.body),i=A(e,r)||"HTML"===e[0].nodeName,o=A(e,c),a=!1,s=j.get(y(e)),l=V.data(e[0],Ee);for(l&&(t=l),t=y(t);t&&(o||(o=A(t,c)),t.nodeType===X);){var u=O.get(t)||{};if(!a){var d=j.get(t);if(!0===d&&!1!==s){s=!0;break}!1===d&&(s=!1),a=u.structural}if(q(n)||!0===n){var p=V.data(t,ne);Y(p)&&(n=p)}if(a&&!1===n)break;if(i||(i=A(t,r)),i&&o)break;t=o||!(l=V.data(t,Ee))?t.parentNode:y(l)}return(!a||n)&&!0!==s&&o&&i}function P(e,t,n){n=n||{},n.state=t;var r=y(e);r.setAttribute(Se,t);var i=O.get(r),o=i?F(i,n):n;O.put(r,o)}var O=new m,j=new m,I=null,L=h[0]||{hidden:!0},R=r.$watch(function(){return 0===k.totalPendingRequests},function(e){e&&(R(),r.$$postDigest(function(){r.$$postDigest(function(){null===I&&(I=!0)})}))}),W={},J=e.classNameFilter(),Q=J?function(e){return J.test(e)}:function(){return!0},Z=d($),K=Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};return{on:function(e,t,n){var r=l(t);W[e]=W[e]||[],W[e].push({node:r,callback:n})},off:function(e,t,n){function r(e,t,n){var r=l(t);return e.filter(function(e){return!(e.node===r&&(!n||e.callback===n))})}var i=W[e];i&&(W[e]=1===arguments.length?null:r(i,t,n))},pin:function(e,t){n(G(e),"element","not an element"),n(G(t),"parentElement","not an element"),e.data(Ee,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,S(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!I;else{if(G(e)){var r=y(e),i=j.get(r);1===n?t=!i:j.put(r,!t)}else t=I=!!e}return t}}}]}],Ae=["$animateProvider",function(){function e(e,t){e.data(a,t)}function t(e){e.removeData(a)}function n(e){return e.data(a)}var i="ng-animate-ref",o=this.drivers=[],a="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,s,l,u,c,h){function m(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,r=n.parentNode;o.put(n,e);for(var a;r;){if(a=o.get(r)){a.processed||(a=t(a));break}r=r.parentNode}return(a||i).children.push(e),e}function n(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var i=r.length,o=0,a=[];for(t=0;t<r.length;t++){var s=r[t];i<=0&&(i=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,r.push(e)}),i--}return a.length&&n.push(a),n}var r,i={children:[]},o=new c;for(r=0;r<e.length;r++){var a=e[r];o.put(a.domNode,e[r]={domNode:a.domNode,fn:a.fn,children:[]})}for(r=0;r<e.length;r++)t(e[r]);return n(i)}var g=[],v=d(a);return function(c,d,b){function w(e){var t="["+i+"]",n=e.hasAttribute(i)?[e]:e.querySelectorAll(t),r=[];return B(n,function(e){var t=e.getAttribute(i);t&&t.length&&r.push(e)}),r}function _(e){var t=[],n={};B(e,function(e,r){var o=e.element,a=y(o),s=e.event,l=["enter","move"].indexOf(s)>=0,u=e.structural?w(a):[];if(u.length){var c=l?"to":"from";B(u,function(e){var t=e.getAttribute(i);n[t]=n[t]||{},n[t][c]={animationID:r,element:V(e)}})}else t.push(e)});var r={},o={};return B(n,function(n){var i=n.from,a=n.to;if(!i||!a){var s=i?i.animationID:a.animationID,l=s.toString();return void(r[l]||(r[l]=!0,t.push(e[s])))}var u=e[i.animationID],c=e[a.animationID],d=i.animationID.toString();if(!o[d]){var p=o[d]={structural:!0,beforeStart:function(){u.beforeStart(),c.beforeStart()},close:function(){u.close(),c.close()},classes:k(u.classes,c.classes),from:u,to:c,anchors:[]};p.classes.length?t.push(p):(t.push(u),t.push(c))}o[d].anchors.push({out:i.element,"in":a.element})}),t}function k(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}function $(e){for(var t=o.length-1;t>=0;t--){var n=o[t];if(l.has(n)){var r=l.get(n),i=r(e);if(i)return i}}}function x(){c.addClass(te),M&&a.addClass(c,M),P&&(a.removeClass(c,P),P=null)}function C(e,t){function r(e){n(e).setHost(t)}e.from&&e.to?(r(e.from.element),r(e.to.element)):r(e.element)}function T(){var e=n(c);!e||"leave"===d&&b.$$domOperationFired||e.end()}function S(e){c.off("$destroy",T),t(c),v(c,b),f(c,b),b.domOperation(),M&&a.removeClass(c,M),c.removeClass(te),D.complete(!e)}b=p(b);var E=["enter","move","leave"].indexOf(d)>=0,D=new u({end:function(){S()},cancel:function(){S(!0)}});if(!o.length)return S(),D;e(c,D);var A=r(c.attr("class"),r(b.addClass,b.removeClass)),M=b.tempClasses;M&&(A+=" "+M,b.tempClasses=null);var P;return E&&(P="ng-"+d+ee,a.addClass(c,P)),g.push({element:c,classes:A,event:d,structural:E,options:b,beforeStart:x,close:S}),c.on("$destroy",T),g.length>1?D:(s.$$postDigest(function(){var e=[];B(g,function(t){n(t.element)?e.push(t):t.close()}),g.length=0;var t=_(e),r=[];B(t,function(e){r.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,r=e.close;if(n(e.anchors?e.from.element||e.to.element:e.element)){var i=$(e);i&&(t=i.start)}if(t){var o=t();o.done(function(e){r(!e)}),C(e,o)}else r()}})}),h(m(r))}),D)}}]}];t.module("ngAnimate",[]).directive("ngAnimateChildren",ge).factory("$$rAFScheduler",me).provider("$$animateQueue",De).provider("$$animation",Ae).provider("$animateCss",$e).provider("$$animateCssDriver",xe).provider("$$animateJs",Ce).provider("$$animateJsDriver",Te)}(window,window.angular),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return s.raw?e:encodeURIComponent(e)}function n(e){return s.raw?e:decodeURIComponent(e)}function r(e){return t(s.json?JSON.stringify(e):String(e))}function i(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),s.json?JSON.parse(e):e}catch(e){}}function o(t,n){var r=s.raw?t:i(t);return e.isFunction(n)?n(r):r}var a=/\+/g,s=e.cookie=function(i,a,l){if(a!==undefined&&!e.isFunction(a)){if(l=e.extend({},s.defaults,l),"number"==typeof l.expires){var u=l.expires,c=l.expires=new Date;c.setTime(+c+864e5*u)}return document.cookie=[t(i),"=",r(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=i?undefined:{},p=document.cookie?document.cookie.split("; "):[],f=0,h=p.length;f<h;f++){var m=p[f].split("="),g=n(m.shift()),v=m.join("=");if(i&&i===g){d=o(v,a);break}i||(v=o(v))===undefined||(d[g]=v)}return d};s.defaults={},e.removeCookie=function(t,n){return e.cookie(t)!==undefined&&(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),function(e,t,n){"use strict";var r=function(e){for(var t={},n=[],r=0,i=e.length;r<i;++r)t.hasOwnProperty(e[r])||(n.push(e[r]),t[e[r]]=1);return n
},i="validate",o=["input:not([type]),input[type=color],input[type=date],input[type=datetime],input[type=datetime-local],input[type=email],input[type=file],input[type=hidden],input[type=month],input[type=number],input[type=password],input[type=range],input[type=search],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],textarea","select","input[type=checkbox],input[type=radio]"],a=o.join(","),s={},l=function(e,i){var a={pattern:!0,conditional:!0,required:!0,confirm:!0,minlength:!0,maxlength:!0},l=t(this),u=l.data(),c=l.val()||"",d=u.validate,p=d!==n?s[d]:{},f=u.prepare||p.prepare,h=u.pattern||("regexp"===t.type(p.pattern)?p.pattern:/(?:)/),m=l.prop("data-ignore-case")||u.ignoreCase||p.ignoreCase,g=u.mask||p.mask,v=u.conditional||p.conditional,y=u.required||l.attr("required"),b=u.confirm||p.confirm,w=Number(u.minlength||p.minlength||0),_=Number(u.maxlength||p.maxlength||Infinity),k=u.descriptionValid,$=u.descriptionRequired,x=u.descriptionPattern,C=u.descriptionConfirm,T=u.descriptionConditional,S=u.descriptionMinlength,E=u.descriptionMaxlength,D=u.describedby||p.describedby,A=u.description||p.description,M=u.trim,P=/^(true||required)$/i,O=/^false$/i;if(l.attr("disabled"))return a;if(l.parents("fieldset[disabled]").length>0)return a;if(l.parents("fieldset[data-validation-disabled]").length>0)return a;if(t(this).describedby=D,A=t.isPlainObject(A)?A:i.description[A]||{},A.valid=k||A.valid,A.required=$||A.required,A.pattern=x||A.pattern,A.conditional=T||A.conditional,A.confirm=C||A.confirm,A.minlength=S||A.minlength,A.maxlength=E||A.maxlength,y=""===y||(y||!!p.required),M=""===M||(M||!!p.trim),b=t(t("#"+b).length>0?"#"+b:b),w="number"==typeof w?w:0,_="number"==typeof _?_:Infinity,"regexp"!==t.type(h)&&(m=!O.test(m),h=m?new RegExp(h,"i"):new RegExp(h)),P.test(M)&&(c=t.trim(c)),t.isFunction(f)?c=String(f.call(l,c)):t.isFunction(i.prepare[f])&&(c=String(i.prepare[f].call(l,c))),v!==n)if(t.isFunction(v))a.conditional=!!v.call(l,c,i);else for(var j=v.split(/\s+/),I=0,L=j.length;I<L;I++)i.conditional.hasOwnProperty(j[I])&&!i.conditional[j[I]].call(l,c,i)&&(a.conditional=!1);if(y=P.test(y),y&&(l.is(o[0]+","+o[1])?0===c.length&&(a.required=!1):l.is(o[2])&&(l.is("[name]")?0===t('[name="'+l.prop("name")+'"]:checked').length&&(a.required=!1):a.required=l.is(":checked"))),l.is(o[0]))if(h.test(c)){if("keyup"!==e.type&&g!==n){for(var R=c.match(h),N=0;N<R.length;N++)g=g.replace(new RegExp("\\$\\{"+N+"(?::`([^`]*)`)?\\}","g"),R[N]!==n?R[N]:"$1");g=g.replace(/\$\{\d+(?::`([^`]*)`)?\}/g,"$1"),h.test(g)&&l.val(g)}}else 0==c.length||(a.pattern=!1);b.length>0&&(a.confirm=c===b.val()),l.is("input[type=checkbox]")?(a.minlength=t('[name="'+l.prop("name")+'"]:checked').length>=w,a.maxlength=t('[name="'+l.prop("name")+'"]:checked').length<=_):l.is("[name]")&&(a.minlength=c.length>=w,a.maxlength=c.length<=_);var F=t("#"+D),V=[];return F.length>0&&("keyup"==e.type?t.inArray(e.keyCode,[9,16,17,18,20])<0&&F.html(""):(a.required||V.push(A.required||""),a.minlength||V.push(A.minlength||""),a.maxlength||V.push(A.maxlength||""),a.pattern||V.push(A.pattern||""),a.conditional||V.push(A.conditional||""),a.confirm||V.push(A.confirm||""),0==V.length&&V.push(A.valid||""),F.html(r(V).join(" "))),0==F.html().length?F.hide():F.show()),"function"==typeof p.each&&p.each.call(l,e,a,i),i.eachField.call(l,e,a,i),a.required&&a.pattern&&a.conditional&&a.confirm&&a.maxlength&&a.minlength?(i.waiAria&&l.prop("aria-invalid",!1),"function"==typeof p.valid&&p.valid.call(l,e,a,i),i.eachValidField.call(l,e,a,i)):(i.waiAria&&l.prop("aria-invalid",!0),"function"==typeof p.invalid&&p.invalid.call(l,e,a,i),i.eachInvalidField.call(l,e,a,i)),a};t.extend({validateExtend:function(e){return t.extend(s,e)},validateSetup:function(n){return t.extend(e,n)}}).fn.extend({validate:function(n){return n=t.extend({},e,n),t(this).validateDestroy().each(function(){var e=t(this);if(e.is("form")){e.data(i,{options:n});var r=e.find(a),s="."+n.namespace;e.is("[id]")&&(r=r.add('[form="'+e.prop("id")+'"]').filter(a)),r=r.filter(n.filter).off(s),n.onKeyup&&r.filter(o[0]).on("keyup"+s,function(t){l.call(this,t,n,e)}),n.onBlur&&r.on("blur"+s,function(t){l.call(this,t,n,e)}),n.onChange&&r.on("change"+s,function(t){l.call(this,t,n,e)}),n.onSubmit&&e.on("submit"+s,function(i){var o=!0;r.each(function(){var t=l.call(this,i,n,e);t.pattern&&t.conditional&&t.required||(o=!1)}),o?(n.sendForm||i.preventDefault(),t.isFunction(n.valid)&&n.valid.call(e,i,n),e.trigger("valid")):(n.sendInvalidForm||i.preventDefault(),t.isFunction(n.invalid)&&n.invalid.call(e,i,n),e.trigger("invalid"))})}})},validateDestroy:function(){var e=t(this),n=e.data(i);if(e.is("form")&&t.isPlainObject(n)&&"string"==typeof n.options.namespace){var r=e.removeData(i).find(a).add(e);e.is("[id]")&&(r=r.add(t('[form="'+e.prop("id")+'"]').filter(a))),r.off("."+n.options.namespace)}return e}})}({sendForm:!0,sendInvalidForm:!1,waiAria:!0,onSubmit:!0,onKeyup:!1,onBlur:!1,onChange:!1,namespace:"validate",conditional:{},prepare:{},description:{},eachField:$.noop,eachInvalidField:$.noop,eachValidField:$.noop,invalid:$.noop,valid:$.noop,filter:"*"},jQuery),function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,r=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),!1!==i.result},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&!1!==e.data("remote")},handleRemote:function(r){var i,o,a,s,l,u;if(n.fire(r,"ajax:before")){if(s=r.data("with-credentials")||null,l=r.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,r.is("form")){i=r.data("ujs:submit-button-formmethod")||r.attr("method"),o=r.data("ujs:submit-button-formaction")||r.attr("action"),a=e(r[0]).serializeArray();var c=r.data("ujs:submit-button");c&&(a.push(c),r.data("ujs:submit-button",null)),r.data("ujs:submit-button-formmethod",null),r.data("ujs:submit-button-formaction",null)}else r.is(n.inputChangeSelector)?(i=r.data("method"),o=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):r.is(n.buttonClickSelector)?(i=r.data("method")||"get",o=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):(i=r.data("method"),o=n.href(r),a=r.data("params")||null);return u={type:i||"GET",data:a,dataType:l,beforeSend:function(e,i){if(i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),!n.fire(r,"ajax:beforeSend",[e,i]))return!1;r.trigger("ajax:send",e)},success:function(e,t,n){r.trigger("ajax:success",[e,t,n])},complete:function(e,t){r.trigger("ajax:complete",[e,t])},error:function(e,t,n){r.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(o)},s&&(u.xhrFields={withCredentials:s}),o&&(u.url=o),n.ajax(u)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(e){return!0}},handleMethod:function(r){var i=n.href(r),o=r.data("method"),a=r.attr("target"),s=n.csrfToken(),l=n.csrfParam(),u=e('<form method="post" action="'+i+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';l===t||s===t||n.isCrossDomain(i)||(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&u.attr("target",a),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,r;n=e.is("button")?"html":"val",r=e.data("disable-with"),r!==t&&(e.data("ujs:enable-with",e[n]()),e[n](r)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var n=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[n](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,r=e.data("confirm"),i=!1;if(!r)return!0;if(n.fire(e,"confirm")){try{i=n.confirm(r)}catch(e){(console.error||console.log).call(console,e.stack||e)}t=n.fire(e,"confirm:complete",[i])}return i&&t},blankInputs:function(t,n,r){var i,o,a,s,l=e(),u=n||"input,textarea",c=t.find(u),d={};return c.each(function(){i=e(this),i.is("input[type=radio]")?(s=i.attr("name"),d[s]||(0===t.find('input[type=radio]:checked[name="'+s+'"]').length&&(a=t.find('input[type=radio][name="'+s+'"]'),l=l.add(a)),d[s]=s)):(o=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===r&&(l=l.add(i))}),!!l.length&&l},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var r=e.data("disable-with");r!==t&&(e.data("ujs:enable-with",e.html()),e.html(r)),e.bind("click.railsDisable",function(e){return n.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},n.fire(r,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,r){e.crossDomain||n.CSRFProtection(r)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),r.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(e(this))}),r.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(e(this))}),r.on("click.rails",n.linkClickSelector,function(t){var r=e(this),i=r.data("method"),o=r.data("params"),a=t.metaKey||t.ctrlKey;if(!n.allowAction(r))return n.stopEverything(t);if(!a&&r.is(n.linkDisableSelector)&&n.disableElement(r),n.isRemote(r)){if(a&&(!i||"GET"===i)&&!o)return!0;var s=n.handleRemote(r);return!1===s?n.enableElement(r):s.fail(function(){n.enableElement(r)}),!1}return i?(n.handleMethod(r),!1):void 0}),r.on("click.rails",n.buttonClickSelector,function(t){var r=e(this);if(!n.allowAction(r)||!n.isRemote(r))return n.stopEverything(t);r.is(n.buttonDisableSelector)&&n.disableFormElement(r);var i=n.handleRemote(r);return!1===i?n.enableFormElement(r):i.fail(function(){n.enableFormElement(r)}),!1}),r.on("change.rails",n.inputChangeSelector,function(t){var r=e(this);return n.allowAction(r)&&n.isRemote(r)?(n.handleRemote(r),!1):n.stopEverything(t)}),r.on("submit.rails",n.formSubmitSelector,function(r){var i,o,a=e(this),s=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(r);if(a.attr("novalidate")===t)if(a.data("ujs:formnovalidate-button")===t){if((i=n.blankInputs(a,n.requiredInputSelector,!1))&&n.fire(a,"ajax:aborted:required",[i]))return n.stopEverything(r)}else a.data("ujs:formnovalidate-button",t);if(s){if(o=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),r.on("click.rails",n.formInputClickSelector,function(t){var r=e(this);if(!n.allowAction(r))return n.stopEverything(t);var i=r.attr("name"),o=i?{name:i,value:r.val()}:null,a=r.closest("form");0===a.length&&(a=e("#"+r.attr("form"))),a.data("ujs:submit-button",o),a.data("ujs:formnovalidate-button",r.attr("formnovalidate")),a.data("ujs:submit-button-formaction",r.attr("formaction")),a.data("ujs:submit-button-formmethod",r.attr("formmethod"))}),r.on("ajax:send.rails",n.formSubmitSelector,function(t){this===t.target&&n.disableFormElements(e(this))}),r.on("ajax:complete.rails",n.formSubmitSelector,function(t){this===t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,r=document.createElement(e||"div");for(n in t)r[n]=t[n];return r}function t(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,r){var i=["opacity",t,~~(100*e),n,r].join("-"),o=.01+n/r*100,a=Math.max(1-(1-e)/t*(100-o),e),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return p[i]||(f.insertRule("@"+l+"keyframes "+i+"{0%{opacity:"+a+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",f.cssRules.length),p[i]=1),i}function r(e,t){var n,r,i=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<d.length;r++)if(n=d[r]+t,i[n]!==undefined)return n;if(i[t]!==undefined)return t}function i(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]===undefined&&(e[r]=n[r])}return e}function a(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function l(e){if(void 0===this)return new l(e);this.opts=o(e||{},l.defaults,h)}function u(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}f.addRule(".spin-vml","behavior:url(#default#VML)"),l.prototype.lines=function(e,r){function o(){return i(n("group",{coordsize:c+" "+c,coordorigin:-u+" "+-u}),{width:c,height:c})}function a(e,a,l){t(p,t(i(o(),{rotation:360/r.lines*e+"deg",left:~~a}),t(i(n("roundrect",{arcsize:r.corners}),{width:u,height:r.width,left:r.radius,top:-r.width>>1,filter:l}),n("fill",{color:s(r.color,e),opacity:r.opacity}),n("stroke",{opacity:0}))))}var l,u=r.length+r.width,c=2*u,d=2*-(r.width+r.length)+"px",p=i(o(),{position:"absolute",top:d,left:d});if(r.shadow)for(l=1;l<=r.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=r.lines;l++)a(l);return t(e,p)},l.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,(i=i&&i.firstChild)&&(i.opacity=n))}}var c,d=["webkit","Moz","ms","O"],p={},f=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};l.defaults={},o(l.prototype,{spin:function(t){this.stop();var n,r,o=this,s=o.opts,l=o.el=i(e(0,{className:s.className}),{position:s.position,width:0,zIndex:s.zIndex}),u=s.radius+s.length+s.width;if(t&&(t.insertBefore(l,t.firstChild||null),r=a(t),n=a(l),i(l,{left:("auto"==s.left?r.x-n.x+(t.offsetWidth>>1):parseInt(s.left,10)+u)+"px",top:("auto"==s.top?r.y-n.y+(t.offsetHeight>>1):parseInt(s.top,10)+u)+"px"})),l.setAttribute("role","progressbar"),o.lines(l,o.opts),!c){var d,p=0,f=(s.lines-1)*(1-s.direction)/2,h=s.fps,m=h/s.speed,g=(1-s.opacity)/(m*s.trail/100),v=m/s.lines;!function e(){p++;for(var t=0;t<s.lines;t++)d=Math.max(1-(p+(s.lines-t)*v)%m*g,s.opacity),o.opacity(l,t*s.direction+f,d,s);o.timeout=o.el&&setTimeout(e,~~(1e3/h))}()}return o},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=undefined),this},lines:function(r,o){function a(t,n){return i(e(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*u+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var l,u=0,d=(o.lines-1)*(1-o.direction)/2;u<o.lines;u++)l=i(e(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&n(o.opacity,o.trail,d+u*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(l,i(a("#000","0 0 4px #000"),{top:"2px"})),t(r,t(l,a(s(o.color,u),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var m=i(e("group"),{behavior:"url(#default#VML)"});return!r(m,"transform")&&m.adj?u():c=r(m,"animation"),l}),window.Modernizr=function(e,t,n){function r(e){b.cssText=e}function i(e,t){return r(k.join(e+";")+(t||""))}function o(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var r in e){var i=e[r];if(!a(i,"-")&&b[i]!==n)return"pfx"!=t||i}return!1}function l(e,t,r){for(var i in e){var a=t[e[i]];if(a!==n)return!1===r?e[i]:o(a,"function")?a.bind(r||t):a}return!1}function u(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+x.join(r+" ")+r).split(" ");return o(t,"string")||o(t,"undefined")?s(i,t):(i=(e+" "+C.join(r+" ")+r).split(" "),l(i,t,n))}function c(){h.inputtypes=function(e){for(var r,i,o,a=0,s=e.length;a<s;a++)w.setAttribute("type",i=e[a]),r="text"!==w.type,r&&(w.value=_,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(i)&&w.style.WebkitAppearance!==n?(g.appendChild(w),o=t.defaultView,r=o.getComputedStyle&&"textfield"!==o.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,g.removeChild(w)):/^(search|tel)$/.test(i)||(r=/^(url|email)$/.test(i)?w.checkValidity&&!1===w.checkValidity():w.value!=_)),S[e[a]]=!!r;return S}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,p,f="2.8.3",h={},m=!0,g=t.documentElement,v="modernizr",y=t.createElement(v),b=y.style,w=t.createElement("input"),_=":)",k=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),$="Webkit Moz O ms",x=$.split(" "),C=$.toLowerCase().split(" "),T={},S={},E=[],D=E.slice,A=function(e,n,r,i){var o,a,s,l,u=t.createElement("div"),c=t.body,d=c||t.createElement("body");if(parseInt(r,10))for(;r--;)s=t.createElement("div"),s.id=i?i[r]:v+(r+1),u.appendChild(s);return o=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),u.id=v,(c?u:d).innerHTML+=o,d.appendChild(u),c||(d.style.background="",d.style.overflow="hidden",l=g.style.overflow,g.style.overflow="hidden",g.appendChild(d)),a=n(u,e),c?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),g.style.overflow=l),!!a},M=function(){function e(e,i){i=i||t.createElement(r[e]||"div"),e="on"+e;var a=e in i;return a||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(e,""),a=o(i[e],"function"),o(i[e],"undefined")||(i[e]=n),i.removeAttribute(e))),i=null,a}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),P={}.hasOwnProperty;p=o(P,"undefined")||o(P.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return P.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=D.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var o=new i,a=t.apply(o,n.concat(D.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(D.call(arguments)))};return r}),T.flexbox=function(){return u("flexWrap")},T.flexboxlegacy=function(){return u("boxDirection")},T.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},T.canvastext=function(){return!!h.canvas&&!!o(t.createElement("canvas").getContext("2d").fillText,"function")},T.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:A(["@media (",k.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},T.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),a(b.backgroundColor,"rgba")},T.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),a(b.backgroundColor,"rgba")||a(b.backgroundColor,"hsla")},T.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},T.backgroundsize=function(){return u("backgroundSize")},T.borderimage=function(){return u("borderImage")},T.borderradius=function(){return u("borderRadius")},T.boxshadow=function(){return u("boxShadow")},T.textshadow=function(){return""===t.createElement("div").style.textShadow},T.opacity=function(){return i("opacity:.55"),/^0.55$/.test(b.opacity)},T.cssanimations=function(){return u("animationName")},T.csscolumns=function(){return u("columnCount")},T.cssgradients=function(){var e="background-image:";return r((e+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+e)+k.join("linear-gradient(left top,#9f9, white);"+e)).slice(0,-e.length)),a(b.backgroundImage,"gradient")},T.csstransitions=function(){return u("transition")},T.fontface=function(){var e;return A('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById("smodernizr"),o=i.sheet||i.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";e=/src/i.test(a)&&0===a.indexOf(r.split(" ")[0])}),e},T.generatedcontent=function(){var e;return A(["#",v,"{font:0/0 a}#",v,':after{content:"',_,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},T.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return n},T.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},T.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}};for(var O in T)p(T,O)&&(d=O.toLowerCase(),h[d]=T[O](),E.push((h[d]?"":"no-")+d));return h.input||c(),h.addTest=function(e,t){if("object"==typeof e)for(var r in e)p(e,r)&&h.addTest(r,e[r]);else{if(e=e.toLowerCase(),h[e]!==n)return h;t="function"==typeof t?t():t,void 0!==m&&m&&(g.className+=" "+(t?"":"no-")+e),h[e]=t}return h},r(""),y=w=null,h._version=f,h._prefixes=k,h._domPrefixes=C,h._cssomPrefixes=x,h.hasEvent=M,h.testProp=function(e){return s([e])},h.testAllProps=u,h.testStyles=A,h.prefixed=function(e,t,n){return t?u(e,t,n):u(e,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+E.join(" "):""),h}(this,this.document),Modernizr.testStyles(" #modernizr { display: run-in; } ",function(e){var t=window.getComputedStyle?getComputedStyle(e,null).getPropertyValue("display"):e.currentStyle.display;Modernizr.addTest("display-runin","run-in"==t)}),function(){var e;e=function(e){var t,n,r,i,o,a;return void 0,i=void 0,a=void 0,t=document,o=t.documentElement,n=o.getElementsByTagName("head")[0],r=t.implementation||{hasFeature:function(){return!1}},i=t.createElement("style"),i.type="text/css",(n||o).insertBefore(i,(n||o).firstChild),!(!(a=i.sheet||i.styleSheet)||!e)&&(r.hasFeature("CSS2","")?function(e){try{a.insertRule(e+"{ }",0),a.deleteRule(a.cssRules.length-1)}catch(e){return e,!1}return!0}:function(e){return a.cssText=e+" { }",0!==a.cssText.length&&!/unknown/i.test(a.cssText)&&0===a.cssText.indexOf(e)})(e)},Modernizr.addTest("boxsizing",function(){return Modernizr.testAllProps("boxSizing")&&(document.documentMode===undefined||document.documentMode>7)}),Modernizr.addTest("lastchild",function(){return Modernizr.testStyles("#modernizr div {width:100px} #modernizr :last-child{width:200px;display:block}",function(e){return e.lastChild.offsetWidth>e.firstChild.offsetWidth},2)}),Modernizr.addTest("targetselector",function(){return e(":target")})}.call(this),function(){var e,t;e=jQuery,t=function(e){return function(t){var n,r,i;try{return i=e.call(this,t)}catch(e){return n=e,r=function(){throw n},setTimeout(r,1)}finally{return i}}},e.safeFunction=t,e.fn.safeReady=function(e){return this.ready(t(e))},e.fn.safeOn=function(e,n){return this.on(e,t(n))}}.call(this),function(){var e;$.isIE8=function(){var e;return e=navigator.userAgent.toLowerCase(),-1!==e.indexOf("msie")&&8===parseInt(e.split("msie")[1])},e=function(){function e(e){this.selector=e,$(".embed-modal .search-options").hide(),i(this.selector)}var n,r,i,o,a,s,l,u,c,d,p,f,h,m,g,v,y,b,w,_,k,x,C,T;return"",f=!1,n="",r="",c="",u="",_=[],b=new Spinner,i=function(e){var t,n,i;return $(".thumb-item"),$(e+" .tabs li").click(function(e){return $(".tabs li").removeClass("active"),$(e.target).addClass("active")}),$(".embed-modal .snippet-types").change(function(e){return h($.giEmbedPreviewHtml[$.giEmbedPreviewHtml.length-1].data,e.target.value)}),$(e+" .embed-code").click(function(){return $(this).select(),x($(this))}),$("#label-embed-option-amp").click(function(){var e,t,n,r;if(n=$(".embed-modal .embed-code.success").val(),!(n.indexOf("<iframe")<0))return n=n.substring(n.indexOf("<iframe"),n.indexOf("</iframe")),r=n.substring(n.indexOf("width"),n.indexOf(" scrolling")),r.substring(r.indexOf("width="),r.indexOf("height")),r.substr(r.indexOf("height=")),t=n.substring(0,n.indexOf(" width")),t=t.substr(t.indexOf("//")),t=t.substring(0,t.length-1),t="https:"+t+"&custom=amp",e="<amp-iframe "+r,e+=' sandbox="allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox" ',e+='layout="responsive" ',e+='src="'+t+'">',e+="</amp-iframe>",$(".embed-modal .embed-code.success").val(e).select(),$("#embed-option-normal").removeAttr("checked"),$("#embed-option-amp").prop("checked",!0)}),$("#label-embed-option-normal").click(function(){return $("#embed-option-amp").removeAttr("checked"),$("#embed-option-normal").attr("checked","checked"),k()}),$(e+" .learn-more").click(function(e){return e.preventDefault(),window.open($(this).find("a").attr("href"),"HelpCenter","width=980,height=670,top=50,left=50,alwaysRaised=yes,toolbar=0, directories=0,menubar=0,status=1,resizable=yes,location=0, scrollbars=yes,copyhistory=0")}),$(e+" .terms-of-use a").click(function(e){return e.preventDefault(),window.open($(this).attr("href"),"TermsOfUse","width=980,height=670,top=50,left=50,alwaysRaised=yes,toolbar=0, directories=0,menubar=0,status=1,resizable=yes,location=0, scrollbars=yes,copyhistory=0")}),$(e+" input[name=include-caption]").click(function(){return k()}),$(".modalBox .caption-checkbox").change(function(){return k()}),$(".modalBox .results").on("click",".add-image",function(e){var t,n,i,o;return t=$(".thumb-strip .filled").length,r=""+$(e.currentTarget).parent().data("asset-id"),t<5?(o=$(".thumb-strip .thumb-item:not(.filled)")[0],$.gettyEmbed.selectedImages.push(r)):(o=$(".thumb-strip .thumb-item.filled")[4],$(o).find("img").remove(),n=$(o).attr("data-asset-id"),$.gettyEmbed.selectedImages[4]=r,$(".modalBox .results .added").each(function(e,t){var r;if(r=""+$(t).attr("data-asset-id"),n===r)return $(t).removeClass("added")})),i=$(e.currentTarget).parent().find("img").clone(),i.removeAttr("style"),$(e.currentTarget).parent().addClass("added"),$(o).append(i).addClass("filled"),$(o).find("img").attr("draggable","true"),$(o).attr("data-asset-id",r),k()}),$(".modalBox .thumb-strip").on("click",".remove",function(e){return e.currentTarget.parentElement,t().handleRemove(e)}),$("#embed-search-form button").click(function(){return d()}),$("#embed-search-form .checks input").click(function(e){var t,n,r;return r=this.checked,t=$(e.currentTarget).siblings("input")[0],n=$(t).is(":checked"),r||n?d():e.preventDefault()}),$("#embed-search-form .options select").change(function(){return d()}),$("#embed-search-form .query").keypress(function(e){if(13===e.which)return e.preventDefault(),d()}),$(".modalBox .pager").on("click","a",function(e){var t,n,r;return n=$(e.currentTarget).hasClass("next"),t=$(".modalBox .pager .page-count").text(),r=$(".modalBox .pager .total-pages").text(),r=+r,t=+t,n&&t<r?d(t+1):!n&&t>1?d(t-1):void 0}),n=null,t=function(){var e,t,o,a,s,l,u;return a=function(e){return n=this,$(this).addClass("source"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text",this.innerHTML),$(e.currentTarget).attr("data-swapped","no")},function(e){return e.preventDefault()},o=function(e){if(e.preventDefault(),$(e.currentTarget).attr("data-swapped","no"),n!==this)return $(this).addClass("target")},t=function(){return $(this).removeClass("target")},s=function(e){var t,r,i,o,a,s,l,u;return e.preventDefault(),e.stopPropagation(),o=$(n).attr("data-asset-id"),a=parseInt($(n).attr("data-item")),s=$(this).attr("data-asset-id"),l=parseInt($(this).attr("data-item")),r=n!==this,t=$(this).hasClass("filled"),i="yes"===$(this).attr("data-swapped"),r&&t&&!i&&(u=n.innerHTML.toString(),n.innerHTML=this.innerHTML,$(this).addClass("filled"),this.innerHTML=u,$.gettyEmbed.selectedImages[l]=o,$(n).attr("data-asset-id",s),$(this).attr("data-asset-id",o),$.gettyEmbed.selectedImages[a]=s,$(this).attr("data-swapped","yes"),k()),$(n).removeClass("over source"),$(this).removeClass("over target")},e=function(){return[].forEach.call(i,function(e){return $(e).removeClass("over source target")})},u=function(e){var t,n,r;if($.gettyEmbed.selectedImages.length>1)return n=e.currentTarget.parentElement,r=$(n).attr("data-asset-id"),t=$(".results .added"),t.each(function(e,t){var n;if(n=$(t).attr("data-asset-id"),(n=""+n)===r)return $(t).removeClass("added")}),l(n),k()},l=function(e){var t,n;return n=$(".thumb-item.filled"),t=$(e).data("item"),[].forEach.call(n,function(n){var i,o;if(o=!$(n).hasClass("filled"),i=t<$(n).data("item"),!o&&i)return $(e).html($(n).html()),r=$(n).attr("data-asset-id"),$(e).attr("data-asset-id",r),$(n).attr("data-asset-id",""),e=n}),$(e).html('<div class="remove"></div>').removeClass("filled"),t>=0&&$.gettyEmbed.selectedImages.splice(t,1),$(".modalBox .results").removeClass("block-adding")},{handleDragStart:a,handleDragEnd:e,handleDragOver:o,handleDragLeave:t,handleDrop:s,handleDragEnd:e,handleRemove:u}},i=document.querySelectorAll(".modalBox .thumb-item"),[].forEach.call(i,function(e){var n;return n=t(),e.addEventListener("dragstart",n.handleDragStart,!1),e.addEventListener("dragenter",n.handleDragEnter,!1),e.addEventListener("dragover",n.handleDragOver,!1),e.addEventListener("dragleave",n.handleDragLeave,!1),e.addEventListener("drop",n.handleDrop,!1),e.addEventListener("dragend",n.handleDragEnd,!1),e.childNodes.item(".remove").addEventListener("click",n.handleRemove,!1)})},m=function(e){var t,n,r,i;if(n=$(".modalBox .thumb-item.first"),t=n.find("img"),r=t&&t.attr("src"),!(r&&r.length>0))return $(t[0]).remove(),i='<img src="'+e+'">',n.find(".remove").after(i),n.attr("data-asset-id",$.gettyEmbed.selectedImages[0]),n.addClass("filled")},o=function(){var e;return $("#embed-search-form .query").val(""),e=$(".modalBox .thumb-item"),e.each(function(e,t){
return $(t).removeClass("filled"),$(t).find("img").removeAttr("src")})},d=function(e){var n,r,i,o,a,s,l,u,c,d,p,f,h,m,g,v,y;return y=$.gettyEmbed.selectedImages.map(String),f=e||1,u=40,h=$("#embed-search-form .query").val(),h.length<1&&($(".modalBox .results").html(""),$(".modalBox .right-wing .pager").css("display","none")),l=h.length<1,i=function(){var e;return e=[],$("#editorial:checked").attr("name","checked").length>0&&e.push("editorial"),$("#creative:checked").attr("name","creative").length>0&&e.push("creative"),e},n=function(e){var t,n;return h=$("#embed-search-form .query").val(),t=h.length<1,t?"/search/embed/more-like-this/"+e:(n=$("#embed-search-form .result-order option:selected").attr("value"),"/search/embed/assets?phrase="+h+"&family="+i().join(",")+"&sort="+n+"&embeddable=true&page="+f+"&pagesize=40")},r=function(){var e;return h=$("#embed-search-form .query").val(),e=h.length<1,e?"/search/embed/videos":"/search/embed/videos?phrase="+h},d=function(e){var t,n,r;return r=e.total_number_of_results,n=Math.ceil(r/u),t=$(".modalBox .right-wing .pager"),n>1?(t.find(".page-count").text(f),t.find(".total-pages").text(n),t.css("display","inline-block")):t.css("display","none"),1===f?t.find(".previous").addClass("invisible"):t.find(".previous").removeClass("invisible"),f===n?t.find(".next").addClass("invisible"):t.find(".next").removeClass("invisible")},c=function(){var e,t,n,r,i,a,s,l,u,c,d,p,f,h,m,g,v,y,b,w,_,k,x,C,T,S,E,D,A,M,P,O,j,I,L;for(v=1.65,_=.825,k=2,L=20,b=40,w=50,r=$(".modalBox .results img"),I=$(".modalBox .results").width()-L,M=o(r[0]),A=M*_,y=v/_,e="div",l=0,p=r.length;l<p;l++)a=r[l],$(a).height(A),e&&$(a).parents(e).css("width",""),$(a).width()<w&&$(a).parent().remove();for(d=0,E=[],T=[],u=0,f=r.length;u<f;u++)a=r[u],O=a.getBoundingClientRect().top,O!==d&&T.length>0&&(E.push(T),T=[]),d=O,T.push(a);for(E.push(T),C=[],t=c=0,h=E.length;c<h;t=++c){for(T=E[t],i=0,g=0,m=T.length;g<m;g++)a=T[g],i+=$(a).width();j=T.length*k,D=I-j,x=D/i,P=x<y?x*A:y*A,s=function(){return t===E.length-1},S=function(){return i===D},C.push(function(){var e,r,i,o,l;for(l=[],i=0,e=T.length;i<e;i++)if(a=T[i],b&&t>=b)l.push($(a).hide());else{for(n=s()&&!S()?A:P,o=0,r=T.length;o<r;o++)a=T[o],$(a).height(n);l.push($(a).show())}return l}())}return C},o=function(e){var t,n,r;return t=$(e),r=t.attr("style","")[0],n=Number($(e).css("height").match(/(\d+)px/)[1]),t.attr("style",r),n},v=function(){var e,t,n,r;return n=function(){if(0===(e-=1))return c()},t=function(){if($(this).parent().remove(),0===(e-=1))return c()},r=$(".modalBox .results img"),e=r.length,r.each(function(){return this.complete?n.call(this):($(this).one("load",n),$(this).one("error",t))})},p=function(e,n,r){var i;return i='<div class="mosaic-asset',r&&(i+=" added"),i+='" data-asset-id="'+e.id+'" data-slot="'+n+'">',i+='<img src="'+e.delivery_urls.comp+'">',i+='<section class="add-image">'+t("add")+"</section>",i+='<section class="details-wrap"></section>',i+="</div>"},s=function(e){var t,n;return n="",t=0,e.assets.forEach(function(e){var r;return y=$.gettyEmbed.selectedImages.map(String),r=y.indexOf(e.id)>=0,n+=p(e,t,r),t+=1}),t>0?($(".modalBox .no-results").hide(),$(".modalBox .results").html(n),v(),l?void 0:d(e)):($(".modalBox .results").html(""),$(".modalBox .no-results").show(),$(".modalBox .pager").hide())},a=function(){return $(".modalBox .results").html("<div>Internal Error!</div>")},g=function(){return $("#embed-search-results").html(""),$(".embed-modal .right-wing").append(b.spin().el),$.ajax({type:"GET",url:r(),dataType:"json",success:function(e){return s(e)},error:function(e){return a(e)},complete:function(){return b.stop()}})},m=function(){return $("#embed-search-results").html(""),$(".embed-modal .right-wing").append(b.spin().el),y=$.gettyEmbed.selectedImages.map(String),$.ajax({url:n(y[0]),success:function(e){return e,s(e)},error:function(e){return a(e)},complete:function(){return b.stop()}})},$(".embed-modal .tabs [name=video]").click(function(){return T($(this)),$(".embed-modal .pager").hide(),$(".embed-modal .rumble-attribution").show(),g()}),$(".embed-modal .tabs [name=images]").click(function(){return $(".embed-modal .rumble-attribution").hide(),m()}),$(".embed-modal .tabs [name=images]").hasClass("active")?m():g()},$("#embed-search-form button").click(function(){if($(".embed-modal .tabs [name=video]").hasClass("active"))return C($(this))}),x=function(e){return e.trigger("embedCodeClicked",{assetFamily:n,assetId:r})},T=function(e){return e.trigger("embedVideoTabClicked",{ui_element:"video tab",action:"click"})},C=function(e){return e.trigger("embedVideoSearched",{ui_element:"video tab",action:"search",phrase:$("#embed-search-form .query").val()})},e.prototype.open=function(e){return $(this.selector+" .contents").width(e+60),$.gettyModal.find(this.selector).open()},e.prototype.show=function(e,t){var i,a,s,l;return c="",u=""+t.assetId,_=$(".thumb-item"),s=$("body").hasClass("search_container"),i=$("body").hasClass("asset_detail_container"),a=$("body").hasClass("consumer-gallery"),s?c=$(".embed-image[data-asset-id="+t.assetId+"]").parents("article").find("img").attr("src"):i?(c=null!=(l=$(".embed-share-button").data())?l.assetThumb:void 0)||(c=$(".image-card img").attr("src")):a&&(c=$(".carousel-slide.carousel-current").find("img").attr("src")),o(),n=t.assetFamily?t.assetFamily.toLowerCase():"creative",r=t.assetId,$(".embed-modal").data("embed-cloud-url",e),$("#include-caption").data("asset-family",n),m(c),k(r),d()},k=function(e){var t,n,r,i,o,u,c,d,p,h,m;if(p=$.gettyEmbed.selectedImages,p=p.map(String),e=""+$.gettyEmbed.selectedImages[0],"undefined"==typeof p[0]&&(p.unshift(),$.gettyEmbed.selectedImages.unshift()),p.indexOf(e)<0&&p.unshift(e),t=p.join(","),h=$("#include-slideshow-caption").is(":checked"),m=$(".embed-modal").data("embed-cloud-url"),m=m.split("preview/"),n=m[0],c=m[1].split("?")[1],m=n+"preview/"+t+"?"+c,$(".embed-modal").data("embed-cloud-url",m),h&&(m+="&caption=true"),$.giEmbedPreviewHtml)for(d=$.giEmbedPreviewHtml,o=0,u=d.length;o<u;o++)if(i=d[o],i.url===m){r=i.data;break}return r?v(r):$.ajax({url:m,headers:{"GI-Tld":currentSite.domainSuffix},success:function(e){if(!a(e))return $.giEmbedPreviewHtml?$.giEmbedPreviewHtml.push({url:m,data:e}):$.giEmbedPreviewHtml=[{url:m,data:e}],v(e),l()},error:function(){return s()}}),f=!0},h=function(e,t){var n;return n=$(".embed-modal .embed-code.success"),n.val(e[t])},w=function(){return $(".embed-modal .snippet-types").val()},v=function(e){var t;return p(e),g(e),$(".embed-modal .embed-code").addClass("ready"),h(e,w()),$("#embed-option-amp").is(":checked")&&$("#embed-option-normal").prop("checked","true"),t=$(".embed-modal .preview .preview-container"),setTimeout(function(){return t.show()},10)},p=function(e){var t,n,r;return r=parseInt(e.width),$(".embed-modal .contents").css("width",r),t=$(".embed-modal .preview"),n=$(".embed-modal .preview-container-template").clone(),n.attr("class","preview-container"),0===t.find(".preview-container").length&&t.append(n),y(e)},y=function(e){var t,n,r,i,o,a,s,l,u;return u=18,l=$(".embed-modal .preview"),i=parseInt(l.css("max-width").replace("px","")),r=parseInt(l.css("max-height").replace("px","")),s=parseInt(e.width),a=parseInt(e.height)+u,o=s/a,n=i/r,t=l.find(".preview-container"),o>n?($(t).css("width",i),$(t).css("height",a*(i/s)+"px")):($(t).css("width",s*(r/a)+"px"),$(t).css("height",r))},g=function(e){var t,n;return $(".embed-modal .preview .preview-container").hide(),t=$(".embed-modal .embed-code.success"),t.height($(".embed-modal .embed-code-wrapper").height()),t.scrollTop(1),n=$(".embed-modal .preview .preview-container"),$(n[0]).empty(),$(n[0]).append(e.jsSnippet)},a=function(e){return(!e||!e.jsSnippet)&&(s(),!0)},s=function(){return $(".embed-modal label").hide(),$(".embed-modal .embed-code.success").hide(),$(".embed-modal .preview").hide(),$(".embed-modal footer").hide(),$(".embed-modal .spinner_overlay").hide(),$(".embed-modal .embed-code.error").show(),$(".embed-modal .embed-code.success").addClass("ready")},l=function(){return $(".embed-modal label").show(),$(".embed-modal .embed-code.error").hide(),$(".embed-modal .preview").show(),$(".embed-modal footer").show(),$(".embed-modal .embed-code.success").show(),$(".embed-modal .embed-code.success").addClass("ready")},e}(),function(t){var n;n=null,t.gettyEmbed={open:function(t,r){var i;return i=parseInt(r),isNaN(i)&&(i=600),n||(n=new e(t)),n.open(r)},show:function(e,t){return this.selectedImages=[],this.selectedImages.push(t.assetId),n.show(e,t)},selectedImages:[]}}(jQuery)}.call(this),function(){String.prototype.downcase=function(){return this.toLowerCase()},String.prototype.upcase=function(){return this.toUpperCase()},String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.contains=String.prototype.contains||function(e){return this.indexOf(e)>=0},Array.prototype.contains=Array.prototype.contains||function(e){return this.indexOf(e)>=0},String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),function(){var e;if(e=function(e,t){var n;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},"function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}(),window.isMobile=navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),window.isWebKit=navigator.userAgent.match(/WebKit/i),window.application={assets_prefix:"/asset-detail/assets",app_prefix:"asset-detail"},window.setViewportSize=function(){var e,t,n;if(window.viewportSize="desktop",window.getComputedStyle&&(e=$("<style>body:after{display: block;}</style>"),e.appendTo("head"),n=window.getComputedStyle(document.body,":after").content,e.remove(),t=n.match(/\w+/)),null!=t)return window.viewportSize=t[0]},window.shimSvgForSafari=function(e){var t;if(e||(e=document.body),t=navigator.userAgent.toLowerCase(),(t.contains("safari/")||t.contains("applewebkit/"))&&!t.contains("chrome/"))return $(e).find("img[src*='.svg#']").each(function(){var e,t,n,r,i,o,a,s;return e=$(this).height()?'height="'+$(this).height()+'px"':"",s=$(this).width()?'width="'+$(this).width()+'px"':"",n=$(this).attr("id")?'id="'+$(this).attr("id")+'"':"",o=$(this).attr("style")?'style="'+$(this).attr("style")+'"':"",a=$(this).attr("viewBox")?'viewBox="'+$(this).attr("viewBox")+'"':"",i=$(this).data("name")?'data-name="'+$(this).data("name")+'"':"",r=$(this).attr("class")?'class="'+$(this).attr("class")+'"':"",t=$(this).attr("src"),$(this).replaceWith("<svg "+a+" "+n+" "+r+" "+s+" "+e+" "+o+" "+i+'><use xlink:href="'+t+"\" class='inactive'></use><use xlink:href=\""+t+"_hover\" class='active'></use></svg>")})},window.hasAdBlocker=function(){return"undefined"==typeof window.adBlockerEnabled},window.trackAdBlocker=function(){if(window.dataLayer)return window.dataLayer.push({event:"adBlocker",adBlockerEnabled:window.hasAdBlocker()})},$(window).on("resize",window.setViewportSize),$(window).load(function(){return window.trackAdBlocker()}),$(document).safeReady(function(){if(window.setViewportSize(),window.shimSvgForSafari(),!window.console)return window.console={log:function(){}}})}.call(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Sr.apply(null,arguments)}function t(e){Sr=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return xt(e,t,n,r,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=p()),e._pf}function h(e){if(null==e._isValid){var t=f(e),n=Er.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&t.bigHour===undefined),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=d(NaN);return null!=e?c(f(t),e):f(t).userInvalidated=!0,t}function g(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=f(t)),o(t._locale)||(e._locale=t._locale),Dr.length>0)for(n=0;n<Dr.length;n++)r=Dr[n],i=t[r],o(i)||(e[r]=i);return e}function v(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ar&&(Ar=!0,e.updateOffset(this),Ar=!1)}function y(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function _(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&w(e[r])!==w(t[r]))&&a++;return a+o}function k(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function $(t,n){var r=!0;return c(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}k(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function x(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Mr[t]||(k(n),Mr[t]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e){var t,n;for(n in e)t=e[n],C(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function S(e,t){var n,i=c({},e);for(n in t)u(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},c(i[n],e[n]),c(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)u(e,n)&&!u(t,n)&&r(e[n])&&(i[n]=c({},i[n]));return i}function E(e){null!=e&&this.set(e)}function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r}function A(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function M(){return this._invalidDate}function P(e){return this._ordinal.replace("%d",e)}function O(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)}function j(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}function I(e,t){var n=e.toLowerCase();Fr[n]=Fr[n+"s"]=Fr[t]=e}function L(e){return"string"==typeof e?Fr[e]||Fr[e.toLowerCase()]:undefined}function R(e){var t,n,r={};for(n in e)u(e,n)&&(t=L(n))&&(r[t]=e[n]);return r}function N(e,t){Vr[e]=t}function F(e){var t=[];for(var n in e)t.push({unit:n,priority:Vr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function V(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function B(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(zr[e]=i),t&&(zr[t[0]]=function(){return V(i.apply(this,arguments),t[1],t[2])}),n&&(zr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function H(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e){var t,n,r=e.match(Br);for(t=0,n=r.length;t<n;t++)zr[r[t]]?r[t]=zr[r[t]]:r[t]=H(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=C(r[i])?r[i].call(t,e):r[i];return o}}function z(e,t){return e.isValid()?(t=q(t,e.localeData()),Ur[t]=Ur[t]||U(t),Ur[t](e)):e.localeData().invalidDate()}function q(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Hr.lastIndex=0;r>=0&&Hr.test(e);)e=e.replace(Hr,n),Hr.lastIndex=0,r-=1;return e}function Y(e,t,n){li[e]=C(t)?t:function(e){return e&&n?n:t}}function W(e,t){return u(li,e)?li[e](t._strict,t._locale):new RegExp(G(e))}function G(e){return X(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),a(t)&&(r=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)ui[e[n]]=r}function Q(e,t){J(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function Z(e,t,n){null!=t&&u(ui,e)&&ui[e](t,n._a,n,e)}function K(e){return ee(e)?366:365}function ee(e){return e%4==0&&e%100!=0||e%400==0}function te(){return ee(this.year())}function ne(t,n){return function(r){return null!=r?(ie(this,t,r),e.updateOffset(this,n),this):re(this,t)}}function re(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ie(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ee(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),le(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function oe(e){return e=L(e),C(this[e])?this[e]():this}function ae(e,t){if("object"==typeof e){e=R(e);for(var n=F(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=L(e),C(this[e]))return this[e](t);return this}function se(e,t){return(e%t+t)%t}function le(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=se(t,12);return e+=(t-n)/12,1===n?ee(e)?29:28:31-n%7%2}function ue(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||_i).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function ce(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[_i.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function de(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=bi.call(this._shortMonthsParse,a),-1!==i?i:null):(i=bi.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?-1!==(i=bi.call(this._shortMonthsParse,a))?i:(i=bi.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=bi.call(this._longMonthsParse,a))?i:(i=bi.call(this._shortMonthsParse,a),-1!==i?i:null)}function pe(e,t,n){var r,i,o;if(this._monthsParseExact)return de.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function fe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return n=Math.min(e.date(),le(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function he(t){return null!=t?(fe(this,t),e.updateOffset(this,!0),this):re(this,"Month")}function me(){return le(this.year(),this.month())}function ge(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ye.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=xi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ve(e){return this._monthsParseExact?(u(this,"_monthsRegex")||ye.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Ci),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ye(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=X(r[t]),i[t]=X(i[t]);for(t=0;t<24;t++)o[t]=X(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function be(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function we(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function _e(e,t,n){var r=7+t-n;return-(7+we(e,0,r).getUTCDay()-t)%7+r-1}function ke(e,t,n,r,i){var o,a,s=(7+n-r)%7,l=_e(e,r,i),u=1+7*(t-1)+s+l;return u<=0?(o=e-1,a=K(o)+u):u>K(e)?(o=e+1,a=u-K(e)):(o=e,a=u),{year:o,dayOfYear:a}}function $e(e,t,n){var r,i,o=_e(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+xe(i,t,n)):a>xe(e.year(),t,n)?(r=a-xe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function xe(e,t,n){var r=_e(e,t,n),i=_e(e+1,t,n);return(K(e)-r+i)/7}function Ce(e){return $e(e,this._week.dow,this._week.doy).week}function Te(){return this._week.dow}function Se(){return this._week.doy}function Ee(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function De(e){var t=$e(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ae(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Me(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pe(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Oe(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function je(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ie(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=bi.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=bi.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=bi.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?-1!==(i=bi.call(this._weekdaysParse,a))?i:-1!==(i=bi.call(this._shortWeekdaysParse,a))?i:(i=bi.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===t?-1!==(i=bi.call(this._shortWeekdaysParse,a))?i:-1!==(i=bi.call(this._weekdaysParse,a))?i:(i=bi.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=bi.call(this._minWeekdaysParse,a))?i:-1!==(i=bi.call(this._weekdaysParse,a))?i:(i=bi.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function Le(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ie.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ae(e,this.localeData()),this.add(e-t,"d")):t}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Fe(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Me(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ve(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ue.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ai),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ue.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function He(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ue.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Pi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ue(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)s[t]=X(s[t]),l[t]=X(l[t]),u[t]=X(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ze(){return this.hours()%12||12}function qe(){return this.hours()||24}function Ye(e,t){B(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function We(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Je(e){return e?e.toLowerCase().replace("_","-"):e}function Qe(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Je(e[o]).split("-"),t=i.length,n=Je(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Ze(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&_(i,n,!0)>=t-1)break;t--}o++}return Oi}function Ze(e){var t=null;if(!Ri[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Oi._abbr;require("./locale/"+e),Ke(t)}catch(e){}return Ri[e]}function Ke(e,t){var n;return e&&(n=o(t)?nt(e):et(e,t),n?Oi=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Oi._abbr}function et(e,t){if(null!==t){var n,r=Li;if(t.abbr=e,null!=Ri[e])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ri[e]._config;else if(null!=t.parentLocale)if(null!=Ri[t.parentLocale])r=Ri[t.parentLocale]._config;else{if(null==(n=Ze(t.parentLocale)))return Ni[t.parentLocale]||(Ni[t.parentLocale]=[]),Ni[t.parentLocale].push({name:e,config:t}),null;r=n._config}return Ri[e]=new E(S(r,t)),Ni[e]&&Ni[e].forEach(function(e){et(e.name,e.config)}),Ke(e),Ri[e]}return delete Ri[e],null}function tt(e,t){if(null!=t){var n,r,i=Li;r=Ze(e),null!=r&&(i=r._config),t=S(i,t),n=new E(t),n.parentLocale=Ri[e],Ri[e]=n,Ke(e)}else null!=Ri[e]&&(null!=Ri[e].parentLocale?Ri[e]=Ri[e].parentLocale:null!=Ri[e]&&delete Ri[e]);return Ri[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Oi;if(!n(e)){if(t=Ze(e))return t;e=[e]}return Qe(e)}function rt(){return Pr(Ri)}function it(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[di]<0||n[di]>11?di:n[pi]<1||n[pi]>le(n[ci],n[di])?pi:n[fi]<0||n[fi]>24||24===n[fi]&&(0!==n[hi]||0!==n[mi]||0!==n[gi])?fi:n[hi]<0||n[hi]>59?hi:n[mi]<0||n[mi]>59?mi:n[gi]<0||n[gi]>999?gi:-1,f(e)._overflowDayOfYear&&(t<ci||t>pi)&&(t=pi),f(e)._overflowWeeks&&-1===t&&(t=vi),f(e)._overflowWeekday&&-1===t&&(t=yi),f(e).overflow=t),e}function ot(e,t,n){return null!=e?e:null!=t?t:n}function at(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function st(e){var t,n,r,i,o,a=[];if(!e._d){for(r=at(e),e._w&&null==e._a[pi]&&null==e._a[di]&&lt(e),null!=e._dayOfYear&&(o=ot(e._a[ci],r[ci]),(e._dayOfYear>K(o)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=we(o,0,e._dayOfYear),e._a[di]=n.getUTCMonth(),e._a[pi]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[fi]&&0===e._a[hi]&&0===e._a[mi]&&0===e._a[gi]&&(e._nextDay=!0,e._a[fi]=0),e._d=(e._useUTC?we:be).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[fi]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}function lt(e){var t,n,r,i,o,a,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,a=4,n=ot(t.GG,e._a[ci],$e(Ct(),1,4).year),r=ot(t.W,1),((i=ot(t.E,1))<1||i>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=$e(Ct(),o,a);n=ot(t.gg,e._a[ci],u.year),r=ot(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o}r<1||r>xe(n,o,a)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(s=ke(n,r,i,o,a),e._a[ci]=s.year,e._dayOfYear=s.dayOfYear)}function ut(e){var t,n,r,i,o,a,s=e._i,l=Fi.exec(s)||Vi.exec(s);if(l){for(f(e).iso=!0,t=0,n=Hi.length;t<n;t++)if(Hi[t][1].exec(l[1])){i=Hi[t][0],r=!1!==Hi[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=Ui.length;t<n;t++)if(Ui[t][1].exec(l[3])){o=(l[2]||" ")+Ui[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Bi.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),vt(e)}else e._isValid=!1}function ct(e,t,n,r,i,o){var a=[dt(e),$i.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function dt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function pt(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ft(e,t,n){if(e){if(Ei.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return f(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ht(e,t,n){if(e)return Yi[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function mt(e){var t=qi.exec(pt(e._i));if(t){var n=ct(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ft(t[1],n,e))return;e._a=n,e._tzm=ht(t[8],t[9],t[10]),e._d=we.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function gt(t){var n=zi.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));ut(t),!1===t._isValid&&(delete t._isValid,mt(t),
!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function vt(t){if(t._f===e.ISO_8601)return void ut(t);if(t._f===e.RFC_2822)return void mt(t);t._a=[],f(t).empty=!0;var n,r,i,o,a,s=""+t._i,l=s.length,u=0;for(i=q(t._f,t._locale).match(Br)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(W(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&f(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),zr[o]?(r?f(t).empty=!1:f(t).unusedTokens.push(o),Z(o,r,t)):t._strict&&!r&&f(t).unusedTokens.push(o);f(t).charsLeftOver=l-u,s.length>0&&f(t).unusedInput.push(s),t._a[fi]<=12&&!0===f(t).bigHour&&t._a[fi]>0&&(f(t).bigHour=undefined),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[fi]=yt(t._locale,t._a[fi],t._meridiem),st(t),it(t)}function yt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function bt(e){var t,n,r,i,o;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],vt(t),h(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==r||o<r)&&(r=o,n=t));c(e,n||t)}function wt(e){if(!e._d){var t=R(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),st(e)}}function _t(e){var t=new v(it(kt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=undefined),t}function kt(e){var t=e._i,r=e._f;return e._locale=e._locale||nt(e._l),null===t||r===undefined&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new v(it(t)):(s(t)?e._d=t:n(r)?bt(e):r?vt(e):$t(e),h(e)||(e._d=null),e))}function $t(t){var i=t._i;o(i)?t._d=new Date(e.now()):s(i)?t._d=new Date(i.valueOf()):"string"==typeof i?gt(t):n(i)?(t._a=l(i.slice(0),function(e){return parseInt(e,10)}),st(t)):r(i)?wt(t):a(i)?t._d=new Date(i):e.createFromInputFallback(t)}function xt(e,t,o,a,s){var l={};return!0!==o&&!1!==o||(a=o,o=undefined),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=undefined),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=e,l._f=t,l._strict=a,_t(l)}function Ct(e,t,n,r){return xt(e,t,n,r,!1)}function Tt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ct();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}function St(){return Tt("isBefore",[].slice.call(arguments,0))}function Et(){return Tt("isAfter",[].slice.call(arguments,0))}function Dt(e){for(var t in e)if(-1===bi.call(Ji,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Ji.length;++r)if(e[Ji[r]]){if(n)return!1;parseFloat(e[Ji[r]])!==w(e[Ji[r]])&&(n=!0)}return!0}function At(){return this._isValid}function Mt(){return Jt(NaN)}function Pt(e){var t=R(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=Dt(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=nt(),this._bubble()}function Ot(e){return e instanceof Pt}function jt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function It(e,t){B(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+V(~~(e/60),2)+t+V(~~e%60,2)})}function Lt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Qi)||["-",0,0],o=60*i[1]+w(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Rt(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(y(t)||s(t)?t.valueOf():Ct(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):Ct(t).local()}function Nt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ft(t,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Lt(oi,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&n&&(i=Nt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?tn(this,Jt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Nt(this)}function Vt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Bt(e){return this.utcOffset(0,e)}function Ht(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this}function Ut(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Lt(ii,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function zt(e){return!!this.isValid()&&(e=e?Ct(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function qt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yt(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=kt(e),e._a){var t=e._isUTC?d(e._a):Ct(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wt(){return!!this.isValid()&&!this._isUTC}function Gt(){return!!this.isValid()&&this._isUTC}function Xt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Jt(e,t){var n,r,i,o=e,s=null;return Ot(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Zi.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:w(s[pi])*n,h:w(s[fi])*n,m:w(s[hi])*n,s:w(s[mi])*n,ms:w(jt(1e3*s[gi]))*n}):(s=Ki.exec(e))?(n="-"===s[1]?-1:(s[1],1),o={y:Qt(s[2],n),M:Qt(s[3],n),w:Qt(s[4],n),d:Qt(s[5],n),h:Qt(s[6],n),m:Qt(s[7],n),s:Qt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Kt(Ct(o.from),Ct(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Pt(o),Ot(e)&&u(e,"_locale")&&(r._locale=e._locale),r}function Qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Zt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){var n;return e.isValid()&&t.isValid()?(t=Rt(t,e),e.isBefore(t)?n=Zt(e,t):(n=Zt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function en(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Jt(n,r),tn(this,i,e),this}}function tn(t,n,r,i){var o=n._milliseconds,a=jt(n._days),s=jt(n._months);t.isValid()&&(i=null==i||i,s&&fe(t,re(t,"Month")+s*r),a&&ie(t,"Date",re(t,"Date")+a*r),o&&t._d.setTime(t._d.valueOf()+o*r),i&&e.updateOffset(t,a||s))}function nn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(t,n){var r=t||Ct(),i=Rt(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",a=n&&(C(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,Ct(r)))}function on(){return new v(this)}function an(e,t){var n=y(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&(t=L(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function sn(e,t){var n=y(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&(t=L(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function ln(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function un(e,t){var n,r=y(e)?e:Ct(e);return!(!this.isValid()||!r.isValid())&&(t=L(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function cn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function dn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function pn(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=Rt(e,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=L(t)){case"year":o=fn(this,r)/12;break;case"month":o=fn(this,r);break;case"quarter":o=fn(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:b(o)}function fn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function hn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mn(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)}function vn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=z(this,t);return this.localeData().postformat(n)}function yn(e,t){return this.isValid()&&(y(e)&&e.isValid()||Ct(e).isValid())?Jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bn(e){return this.from(Ct(),e)}function wn(e,t){return this.isValid()&&(y(e)&&e.isValid()||Ct(e).isValid())?Jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function _n(e){return this.to(Ct(),e)}function kn(e){var t;return e===undefined?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function $n(){return this._locale}function xn(e){switch(e=L(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Cn(e){return(e=L(e))===undefined||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function Tn(){return this._d.valueOf()-6e4*(this._offset||0)}function Sn(){return Math.floor(this.valueOf()/1e3)}function En(){return new Date(this.valueOf())}function Dn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function An(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Mn(){return this.isValid()?this.toISOString():null}function Pn(){return h(this)}function On(){return c({},f(this))}function jn(){return f(this).overflow}function In(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ln(e,t){B(0,[e,e.length],0,t)}function Rn(e){return Bn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Nn(e){return Bn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Fn(){return xe(this.year(),1,4)}function Vn(){var e=this.localeData()._week;return xe(this.year(),e.dow,e.doy)}function Bn(e,t,n,r,i){var o;return null==e?$e(this,r,i).year:(o=xe(e,r,i),t>o&&(t=o),Hn.call(this,e,t,n,r,i))}function Hn(e,t,n,r,i){var o=ke(e,t,n,r,i),a=we(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Un(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function zn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function qn(e,t){t[gi]=w(1e3*("0."+e))}function Yn(){return this._isUTC?"UTC":""}function Wn(){return this._isUTC?"Coordinated Universal Time":""}function Gn(e){return Ct(1e3*e)}function Xn(){return Ct.apply(null,arguments).parseZone()}function Jn(e){return e}function Qn(e,t,n,r){var i=nt(),o=d().set(r,t);return i[n](o,e)}function Zn(e,t,n){if(a(e)&&(t=e,e=undefined),e=e||"",null!=t)return Qn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Qn(e,r,n,"month");return i}function Kn(e,t,n,r){"boolean"==typeof e?(a(t)&&(n=t,t=undefined),t=t||""):(t=e,n=t,e=!1,a(t)&&(n=t,t=undefined),t=t||"");var i=nt(),o=e?i._week.dow:0;if(null!=n)return Qn(t,(n+o)%7,r,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Qn(t,(s+o)%7,r,"day");return l}function er(e,t){return Zn(e,t,"months")}function tr(e,t){return Zn(e,t,"monthsShort")}function nr(e,t,n){return Kn(e,t,n,"weekdays")}function rr(e,t,n){return Kn(e,t,n,"weekdaysShort")}function ir(e,t,n){return Kn(e,t,n,"weekdaysMin")}function or(){var e=this._data;return this._milliseconds=co(this._milliseconds),this._days=co(this._days),this._months=co(this._months),e.milliseconds=co(e.milliseconds),e.seconds=co(e.seconds),e.minutes=co(e.minutes),e.hours=co(e.hours),e.months=co(e.months),e.years=co(e.years),this}function ar(e,t,n,r){var i=Jt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function sr(e,t){return ar(this,e,t,1)}function lr(e,t){return ar(this,e,t,-1)}function ur(e){return e<0?Math.floor(e):Math.ceil(e)}function cr(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*ur(pr(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=b(o/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,a+=b(n/24),i=b(dr(a)),s+=i,a-=ur(pr(i)),r=b(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function dr(e){return 4800*e/146097}function pr(e){return 146097*e/4800}function fr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=L(e))||"year"===e)return t=this._days+r/864e5,n=this._months+dr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(pr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function hr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN}function mr(e){return function(){return this.as(e)}}function gr(){return Jt(this)}function vr(e){return e=L(e),this.isValid()?this[e+"s"]():NaN}function yr(e){return function(){return this.isValid()?this._data[e]:NaN}}function br(){return b(this.days()/7)}function wr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function _r(e,t,n){var r=Jt(e).abs(),i=So(r.as("s")),o=So(r.as("m")),a=So(r.as("h")),s=So(r.as("d")),l=So(r.as("M")),u=So(r.as("y")),c=i<=Eo.ss&&["s",i]||i<Eo.s&&["ss",i]||o<=1&&["m"]||o<Eo.m&&["mm",o]||a<=1&&["h"]||a<Eo.h&&["hh",a]||s<=1&&["d"]||s<Eo.d&&["dd",s]||l<=1&&["M"]||l<Eo.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,wr.apply(null,c)}function kr(e){return e===undefined?So:"function"==typeof e&&(So=e,!0)}function $r(e,t){return Eo[e]!==undefined&&(t===undefined?Eo[e]:(Eo[e]=t,"s"===e&&(Eo.ss=t-1),!0))}function xr(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=_r(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Cr(e){return(e>0)-(e<0)||+e}function Tr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=Do(this._milliseconds)/1e3,i=Do(this._days),o=Do(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60,n=b(o/12),o%=12;var a=n,s=o,l=i,u=t,c=e,d=r?r.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var f=p<0?"-":"",h=Cr(this._months)!==Cr(p)?"-":"",m=Cr(this._days)!==Cr(p)?"-":"",g=Cr(this._milliseconds)!==Cr(p)?"-":"";return f+"P"+(a?h+a+"Y":"")+(s?h+s+"M":"")+(l?m+l+"D":"")+(u||c||d?"T":"")+(u?g+u+"H":"")+(c?g+c+"M":"")+(d?g+d+"S":"")}var Sr,Er;Er=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var Dr=e.momentProperties=[],Ar=!1,Mr={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Pr;Pr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var Or={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},jr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ir="Invalid date",Lr="%d",Rr=/\d{1,2}/,Nr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Fr={},Vr={},Br=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ur={},zr={},qr=/\d/,Yr=/\d\d/,Wr=/\d{3}/,Gr=/\d{4}/,Xr=/[+-]?\d{6}/,Jr=/\d\d?/,Qr=/\d\d\d\d?/,Zr=/\d\d\d\d\d\d?/,Kr=/\d{1,3}/,ei=/\d{1,4}/,ti=/[+-]?\d{1,6}/,ni=/\d+/,ri=/[+-]?\d+/,ii=/Z|[+-]\d\d:?\d\d/gi,oi=/Z|[+-]\d\d(?::?\d\d)?/gi,ai=/[+-]?\d+(\.\d{1,3})?/,si=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,li={},ui={},ci=0,di=1,pi=2,fi=3,hi=4,mi=5,gi=6,vi=7,yi=8;B("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),I("year","y"),N("year",1),Y("Y",ri),Y("YY",Jr,Yr),Y("YYYY",ei,Gr),Y("YYYYY",ti,Xr),Y("YYYYYY",ti,Xr),J(["YYYYY","YYYYYY"],ci),J("YYYY",function(t,n){n[ci]=2===t.length?e.parseTwoDigitYear(t):w(t)}),J("YY",function(t,n){n[ci]=e.parseTwoDigitYear(t)}),J("Y",function(e,t){t[ci]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var bi,wi=ne("FullYear",!0);bi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),B("MMMM",0,0,function(e){return this.localeData().months(this,e)}),I("month","M"),N("month",8),Y("M",Jr),Y("MM",Jr,Yr),Y("MMM",function(e,t){return t.monthsShortRegex(e)}),Y("MMMM",function(e,t){return t.monthsRegex(e)}),J(["M","MM"],function(e,t){t[di]=w(e)-1}),J(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[di]=i:f(n).invalidMonth=e});var _i=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ki="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$i="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xi=si,Ci=si;B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),N("week",5),N("isoWeek",5),Y("w",Jr),Y("ww",Jr,Yr),Y("W",Jr),Y("WW",Jr,Yr),Q(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=w(e)});var Ti={dow:0,doy:6};B("d",0,"do","day"),B("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),B("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),B("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),Y("d",Jr),Y("e",Jr),Y("E",Jr),Y("dd",function(e,t){return t.weekdaysMinRegex(e)}),Y("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Y("dddd",function(e,t){return t.weekdaysRegex(e)}),Q(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),Q(["d","e","E"],function(e,t,n,r){t[r]=w(e)});var Si="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ei="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Di="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ai=si,Mi=si,Pi=si;B("H",["HH",2],0,"hour"),B("h",["hh",2],0,ze),B("k",["kk",2],0,qe),B("hmm",0,0,function(){return""+ze.apply(this)+V(this.minutes(),2)}),B("hmmss",0,0,function(){return""+ze.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),Ye("a",!0),Ye("A",!1),I("hour","h"),N("hour",13),Y("a",We),Y("A",We),Y("H",Jr),Y("h",Jr),Y("k",Jr),Y("HH",Jr,Yr),Y("hh",Jr,Yr),Y("kk",Jr,Yr),Y("hmm",Qr),Y("hmmss",Zr),Y("Hmm",Qr),Y("Hmmss",Zr),J(["H","HH"],fi),J(["k","kk"],function(e,t){var n=w(e);t[fi]=24===n?0:n}),J(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),J(["h","hh"],function(e,t,n){t[fi]=w(e),f(n).bigHour=!0}),J("hmm",function(e,t,n){var r=e.length-2;t[fi]=w(e.substr(0,r)),t[hi]=w(e.substr(r)),f(n).bigHour=!0}),J("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[fi]=w(e.substr(0,r)),t[hi]=w(e.substr(r,2)),t[mi]=w(e.substr(i)),f(n).bigHour=!0}),J("Hmm",function(e,t){var n=e.length-2;t[fi]=w(e.substr(0,n)),t[hi]=w(e.substr(n))}),J("Hmmss",function(e,t){var n=e.length-4,r=e.length-2;t[fi]=w(e.substr(0,n)),t[hi]=w(e.substr(n,2)),t[mi]=w(e.substr(r))});var Oi,ji=/[ap]\.?m?\.?/i,Ii=ne("Hours",!0),Li={calendar:Or,longDateFormat:jr,invalidDate:Ir,ordinal:Lr,dayOfMonthOrdinalParse:Rr,relativeTime:Nr,months:ki,monthsShort:$i,week:Ti,weekdays:Si,weekdaysMin:Di,weekdaysShort:Ei,meridiemParse:ji},Ri={},Ni={},Fi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bi=/Z|[+-]\d\d(?::?\d\d)?/,Hi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ui=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],zi=/^\/?Date\((\-?\d+)/i,qi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Yi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=$("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Wi=$("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Gi=$("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Xi=function(){return Date.now?Date.now():+new Date},Ji=["year","quarter","month","week","day","hour","minute","second","millisecond"];It("Z",":"),It("ZZ",""),Y("Z",oi),Y("ZZ",oi),J(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Lt(oi,e)});var Qi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Zi=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ki=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Jt.fn=Pt.prototype,Jt.invalid=Mt;var eo=en(1,"add"),to=en(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var no=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===undefined?this.localeData():this.locale(e)});B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ln("gggg","weekYear"),Ln("ggggg","weekYear"),Ln("GGGG","isoWeekYear"),Ln("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),Y("G",ri),Y("g",ri),Y("GG",Jr,Yr),Y("gg",Jr,Yr),Y("GGGG",ei,Gr),Y("gggg",ei,Gr),Y("GGGGG",ti,Xr),Y("ggggg",ti,Xr),Q(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=w(e)}),Q(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),I("quarter","Q"),N("quarter",7),Y("Q",qr),J("Q",function(e,t){t[di]=3*(w(e)-1)}),B("D",["DD",2],"Do","date"),I("date","D"),N("date",9),Y("D",Jr),Y("DD",Jr,Yr),Y("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),J(["D","DD"],pi),J("Do",function(e,t){t[pi]=w(e.match(Jr)[0])});var ro=ne("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),N("dayOfYear",4),Y("DDD",Kr),Y("DDDD",Wr),J(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),B("m",["mm",2],0,"minute"),I("minute","m"),N("minute",14),Y("m",Jr),Y("mm",Jr,Yr),J(["m","mm"],hi);var io=ne("Minutes",!1);B("s",["ss",2],0,"second"),I("second","s"),N("second",15),Y("s",Jr),Y("ss",Jr,Yr),J(["s","ss"],mi);var oo=ne("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),N("millisecond",16),Y("S",Kr,qr),Y("SS",Kr,Yr),Y("SSS",Kr,Wr);var ao;for(ao="SSSS";ao.length<=9;ao+="S")Y(ao,ni);for(ao="S";ao.length<=9;ao+="S")J(ao,qn);var so=ne("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var lo=v.prototype;lo.add=eo,lo.calendar=rn,lo.clone=on,lo.diff=pn,lo.endOf=Cn,lo.format=vn,lo.from=yn,lo.fromNow=bn,lo.to=wn,lo.toNow=_n,lo.get=oe,lo.invalidAt=jn,lo.isAfter=an,lo.isBefore=sn,lo.isBetween=ln,lo.isSame=un,lo.isSameOrAfter=cn,lo.isSameOrBefore=dn,lo.isValid=Pn,lo.lang=no,lo.locale=kn,lo.localeData=$n,lo.max=Gi,lo.min=Wi,lo.parsingFlags=On,lo.set=ae,lo.startOf=xn,lo.subtract=to,lo.toArray=Dn,lo.toObject=An,lo.toDate=En,lo.toISOString=mn,lo.inspect=gn,lo.toJSON=Mn,lo.toString=hn,lo.unix=Sn,lo.valueOf=Tn,lo.creationData=In,lo.year=wi,lo.isLeapYear=te,lo.weekYear=Rn,lo.isoWeekYear=Nn,lo.quarter=lo.quarters=Un,lo.month=he,lo.daysInMonth=me,lo.week=lo.weeks=Ee,lo.isoWeek=lo.isoWeeks=De,lo.weeksInYear=Vn,lo.isoWeeksInYear=Fn,lo.date=ro,lo.day=lo.days=Re,lo.weekday=Ne,lo.isoWeekday=Fe,lo.dayOfYear=zn,lo.hour=lo.hours=Ii,lo.minute=lo.minutes=io,lo.second=lo.seconds=oo,lo.millisecond=lo.milliseconds=so,lo.utcOffset=Ft,lo.utc=Bt,lo.local=Ht,lo.parseZone=Ut,lo.hasAlignedHourOffset=zt,lo.isDST=qt,lo.isLocal=Wt,lo.isUtcOffset=Gt,lo.isUtc=Xt,lo.isUTC=Xt,lo.zoneAbbr=Yn,lo.zoneName=Wn,lo.dates=$("dates accessor is deprecated. Use date instead.",ro),lo.months=$("months accessor is deprecated. Use month instead",he),lo.years=$("years accessor is deprecated. Use year instead",wi),lo.zone=$("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Vt),lo.isDSTShifted=$("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Yt);var uo=E.prototype;uo.calendar=D,uo.longDateFormat=A,uo.invalidDate=M,uo.ordinal=P,uo.preparse=Jn,uo.postformat=Jn,uo.relativeTime=O,uo.pastFuture=j,uo.set=T,uo.months=ue,uo.monthsShort=ce,uo.monthsParse=pe,uo.monthsRegex=ve,uo.monthsShortRegex=ge,uo.week=Ce,uo.firstDayOfYear=Se,uo.firstDayOfWeek=Te,uo.weekdays=Pe,uo.weekdaysMin=je,uo.weekdaysShort=Oe,uo.weekdaysParse=Le,uo.weekdaysRegex=Ve,uo.weekdaysShortRegex=Be,uo.weekdaysMinRegex=He,uo.isPM=Ge,uo.meridiem=Xe,Ke("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=$("moment.lang is deprecated. Use moment.locale instead.",Ke),e.langData=$("moment.langData is deprecated. Use moment.localeData instead.",nt);var co=Math.abs,po=mr("ms"),fo=mr("s"),ho=mr("m"),mo=mr("h"),go=mr("d"),vo=mr("w"),yo=mr("M"),bo=mr("y"),wo=yr("milliseconds"),_o=yr("seconds"),ko=yr("minutes"),$o=yr("hours"),xo=yr("days"),Co=yr("months"),To=yr("years"),So=Math.round,Eo={ss:44,s:45,m:45,h:22,d:26,M:11},Do=Math.abs,Ao=Pt.prototype;return Ao.isValid=At,Ao.abs=or,Ao.add=sr,Ao.subtract=lr,Ao.as=fr,Ao.asMilliseconds=po,Ao.asSeconds=fo,Ao.asMinutes=ho,Ao.asHours=mo,Ao.asDays=go,Ao.asWeeks=vo,Ao.asMonths=yo,Ao.asYears=bo,Ao.valueOf=hr,Ao._bubble=cr,Ao.clone=gr,Ao.get=vr,Ao.milliseconds=wo,Ao.seconds=_o,Ao.minutes=ko,Ao.hours=$o,Ao.days=xo,Ao.weeks=br,Ao.months=Co,Ao.years=To,Ao.humanize=xr,Ao.toISOString=Tr,Ao.toString=Tr,Ao.toJSON=Tr,Ao.locale=kn,Ao.localeData=$n,Ao.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tr),Ao.lang=no,B("X",0,0,"unix"),B("x",0,0,"valueOf"),Y("x",ri),Y("X",ai),J("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),J("x",function(e,t,n){n._d=new Date(w(e))}),e.version="2.22.2",t(Ct),e.fn=lo,e.min=St,e.max=Et,e.now=Xi,e.utc=d,e.unix=Gn,e.months=er,e.isDate=s,e.locale=Ke,e.invalid=m,e.duration=Jt,e.isMoment=y,e.weekdays=nr,e.parseZone=Xn,e.localeData=nt,e.isDuration=Ot,e.monthsShort=tr,e.weekdaysMin=ir,e.defineLocale=et,e.updateLocale=tt,e.locales=rt,e.weekdaysShort=rr,e.normalizeUnits=L,e.relativeTimeRounding=kr,e.relativeTimeThreshold=$r,e.calendarFormat=nn,e.prototype=lo,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},e}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),
angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,r){var i=r.has("$animateCss")?r.get("$animateCss"):null;return{link:function(r,o,a){function s(){v=!!("horizontal"in a),v?(y={width:""},b={width:"0"}):(y={height:""},b={height:"0"}),r.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(y)}function l(e){return v?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function u(){o.hasClass("collapse")&&o.hasClass("in")||t.resolve(f(r)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(o,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:l(o[0])}).start()["finally"](c):e.addClass(o,"in",{css:{overflow:"hidden"},to:l(o[0])}).then(c)},angular.noop)}function c(){o.removeClass("collapsing").addClass("collapse").css(y),h(r)}function d(){if(!o.hasClass("collapse")&&!o.hasClass("in"))return p();t.resolve(m(r)).then(function(){o.css(l(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(o,{removeClass:"in",to:b}).start()["finally"](p):e.removeClass(o,"in",{to:b}).then(p)},angular.noop)}function p(){o.css(b),o.removeClass("collapsing").addClass("collapse"),g(r)}var f=n(a.expanding),h=n(a.expanded),m=n(a.collapsing),g=n(a.collapsed),v=!1,y={},b={};s(),r.$watch(a.uibCollapse,function(e){e?d():u()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){t.addClass("panel"),r.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&r.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var i="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=i+"-tab",e.panelId=i+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){function e(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(t,n,r,i){t.$watch(function(){return i[r.uibAccordionTransclude]},function(t){if(t){var r=angular.element(n[0].querySelector(e()));r.html(""),r.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,r,i){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?r(n.dismissOnTimeout)(e.$parent):null;o&&i(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,r,i){var o=i[0],a=i[1],s=e(r.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,t.$eval(r.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!r.disabled){var e=n.hasClass(o.activeClass);e&&!angular.isDefined(r.uncheckable)||t.$apply(function(){a.$setViewValue(e?null:t.$eval(r.uibBtnRadio)),a.$render()})}}),r.uibUncheckable&&t.$watch(s,function(e){r.$set("uncheckable",e?"":undefined)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,r){function i(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=r[0],l=r[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?o():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,r,i){function o(e){for(var t=0;t<m.length;t++)m[t].slide.active=t===e}function a(n,r,a){if(!y){if(angular.extend(n,{direction:a}),angular.extend(m[v].slide||{},{direction:a}),i.enabled(t)&&!e.$currentTransition&&m[r].element&&h.slides.length>1){m[r].element.data(g,n.direction);var s=h.getCurrentIndex();angular.isNumber(s)&&m[s].element&&m[s].element.data(g,n.direction),e.$currentTransition=!0,i.on("addClass",m[r].element,function(t,n){"close"===n&&(e.$currentTransition=null,i.off("addClass",t))})}e.active=n.index,v=n.index,o(r),c()}}function s(e){for(var t=0;t<m.length;t++)if(m[t].slide===e)return t}function l(){p&&(n.cancel(p),p=null)}function u(t){t.length||(e.$currentTransition=null)}function c(){l();var t=+e.interval;!isNaN(t)&&t>0&&(p=n(d,t))}function d(){var t=+e.interval;f&&!isNaN(t)&&t>0&&m.length?e.next():e.pause()}var p,f,h=this,m=h.slides=e.slides=[],g="uib-slideDirection",v=e.active,y=!1;t.addClass("carousel"),h.addSlide=function(t,n){m.push({slide:t,element:n}),m.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===m.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),v=t.index,e.active=t.index,o(v),h.select(m[s(t)]),1===m.length&&e.play())},h.getCurrentIndex=function(){for(var e=0;e<m.length;e++)if(m[e].slide.index===v)return e},h.next=e.next=function(){var t=(h.getCurrentIndex()+1)%m.length;return 0===t&&e.noWrap()?void e.pause():h.select(m[t],"next")},h.prev=e.prev=function(){var t=h.getCurrentIndex()-1<0?m.length-1:h.getCurrentIndex()-1;return e.noWrap()&&t===m.length-1?void e.pause():h.select(m[t],"prev")},h.removeSlide=function(t){var n=s(t);m.splice(n,1),m.length>0&&v===n?n>=m.length?(v=m.length-1,e.active=v,o(v),h.select(m[m.length-1])):(v=n,e.active=v,o(v),h.select(m[n])):v>n&&(v--,e.active=v),0===m.length&&(v=null,e.active=null)},h.select=e.select=function(t,n){var r=s(t.slide);n===undefined&&(n=r>h.getCurrentIndex()?"next":"prev"),t.slide.index===v||e.$currentTransition||a(t.slide,r,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===m.length-1&&e.noWrap()},e.pause=function(){e.noPause||(f=!1,l())},e.play=function(){f||(f=!0,c())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){y=!0,l()}),e.$watch("noTransition",function(e){i.enabled(t,!e)}),e.$watch("interval",c),e.$watchCollection("slides",u),e.$watch("active",function(e){if(angular.isNumber(e)&&v!==e){for(var t=0;t<m.length;t++)if(m[t].slide.index===e){e=t;break}m[e]&&(o(e),h.select(m[e]),v=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,r,i){n.addClass("item"),i.addSlide(t,n),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(r,i,o){if("active"===i){var a=!1,s=r.data(n),l="next"===s?"left":"right",u=t.bind(this,r,l+" "+s,o);return r.addClass(s),e(r,{addClass:l}).start().done(u),function(){a=!0}}o()},beforeRemoveClass:function(r,i,o){if("active"===i){var a=!1,s=r.data(n),l="next"===s?"left":"right",u=t.bind(this,r,l,o);return e(r,{addClass:l}).start().done(u),function(){a=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,r,i){function o(e){return i(y,{key:e},!0)[0]}function a(e){var t=[],n=e.split(""),i=e.indexOf("'");if(i>-1){var o=!1;e=e.split("");for(var a=i;a<e.length;a++)o?("'"===e[a]&&(a+1<e.length&&"'"===e[a+1]?(e[a+1]="$",n[a+1]=""):(n[a]="",o=!1)),e[a]="$"):"'"===e[a]&&(e[a]="$",n[a]="",o=!0);e=e.join("")}return angular.forEach(y,function(r){var i=e.indexOf(r.key);if(i>-1){e=e.split(""),n[i]="("+r.regex+")",e[i]="$";for(var o=i+1,a=i+r.key.length;o<a;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:i,key:r.key,apply:r.apply,matcher:r.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:r(t,"index")}}function s(e){for(var t,n,r=[],i=0;i<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(i))(i+1>=e.length||"'"!==e.charAt(i+1))&&(r.push(l(e,n,i)),n=null);else if(i===e.length)for(;n<e.length;)t=u(e,n),r.push(t),n=t.endIdx;i++}else"'"!==e.charAt(i)?(t=u(e,i),r.push(t.parser),i=t.endIdx):(n=i,i++);return r}function l(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function u(e,t){for(var n=e.substr(t),r=0;r<y.length;r++)if(new RegExp("^"+y[r].key).test(n)){var i=y[r];return{endIdx:t+i.key.length,parser:i.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function c(e,t,n){return!(n<1)&&(1===t&&n>28?29===n&&(e%4==0&&e%100!=0||e%400==0):3!==t&&5!==t&&8!==t&&10!==t||n<31)}function d(e){return parseInt(e,10)}function p(e,t){return e&&t?g(e,t):e}function f(e,t){return e&&t?g(e,t,!0):e}function h(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function m(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function g(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return m(e,n*(h(t,r)-r))}var v,y,b=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){v=t.id,this.parsers={},this.formatters={},y=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],r=t[2],i=t[3];this.hours+=d(n+r),this.minutes+=d(n+i)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&y.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=o(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=o(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){return angular.isDate(e)&&!isNaN(e)&&n?(n=t.DATETIME_FORMATS[n]||n,t.id!==v&&this.init(),this.formatters[n]||(this.formatters[n]=s(n)),this.formatters[n].reduce(function(t,n){return t+n(e)},"")):""},this.parse=function(n,r,i){if(!angular.isString(n)||!r)return n;r=t.DATETIME_FORMATS[r]||r,r=r.replace(b,"\\$&"),t.id!==v&&this.init(),this.parsers[r]||(this.parsers[r]=a(r,"apply"));var o=this.parsers[r],s=o.regex,l=o.map,u=n.match(s),d=!1;if(u&&u.length){var p,f;angular.isDate(i)&&!isNaN(i.getTime())?p={year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}:(i&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var h=1,m=u.length;h<m;h++){var g=l[h-1];"Z"===g.matcher&&(d=!0),g.apply&&g.apply.call(p,u[h])}var y=d?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=d?Date.prototype.setUTCHours:Date.prototype.setHours;return c(p.year,p.month,p.date)&&(!angular.isDate(i)||isNaN(i.getTime())||d?(f=new Date(0),y.call(f,p.year,p.month,p.date),w.call(f,p.hours||0,p.minutes||0,p.seconds||0,p.milliseconds||0)):(f=new Date(i),y.call(f,p.year,p.month,p.date),w.call(f,p.hours,p.minutes,p.seconds,p.milliseconds))),f}},this.toTimezone=p,this.fromTimezone=f,this.timezoneToOffset=h,this.addDateMinutes=m,this.convertTimezoneToLocal=g}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(r,i){function o(e,t){l.push(e),u.push({scope:e,element:t}),h.forEach(function(t){a(t,e)}),e.$on("$destroy",s)}function a(t,r){var i=t.match(n),o=r.$eval(i[1]),a=i[2],s=c[t];if(!s){var l=function(t){var n=null;u.some(function(e){if(e.scope.$eval(p)===t)return n=e,!0}),s.lastActivated!==n&&(s.lastActivated&&e.removeClass(s.lastActivated.element,o),n&&e.addClass(n.element,o),s.lastActivated=n)};c[t]=s={lastActivated:null,scope:r,watchFn:l,compareWithExp:a,watcher:r.$watch(a,l)}}s.watchFn(r.$eval(a))}function s(e){var t=e.targetScope,n=l.indexOf(t);if(l.splice(n,1),u.splice(n,1),l.length){var r=l[0];angular.forEach(c,function(e){e.scope===t&&(e.watcher=r.$watch(e.compareWithExp,e.watchFn),e.scope=r)})}else c={}}var l=[],u=[],c={},d=i.uibIsClass.match(t),p=d[2],f=d[1],h=f.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,r,i,o,a,s,l,u,c,d){function p(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}function f(t){var n;if(angular.version.minor<6)n=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions||{},n.getOption=function(e){return n[e]};else{var r=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=t.$options.createChild(l.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:r})}return n}var h=this,m={$setViewValue:angular.noop},g={},v=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":h[t]=angular.isDefined(e.datepickerOptions[t])?i(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":h[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?h.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?h.startingDay=l.startingDay:h.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?h[t]=d.fromTimezone(new Date(e),g.getOption("timezone")):(u&&a.warn("Literal date support has been deprecated, please switch to date object usage"),h[t]=new Date(s(e,"medium"))):h[t]=l[t]?d.fromTimezone(new Date(l[t]),g.getOption("timezone")):null,h.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){h[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&h.modes.indexOf(e.datepickerOptions.datepickerMode)<h.modes.indexOf(h[t])||"maxMode"===t&&h.modes.indexOf(e.datepickerOptions.datepickerMode)>h.modes.indexOf(h[t]))&&(e.datepickerMode=h[t],e.datepickerOptions.datepickerMode=h[t])}):h[t]=e[t]=l[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&v.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,h.refreshView()})),e.isActive=function(t){return 0===h.compare(t.date,h.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){m=t,g=f(m),e.datepickerOptions.initDate?(h.activeDate=d.fromTimezone(e.datepickerOptions.initDate,g.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(m.$isEmpty(m.$modelValue)||m.$invalid)&&(h.activeDate=d.fromTimezone(e,g.getOption("timezone")),h.refreshView())})):h.activeDate=new Date;var n=m.$modelValue?new Date(m.$modelValue):new Date;this.activeDate=isNaN(n)?d.fromTimezone(new Date,g.getOption("timezone")):d.fromTimezone(n,g.getOption("timezone")),m.$render=function(){h.render()}},this.render=function(){if(m.$viewValue){var e=new Date(m.$viewValue);!isNaN(e)?this.activeDate=d.fromTimezone(e,g.getOption("timezone")):c||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=m.$viewValue?new Date(m.$viewValue):null;t=d.fromTimezone(t,g.getOption("timezone")),m.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var r=m.$viewValue?new Date(m.$viewValue):null;r=d.fromTimezone(r,g.getOption("timezone"));var i=new Date;i=d.fromTimezone(i,g.getOption("timezone"));var o=this.compare(t,i),a={date:t,label:d.filter(t,n),selected:r&&0===this.compare(t,r),disabled:this.isDisabled(t),past:o<0,current:0===o,future:o>0,customClass:this.customClass(t)||null};return r&&0===this.compare(t,r)&&(e.selectedDt=a),h.activeDate&&0===this.compare(a.date,h.activeDate)&&(e.activeDt=a),a},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===h.minMode){var n=m.$viewValue?d.fromTimezone(new Date(m.$viewValue),g.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=d.toTimezone(n,g.getOption("timezone")),m.$setViewValue(n),m.$render()}else h.activeDate=t,p(h.modes[h.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=h.activeDate.getFullYear()+e*(h.step.years||0),n=h.activeDate.getMonth()+e*(h.step.months||0);h.activeDate.setFullYear(t,n,1),h.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===h.maxMode&&1===t||e.datepickerMode===h.minMode&&-1===t||(p(h.modes[h.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var y=function(){h.element[0].focus()};e.$on("uib:datepicker.focus",y),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),h.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(h.isDisabled(h.activeDate))return;e.select(h.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(h.handleKeyDown(n,t),h.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;v.length;)v.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function r(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?o[t]:29}function i(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,r=new Array(t),i=new Date(e),o=0;o<t;)n=new Date(i),r[o++]=n,i.setDate(i.getDate()+1);return r},this._refreshView=function(){var t=this.activeDate.getFullYear(),r=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,r,1);var a=this.startingDay-o.getDay(),s=a>0?7-a:-a,l=new Date(o);s>0&&l.setDate(1-s);for(var u=this.getDates(l,42),c=0;c<42;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==r,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var d=0;d<7;d++)e.labels[d]={abbr:n(u[d].date,this.formatDayHeader),full:n(u[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,f=e.rows.length,h=0;h<f;h++)e.weekNumbers.push(i(e.rows[h][p].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e){var t=this.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(n,1),t=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(t)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,r=new Array(12),i=this.activeDate.getFullYear(),o=0;o<12;o++)t=new Date(this.activeDate),t.setFullYear(i,o,1),r[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(r,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),r=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e){var t=this.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=this.monthColumns;else if("right"===e)t+=1;else if("down"===e)t+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var n=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);this.activeDate.setMonth(t)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t){function n(e){return parseInt((e-1)/i,10)*i+1}var r,i;this.element=t,this.yearpickerInit=function(){r=this.yearColumns,i=this.yearRows*r,this.step={years:i}},this._refreshView=function(){for(var t,o=new Array(i),a=0,s=n(this.activeDate.getFullYear());a<i;a++)t=new Date(this.activeDate),t.setFullYear(s+a,0,1),o[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[o[0].label,o[i-1].label].join(" - "),e.rows=this.split(o,r),e.columns=r},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e){var t=this.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=r:"right"===e?t+=1:"down"===e?t+=r:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*i:"home"===e?t=n(this.activeDate.getFullYear()):"end"===e&&(t=n(this.activeDate.getFullYear())+i-1),this.activeDate.setFullYear(t)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,r){var i=r[0];r[1].init(i)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,r){var i=r[0];r[1].init(i)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,r){var i=r[0];angular.extend(i,r[1]),i.yearpickerInit(),i.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,r,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function r(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var i=n.offsetParent||e[0].documentElement;i&&i!==e[0].documentElement&&r(i);)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(r)){var o=e.find("body")
;o.addClass("uib-position-body-scrollbar-measure"),r=t.innerWidth-o[0].clientWidth,r=isFinite(r)?r:0,o.removeClass("uib-position-body-scrollbar-measure")}return r}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),r=this.parseStyle(n.paddingRight),i=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:r+s,originalRight:r,heightOverflow:o.scrollHeight>o.clientHeight,bottom:i+s,originalBottom:i}},isScrollable:function(e,n){e=this.getRawNode(e);var r=n?i.hidden:i.normal,o=t.getComputedStyle(e);return r.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,r,o){n=this.getRawNode(n);var a=r?i.hidden:i.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var u="absolute"===l.position,c=n.parentElement||s;if(c===s||"fixed"===l.position)return s;for(;c.parentElement&&c!==s;){var d=t.getComputedStyle(c);if(u&&"static"!==d.position&&(u=!1),!u&&a.test(d.overflow+d.overflowY+d.overflowX))break;c=c.parentElement}return c},position:function(n,r){n=this.getRawNode(n);var i=this.offset(n);if(r){var o=t.getComputedStyle(n);i.top-=this.parseStyle(o.marginTop),i.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==e[0].documentElement&&(s=this.offset(a),s.top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-s.top),left:Math.round(i.left-s.left)}},offset:function(n){n=this.getRawNode(n);var r=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(r.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,r,i){n=this.getRawNode(n),i=!1!==i;var o=n.getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=r?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,i){var u=t.getComputedStyle(s);a.top+=this.parseStyle(u.paddingTop),a.bottom-=this.parseStyle(u.paddingBottom),a.left+=this.parseStyle(u.paddingLeft),a.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),e=e.split("-"),e[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,r,i){e=this.getRawNode(e),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");r=this.parsePlacement(r);var l=i?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(r[2]){var c=this.viewportOffset(e,i),d=t.getComputedStyle(n),p={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(r[0]="top"===r[0]&&p.height>c.top&&p.height<=c.bottom?"bottom":"bottom"===r[0]&&p.height>c.bottom&&p.height<=c.top?"top":"left"===r[0]&&p.width>c.left&&p.width<=c.right?"right":"right"===r[0]&&p.width>c.right&&p.width<=c.left?"left":r[0],r[1]="top"===r[1]&&p.height-l.height>c.bottom&&p.height-l.height<=c.top?"bottom":"bottom"===r[1]&&p.height-l.height>c.top&&p.height-l.height<=c.bottom?"top":"left"===r[1]&&p.width-l.width>c.right&&p.width-l.width<=c.left?"right":"right"===r[1]&&p.width-l.width>c.left&&p.width-l.width<=c.right?"left":r[1],"center"===r[1])if(o.vertical.test(r[0])){var f=l.width/2-a/2;c.left+f<0&&p.width-l.width<=c.right?r[1]="left":c.right+f<0&&p.width-l.width<=c.left&&(r[1]="right")}else{var h=l.height/2-p.height/2;c.top+h<0&&p.height-l.height<=c.bottom?r[1]="top":c.bottom+h<0&&p.height-l.height<=c.top&&(r[1]="bottom")}}switch(r[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-a;break;case"right":u.left=l.left+l.width}switch(r[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-a;break;case"center":o.vertical.test(r[0])?u.left=l.left+l.width/2-a/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===r[1]?r[0]:r[0]+"-"+r[1],u},adjustTop:function(e,t,n,r){if(-1!==e.indexOf("top")&&n!==r)return{top:t.top-r+"px"}},positionArrow:function(e,n){e=this.getRawNode(e);var r=e.querySelector(".tooltip-inner, .popover-inner");if(r){var i=angular.element(r).hasClass("tooltip-inner"),a=i?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(a).css(s);var l="border-"+n[0]+"-width",u=t.getComputedStyle(a)[l],c="border-";o.vertical.test(n[0])?c+=n[0]+"-"+n[1]:c+=n[1]+"-"+n[0],c+="-radius";var d=t.getComputedStyle(i?r:e)[c];switch(n[0]){case"top":s.bottom=i?"0":"-"+u;break;case"bottom":s.top=i?"0":"-"+u;break;case"left":s.right=i?"0":"-"+u;break;case"right":s.left=i?"0":"-"+u}s[n[1]]=d,angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,r,i,o,a,s,l,u,c,d,p,f,h,m){function g(t){var n=d.parse(t,$,e.date);if(isNaN(n))for(var r=0;r<I.length;r++)if(n=d.parse(t,I[r],e.date),!isNaN(n))return n;return n}function v(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=g(e);if(!isNaN(t))return d.toTimezone(t,O.getOption("timezone"))}return O.getOption("allowInvalid")?e:undefined}function y(e,t){var r=e||t;return!n.ngRequired&&!r||(angular.isNumber(r)&&(r=new Date(r)),!r||(!(!angular.isDate(r)||isNaN(r))||!!angular.isString(r)&&!isNaN(g(r))))}function b(n){if(e.isOpen||!e.disabled){var r=j[0],i=t[0].contains(n.target),o=r.contains!==undefined&&r.contains(n.target);!e.isOpen||i||o||e.$apply(function(){e.isOpen=!1})}}function w(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function _(){if(e.isOpen){var r=angular.element(j[0].querySelector(".uib-datepicker-popup")),i=n.popupPlacement?n.popupPlacement:p.placement,o=u.positionElements(t,r,i,C);r.css({top:o.top+"px",left:o.left+"px"}),r.hasClass("uib-position-measure")&&r.removeClass("uib-position-measure")}}function k(e){var t;return angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null},t.getOption=function(e){return t[e]}):t=e.$options,t}var $,x,C,T,S,E,D,A,M,P,O,j,I,L=!1,R=[];this.init=function(i){if(P=i,O=k(P),x=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,C=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,T=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):p.onOpenFocus,S=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,E=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,I=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):p.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?($=p.html5Types[n.type],L=!0):($=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(e){var t=e||p.datepickerPopup;if(t!==$&&($=t,P.$modelValue=null,!$))throw new Error("uibDatepickerPopup must have a date format specified.")})),!$)throw new Error("uibDatepickerPopup must have a date format specified.");if(L&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");D=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),D.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":S}),A=angular.element(D.children()[0]),A.attr("template-url",E),e.datepickerOptions||(e.datepickerOptions={}),L&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),A.attr("datepicker-options","datepickerOptions"),L?P.$formatters.push(function(t){return e.date=d.fromTimezone(t,O.getOption("timezone")),t}):(P.$$parserName="date",P.$validators.date=y,P.$parsers.unshift(v),P.$formatters.push(function(t){return P.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,O.getOption("timezone")),d.filter(e.date,$))})),P.$viewChangeListeners.push(function(){e.date=g(P.$viewValue)}),t.on("keydown",w),j=r(D)(e),D.remove(),C?s.find("body").append(j):t.after(j),e.$on("$destroy",function(){for(!0===e.isOpen&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),j.remove(),t.off("keydown",w),s.off("click",b),M&&M.off("scroll",_),angular.element(a).off("resize",_);R.length;)R.shift()()})},e.getText=function(t){return e[t+"Text"]||p[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,O.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(m&&i.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(c(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var r=e.date?d.filter(e.date,$):null;t.val(r),P.$setViewValue(r),x&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var r=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate())):(t=d.fromTimezone(r,O.getOption("timezone")),t.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&R.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(r){r?e.disabled?e.isOpen=!1:f(function(){_(),T&&e.$broadcast("uib:datepicker.focus"),s.on("click",b);var r=n.popupPlacement?n.popupPlacement:p.placement;C||u.parsePlacement(r)[2]?(M=M||angular.element(u.scrollParent(t)))&&M.on("scroll",_):M=null,angular.element(a).on("resize",_)},0,!1):(s.off("click",b),M&&M.off("scroll",_),angular.element(a).off("resize",_))}),e.$on("uib:datepicker.mode",function(){f(_,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,r){var i=r[0];r[1].init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var r;return function(){var i=this,o=Array.prototype.slice.call(arguments);r&&e.cancel(r),r=e(function(){t.apply(i,o)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,n){var r=null,i=n.createNew();this.isOnlyOpen=function(e,t){var n=i.get(t);if(n){if(n.reduce(function(t,n){return n.scope===e?n:t},{}))return 1===n.length}return!1},this.open=function(t,n,a){if(r||e.on("click",o),r&&r!==t&&(r.isOpen=!1),r=t,a){var s=i.get(a);if(s){-1===s.map(function(e){return e.scope}).indexOf(t)&&i.put(a,{scope:t})}else i.put(a,{scope:t})}},this.close=function(t,n,a){if(r===t&&(e.off("click",o),e.off("keydown",this.keybindFilter),r=null),a){var s=i.get(a);if(s){var l=s.reduce(function(e,n){return n.scope===t?n:e},{});l&&i.remove(a,l)}}};var o=function(e){if(r&&r.isOpen&&!(e&&"disabled"===r.getAutoClose()||e&&3===e.which)){var n=r.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var i=r.getDropdownElement();e&&"outsideClick"===r.getAutoClose()&&i&&i[0].contains(e.target)||(r.focusToggleElement(),r.isOpen=!1,t.$$phase||r.$apply())}}};this.keybindFilter=function(e){if(r){var t=r.getDropdownElement(),n=r.getToggleElement(),i=t&&t[0].contains(e.target),a=n&&n[0].contains(e.target);27===e.which?(e.stopPropagation(),r.focusToggleElement(),o()):r.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&r.isOpen&&(i||a)&&(e.preventDefault(),e.stopPropagation(),r.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,r,i,o,a,s,l,u,c){function d(){t.append(h.dropdownMenu)}var p,f,h=this,m=e.$new(),g=i.appendToOpenClass,v=i.openClass,y=angular.noop,b=n.onToggle?r(n.onToggle):angular.noop,w=!1,_=l.find("body");t.addClass("dropdown"),this.init=function(){n.isOpen&&(f=r(n.isOpen),y=f.assign,e.$watch(f,function(e){m.isOpen=!!e})),w=angular.isDefined(n.keyboardNav)},this.toggle=function(e){return m.isOpen=arguments.length?!!e:!m.isOpen,angular.isFunction(y)&&y(m,m.isOpen),m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return h.toggleElement},m.getAutoClose=function(){return n.autoClose||"always"},m.getElement=function(){return t},m.isKeynavEnabled=function(){return w},m.focusDropdownEntry=function(e){var n=h.dropdownMenu?angular.element(h.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(h.selectedOption)?h.selectedOption=h.selectedOption===n.length-1?h.selectedOption:h.selectedOption+1:h.selectedOption=0;break;case 38:angular.isNumber(h.selectedOption)?h.selectedOption=0===h.selectedOption?0:h.selectedOption-1:h.selectedOption=n.length-1}n[h.selectedOption].focus()},m.getDropdownElement=function(){return h.dropdownMenu},m.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},m.$watch("isOpen",function(i,f){var w=null,k=!1;if(angular.isDefined(n.dropdownAppendTo)){var $=r(n.dropdownAppendTo)(m);$&&(w=angular.element($))}if(angular.isDefined(n.dropdownAppendToBody)){!1!==r(n.dropdownAppendToBody)(m)&&(k=!0)}if(k&&!w&&(w=_),w&&h.dropdownMenu&&(i?(w.append(h.dropdownMenu),t.on("$destroy",d)):(t.off("$destroy",d),d())),w&&h.dropdownMenu){var x,C,T,S=s.positionElements(t,h.dropdownMenu,"bottom-left",!0),E=0;if(x={top:S.top+"px",display:i?"block":"none"},C=h.dropdownMenu.hasClass("dropdown-menu-right"),C?(x.left="auto",T=s.scrollbarPadding(w),T.heightOverflow&&T.scrollbarWidth&&(E=T.scrollbarWidth),x.right=window.innerWidth-E-(S.left+t.prop("offsetWidth"))+"px"):(x.left=S.left+"px",x.right="auto"),!k){var D=s.offset(w);x.top=S.top-D.top+"px",C?x.right=window.innerWidth-(S.left-D.left+t.prop("offsetWidth"))+"px":x.left=S.left-D.left+"px"}h.dropdownMenu.css(x)}var A=w||t,M=w?g:v,P=A.hasClass(M),O=o.isOnlyOpen(e,w);if(P===!i){var j;j=w?O?"removeClass":"addClass":i?"addClass":"removeClass",a[j](A,M).then(function(){angular.isDefined(i)&&i!==f&&b(e,{open:!!i})})}if(i)h.dropdownMenuTemplateUrl?c(h.dropdownMenuTemplateUrl).then(function(e){p=m.$new(),u(e.trim())(p,function(e){var t=e;h.dropdownMenu.replaceWith(t),h.dropdownMenu=t,l.on("keydown",o.keybindFilter)})}):l.on("keydown",o.keybindFilter),m.focusToggleElement(),o.open(m,t,w);else{if(o.close(m,t,w),h.dropdownMenuTemplateUrl){p&&p.$destroy();var I=angular.element('<ul class="dropdown-menu"></ul>');h.dropdownMenu.replaceWith(I),h.dropdownMenu=I}h.selectedOption=null}angular.isFunction(y)&&y(e,i)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,r){r.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,r){if(r&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.on("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.off("click",i)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t===e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var r=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,o,a){if(r)return r.resolve(e,i,o,a);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},r=0;return angular.forEach(e,function(e,i){n[i]=t[r++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function r(t,r,i){i.modalInClass&&(e.addClass(r,i.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();t.modalOptions.animation?e.removeClass(r,i.modalInClass).then(a):a()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),r}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,r){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(i,o,a){o.addClass(a.windowTopClass||""),i.size=a.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",i.close),i.$isRendered=!0;var s=t.defer();i.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();n(o,{removeClass:a.modalInClass}).start().then(r)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!r[0].activeElement||!o[0].contains(r[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,r,i,o){o(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,r,i,o,a,s,l){function u(e){return e.replace(A,function(e,t){return(t?"-":"")+e.toLowerCase()})}function c(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function d(){for(var e=-1,t=$.keys(),n=0;n<t.length;n++)$.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<T&&(e=T),e}function p(e,t){var n=$.get(e).value,r=n.appendTo;$.remove(e),S=$.top(),S&&(T=parseInt(S.value.modalDomEl.attr("index"),10)),m(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||k;x.remove(t,e);var i=x.hasKey(t);r.toggleClass(t,i),!i&&_&&_.heightOverflow&&_.scrollbarWidth&&(_.originalRight?r.css({paddingRight:_.originalRight+"px"}):r.css({paddingRight:""}),_=null),f(!0)},n.closedDeferred),h(),t&&t.focus?t.focus():r.focus&&r.focus()}function f(e){var t;$.length()>0&&(t=$.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function h(){if(b&&-1===d()){var e=w;m(b,w,function(){e=null}),b=undefined,w=undefined}}function m(t,n,r,i){function a(){a.done||(a.done=!0,e.leave(t).then(function(){r&&r(),t.remove(),i&&i.resolve()}),n.$destroy())}var s,l=null,u=function(){return s||(s=o.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(C.NOW_CLOSING_EVENT,u),o.when(l).then(a)}function g(e){if(e.isDefaultPrevented())return e;var t=$.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply(function(){C.dismiss(t.key,"escape key press")}));break;case 9:var n=C.loadFocusElementList(t),r=!1;e.shiftKey?(C.isFocusInFirstItem(e,n)||C.isModalFocused(e,t))&&(r=C.focusLastFocusableElement(n)):C.isFocusInLastItem(e,n)&&(r=C.focusFirstFocusableElement(n)),r&&(e.preventDefault(),e.stopPropagation())}}function v(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function y(){Array.prototype.forEach.call(document.querySelectorAll("["+E+"]"),function(e){var t=parseInt(e.getAttribute(E),10),n=t-1;e.setAttribute(E,n),n||(e.removeAttribute(E),e.removeAttribute("aria-hidden"))})}var b,w,_,k="modal-open",$=s.createNew(),x=a.createNew(),C={NOW_CLOSING_EVENT:"modal.stack.now-closing"},T=0,S=null,E="data-bootstrap-modal-aria-hidden-count",D="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",A=/[A-Z]/g;return i.$watch(d,function(e){w&&(w.index=e)}),n.on("keydown",g),i.$on("$destroy",function(){n.off("keydown",g)}),C.open=function(t,o){function a(e){function t(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}if(e&&"BODY"!==e[0].tagName)return t(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(E),10);n||(n=t?1:0),e.setAttribute(E,n+1),e.setAttribute("aria-hidden","true")}),a(e.parent())}var s=n[0].activeElement,c=o.openedClass||k;f(!1),S=$.top(),$.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),x.put(c,t);var p=o.appendTo,h=d();h>=0&&!b&&(w=i.$new(!0),w.modalOptions=o,w.index=h,b=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),b.attr({"class":"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&b.addClass(o.backdropClass),o.animation&&b.attr("modal-animation","true"),r(b)(w),e.enter(b,p),l.isScrollable(p)&&(_=l.scrollbarPadding(p),_.heightOverflow&&_.scrollbarWidth&&p.css({paddingRight:_.right+"px"})));var m;o.component?(m=document.createElement(u(o.component.name)),m=angular.element(m),m.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):m=o.content,T=S?parseInt(S.value.modalDomEl.attr("index"),10)+1:0;var g=angular.element('<div uib-modal-window="modal-window"></div>');g.attr({"class":"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:T,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(m),o.windowClass&&g.addClass(o.windowClass),o.animation&&g.attr("modal-animation","true"),p.addClass(c),o.scope&&(o.scope.$$topModalIndex=T),e.enter(r(g)(o.scope),p),$.top().value.modalDomEl=g,$.top().value.modalOpener=s,a(g)},C.close=function(e,t){var n=$.get(e);return y(),n&&v(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),p(e,n.value.modalOpener),!0):!n},C.dismiss=function(e,t){var n=$.get(e);return y(),n&&v(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),p(e,n.value.modalOpener),!0):!n},C.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},C.getTop=function(){return $.top()},C.modalRendered=function(e){var t=$.get(e);t&&t.value.renderDeferred.resolve()},C.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},C.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},C.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},C.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},C.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},C.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll(D);return n?Array.prototype.filter.call(n,function(e){return c(e)}):n}}},C}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,r,i,o,a,s){function l(e){return e.template?n.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(i){function u(){return g}var d=n.defer(),p=n.defer(),f=n.defer(),h=n.defer(),m={result:d.promise,opened:p.promise,closed:f.promise,rendered:h.promise,close:function(e){return s.close(m,e)},dismiss:function(e){return s.dismiss(m,e)}};if(i=angular.extend({},e.options,i),i.resolve=i.resolve||{},i.appendTo=i.appendTo||r.find("body").eq(0),!i.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!i.component&&!i.template&&!i.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var g;g=i.component?n.when(a.resolve(i.resolve,{},null,null)):n.all([l(i),a.resolve(i.resolve,{},null,null)]);var v;return v=c=n.all([c]).then(u,u).then(function(e){function n(t,n,r,i){t.$scope=a,t.$scope.$resolve={},r?t.$scope.$uibModalInstance=m:t.$uibModalInstance=m;var o=n?e[1]:e;angular.forEach(o,function(e,n){i&&(t[n]=e),t.$scope.$resolve[n]=e})}var r=i.scope||t,a=r.$new();a.$close=m.close,a.$dismiss=m.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var l,u,c={scope:a,deferred:d,renderDeferred:h,closedDeferred:f,animation:i.animation,backdrop:i.backdrop,keyboard:i.keyboard,backdropClass:i.backdropClass,windowTopClass:i.windowTopClass,windowClass:i.windowClass,windowTemplateUrl:i.windowTemplateUrl,ariaLabelledBy:i.ariaLabelledBy,ariaDescribedBy:i.ariaDescribedBy,size:i.size,openedClass:i.openedClass,appendTo:i.appendTo},g={},v={};i.component?(n(g,!1,!0,!1),g.name=i.component,c.component=g):i.controller&&(n(v,!0,!1,!0),u=o(i.controller,v,!0,i.controllerAs),i.controllerAs&&i.bindToController&&(l=u.instance,l.$close=a.$close,l.$dismiss=a.$dismiss,angular.extend(l,{$resolve:v.$scope.$resolve},r)),l=u(),angular.isFunction(l.$onInit)&&l.$onInit()),i.component||(c.content=e[0]),s.open(m,c),p.resolve(!0)},function(e){p.reject(e),d.reject(e)})["finally"](function(){c===v&&(c=null)}),m},u}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,r){t.setNumPages=r.numPages?e(r.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,i){t.ngModelCtrl=e,t.config=i,e.$render=function(){t.render()},r.itemsPerPage?t._watchers.push(n.$parent.$watch(r.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=i.itemsPerPage,n.$watch("totalItems",function(e,r){(angular.isDefined(e)||e!==r)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,r){r&&r.preventDefault(),(!n.ngDisabled||!r)&&n.page!==e&&e>0&&e<=n.totalPages&&(r&&r.target&&r.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,r){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):r.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"\xab Previous",nextText:"Next \xbb",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,r,i){n.addClass("pager");var o=i[0],a=i[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,r,i){function o(e,t,n){return{number:e,text:t,active:n}}function a(e,t){var n=[],r=1,i=t,a=angular.isDefined(l)&&l<t;a&&(u?(r=Math.max(e-Math.floor(l/2),1),(i=r+l-1)>t&&(i=t,r=i-l+1)):(r=(Math.ceil(e/l)-1)*l+1,i=Math.min(r+l-1,t)));for(var s=r;s<=i;s++){var f=o(s,p(s),s===e);n.push(f)}if(a&&l>0&&(!u||c||d)){if(r>1){
if(!d||r>3){var h=o(r-1,"...",!1);n.unshift(h)}if(d){if(3===r){var m=o(2,"2",!1);n.unshift(m)}var g=o(1,"1",!1);n.unshift(g)}}if(i<t){if(!d||i<t-2){var v=o(i+1,"...",!1);n.push(v)}if(d){if(i===t-2){var y=o(t-1,t-1,!1);n.push(y)}var b=o(t,t,!1);n.push(b)}}}return n}var s=this,l=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):i.maxSize,u=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):i.rotate,c=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):i.forceEllipses,d=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):i.boundaryLinkNumbers,p=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):i.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):i.directionLinks,t.$set("role","menu"),r.create(this,e,t),t.maxSize&&s._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){l=parseInt(e,10),s.render()}));var f=this.render;this.render=function(){f(),e.page>0&&e.page<=e.totalPages&&(e.pages=a(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,r,i){n.addClass("pagination");var o=i[0],a=i[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,o,a,s,l,u,c,d,p){function f(e){if(27===e.which){var t=h.top();t&&(t.value.close(),t=null)}}var h=p.createNew();return s.on("keyup",f),c.$on("$destroy",function(){s.off("keyup",f)}),function(i,c,p,f){function m(e){var t=(e||f.trigger||p).split(" ");return{show:t,hide:t.map(function(e){return n[e]||e})}}f=angular.extend({},t,r,f);var g=e(i),v=u.startSymbol(),y=u.endSymbol(),b="<div "+g+'-popup uib-title="'+v+"title"+y+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(){var e=o(b);return function(t,n,r){function o(){V.isOpen?p():u()}function u(){F&&!t.$eval(r[c+"Enable"])||(b(),k(),V.popupDelay?P||(P=a(g,V.popupDelay,!1)):g())}function p(){v(),V.popupCloseDelay?O||(O=a(y,V.popupCloseDelay,!1)):y()}function g(){if(v(),b(),!V.content)return angular.noop;w(),V.$evalAsync(function(){V.isOpen=!0,$(!0),q()})}function v(){P&&(a.cancel(P),P=null),j&&(a.cancel(j),j=null)}function y(){V&&V.$evalAsync(function(){V&&(V.isOpen=!1,$(!1),V.animation?M||(M=a(_,150,!1)):_())})}function b(){O&&(a.cancel(O),O=null),M&&(a.cancel(M),M=null)}function w(){D||(A=V.$new(),D=e(A,function(e){R?s.find("body").append(e):n.after(e)}),h.add(V,{close:y}),x())}function _(){v(),b(),C(),D&&(D.remove(),D=null,I&&a.cancel(I)),h.remove(V),A&&(A.$destroy(),A=null)}function k(){V.title=r[c+"Title"],V.content=U?U(t):r[i],V.popupClass=r[c+"Class"],V.placement=angular.isDefined(r[c+"Placement"])?r[c+"Placement"]:f.placement;var e=l.parsePlacement(V.placement);L=e[1]?e[0]+"-"+e[1]:e[0];var n=parseInt(r[c+"PopupDelay"],10),o=parseInt(r[c+"PopupCloseDelay"],10);V.popupDelay=isNaN(n)?f.popupDelay:n,V.popupCloseDelay=isNaN(o)?f.popupCloseDelay:o}function $(e){H&&angular.isFunction(H.assign)&&H.assign(t,e)}function x(){z.length=0,U?(z.push(t.$watch(U,function(e){V.content=e,!e&&V.isOpen&&y()})),z.push(A.$watch(function(){B||(B=!0,A.$$postDigest(function(){B=!1,V&&V.isOpen&&q()}))}))):z.push(r.$observe(i,function(e){V.content=e,!e&&V.isOpen?y():q()})),z.push(r.$observe(c+"Title",function(e){V.title=e,V.isOpen&&q()})),z.push(r.$observe(c+"Placement",function(e){V.placement=e||f.placement,V.isOpen&&q()}))}function C(){z.length&&(angular.forEach(z,function(e){e()}),z.length=0)}function T(e){V&&V.isOpen&&D&&(n[0].contains(e.target)||D[0].contains(e.target)||p())}function S(e){27===e.which&&p()}function E(){var e=[],i=[],a=t.$eval(r[c+"Trigger"]);Y(),angular.isObject(a)?(Object.keys(a).forEach(function(t){e.push(t),i.push(a[t])}),N={show:e,hide:i}):N=m(a),"none"!==N.show&&N.show.forEach(function(e,t){"outsideClick"===e?(n.on("click",o),s.on("click",T)):e===N.hide[t]?n.on(e,o):e&&(n.on(e,u),n.on(N.hide[t],p)),n.on("keypress",S)})}var D,A,M,P,O,j,I,L,R=!!angular.isDefined(f.appendToBody)&&f.appendToBody,N=m(undefined),F=angular.isDefined(r[c+"Enable"]),V=t.$new(!0),B=!1,H=!!angular.isDefined(r[c+"IsOpen"])&&d(r[c+"IsOpen"]),U=!!f.useContentExp&&d(r[i]),z=[],q=function(){D&&D.html()&&(j||(j=a(function(){var e=l.positionElements(n,D,V.placement,R),t=angular.isDefined(D.offsetHeight)?D.offsetHeight:D.prop("offsetHeight"),r=R?l.offset(n):l.position(n);D.css({top:e.top+"px",left:e.left+"px"});var i=e.placement.split("-");D.hasClass(i[0])||(D.removeClass(L.split("-")[0]),D.addClass(i[0])),D.hasClass(f.placementClassPrefix+e.placement)||(D.removeClass(f.placementClassPrefix+L),D.addClass(f.placementClassPrefix+e.placement)),I=a(function(){var e=angular.isDefined(D.offsetHeight)?D.offsetHeight:D.prop("offsetHeight"),n=l.adjustTop(i,r,t,e);n&&D.css(n),I=null},0,!1),D.hasClass("uib-position-measure")?(l.positionArrow(D,e.placement),D.removeClass("uib-position-measure")):L!==e.placement&&l.positionArrow(D,e.placement),L=e.placement,j=null},0,!1)))};V.origScope=t,V.isOpen=!1,V.contentExp=function(){return V.content},r.$observe("disabled",function(e){e&&v(),e&&V.isOpen&&y()}),H&&t.$watch(H,function(e){V&&!e===V.isOpen&&o()});var Y=function(){N.show.forEach(function(e){"outsideClick"===e?n.off("click",o):(n.off(e,u),n.off(e,o)),n.off("keypress",S)}),N.hide.forEach(function(e){"outsideClick"===e?s.off("click",T):n.off(e,p)})};E();var W=t.$eval(r[c+"Animation"]);V.animation=angular.isDefined(W)?!!W:f.animation;var G,X=c+"AppendToBody";G=X in r&&r[X]===undefined||t.$eval(r[X]),R=angular.isDefined(G)?G:R,t.$on("$destroy",function(){Y(),_(),V=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,o,a){var s,l,u,c=i.$eval(a.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};i.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++d;t?(r(t,!0).then(function(r){if(a===d){var i=c.$new(),l=r,f=n(l)(i,function(t){p(),e.enter(t,o)});s=i,u=f,s.$emit("$includeContentLoaded",t)}},function(){a===d&&(p(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):p()}),i.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,r){if(t.placement){var i=e.parsePlacement(t.placement);n.addClass(i[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(r.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function r(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=r(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=r(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(){i.bars.forEach(function(e){e.max=r(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var r={$setViewValue:angular.noop},i=this;this.init=function(i){r=i,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=i.enableReset&&r.$viewValue===t?0:t;r.$setViewValue(n),r.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue,e.title=i.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<r.tabs.length;t++)if(r.tabs[t].index===e)return t}var n,r=this;r.tabs=[],r.select=function(e,o){if(!i){var a=t(n),s=r.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var l=r.tabs[e];l?(l.tab.onSelect({$event:o}),l.tab.active=!0,r.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(r.active=null,n=null)}},r.addTab=function(e){if(r.tabs.push({tab:e,index:e.index}),r.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===r.active||!angular.isDefined(r.active)&&1===r.tabs.length){var n=t(e.index);r.select(n)}},r.removeTab=function(e){for(var t,n=0;n<r.tabs.length;n++)if(r.tabs[n].tab===e){t=n;break}if(r.tabs[t].index===r.active){var i=t===r.tabs.length-1?t-1:t+1%r.tabs.length;r.select(i)}r.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&r.select(t(e))});var i;e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,r,i,o){t.disabled=!1,r.disable&&t.$parent.$watch(e(r.disable),function(e){t.disabled=!!e}),angular.isUndefined(r.index)&&(i.tabs&&i.tabs.length?t.index=Math.max.apply(null,i.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(r.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,r=0;r<i.tabs.length;r++)if(i.tabs[r].tab===t){n=r;break}i.select(n,e)}},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,r){var i=t.$eval(r.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,r,i,o,a){function s(){var t=+e.hours;return(e.showMeridian?t>0&&t<13:t>=0&&t<24)&&""!==e.hours?(e.showMeridian&&(12===t&&(t=0),e.meridian===x[1]&&(t+=12)),t):undefined}function l(){var t=+e.minutes;return t>=0&&t<60&&""!==e.minutes?t:undefined}function u(){var t=+e.seconds;return t>=0&&t<60?t:undefined}function c(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function d(e){p(),$.$setViewValue(new Date(_)),f(e)}function p(){y&&y.$setValidity("hours",!0),b&&b.$setValidity("minutes",!0),w&&w.$setValidity("seconds",!0),$.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function f(t){if($.$modelValue){var n=_.getHours(),r=_.getMinutes(),i=_.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:c(n,!C),"m"!==t&&(e.minutes=c(r)),e.meridian=_.getHours()<12?x[0]:x[1],"s"!==t&&(e.seconds=c(i)),e.meridian=_.getHours()<12?x[0]:x[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=x[0]}function h(e){_=g(_,e),d()}function m(e,t){return g(e,60*t)}function g(e,t){var n=new Date(e.getTime()+1e3*t),r=new Date(e);return r.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),r}function v(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var y,b,w,_=new Date,k=[],$={$setViewValue:angular.noop},x=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,C=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,r){$=t,$.$render=this.render,$.$formatters.unshift(function(e){return e?new Date(e):null});var i=r.eq(0),o=r.eq(1),s=r.eq(2);y=i.controller("ngModel"),b=o.controller("ngModel"),w=s.controller("ngModel"),(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(i,o,s),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys)&&this.setupArrowkeyEvents(i,o,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(i,o,s)};var T=a.hourStep;n.hourStep&&k.push(e.$parent.$watch(r(n.hourStep),function(e){T=+e}));var S=a.minuteStep;n.minuteStep&&k.push(e.$parent.$watch(r(n.minuteStep),function(e){S=+e}));var E;k.push(e.$parent.$watch(r(n.min),function(e){var t=new Date(e);E=isNaN(t)?undefined:t}));var D;k.push(e.$parent.$watch(r(n.max),function(e){var t=new Date(e);D=isNaN(t)?undefined:t}));var A=!1;n.ngDisabled&&k.push(e.$parent.$watch(r(n.ngDisabled),function(e){A=e})),e.noIncrementHours=function(){var e=m(_,60*T);return A||e>D||e<_&&e<E},e.noDecrementHours=function(){var e=m(_,60*-T);return A||e<E||e>_&&e>D},e.noIncrementMinutes=function(){var e=m(_,S);return A||e>D||e<_&&e<E},e.noDecrementMinutes=function(){var e=m(_,-S);return A||e<E||e>_&&e>D},e.noIncrementSeconds=function(){var e=g(_,M);return A||e>D||e<_&&e<E},e.noDecrementSeconds=function(){var e=g(_,-M);return A||e<E||e>_&&e>D},e.noToggleMeridian=function(){return _.getHours()<12?A||m(_,720)>D:A||m(_,-720)<E};var M=a.secondStep;n.secondStep&&k.push(e.$parent.$watch(r(n.secondStep),function(e){M=+e})),e.showSeconds=a.showSeconds,n.showSeconds&&k.push(e.$parent.$watch(r(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=a.showMeridian,n.showMeridian&&k.push(e.$parent.$watch(r(n.showMeridian),function(t){if(e.showMeridian=!!t,$.$error.time){var n=s(),r=l();angular.isDefined(n)&&angular.isDefined(r)&&(_.setHours(n),d())}else f()})),this.setupMousewheelEvents=function(t,n,r){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",function(t){A||e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.on("mousewheel wheel",function(t){A||e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),r.on("mousewheel wheel",function(t){A||e.$apply(i(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,r){t.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),r.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,r){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var i=function(t,n,r){$.$setViewValue(null),$.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,y&&y.$setValidity("hours",!1)),angular.isDefined(n)&&(e.invalidMinutes=n,b&&b.$setValidity("minutes",!1)),angular.isDefined(r)&&(e.invalidSeconds=r,w&&w.$setValidity("seconds",!1))};e.updateHours=function(){var e=s(),t=l();$.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(_.setHours(e),_.setMinutes(t),_<E||_>D?i(!0):d("h")):i(!0)},t.on("blur",function(){$.$setTouched(),v()?p():null===e.hours||""===e.hours?i(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=c(e.hours,!C)})}),e.updateMinutes=function(){var e=l(),t=s();$.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(_.setHours(t),_.setMinutes(e),_<E||_>D?i(undefined,!0):d("m")):i(undefined,!0)},n.on("blur",function(){$.$setTouched(),v()?p():null===e.minutes?i(undefined,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=c(e.minutes)})}),e.updateSeconds=function(){var e=u();$.$setDirty(),angular.isDefined(e)?(_.setSeconds(e),d("s")):i(undefined,undefined,!0)},r.on("blur",function(){v()?p():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=c(e.seconds)})})},this.render=function(){var t=$.$viewValue;isNaN(t)?($.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(_=t),_<E||_>D?($.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):p(),f())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||h(60*T*60)},e.decrementHours=function(){e.noDecrementHours()||h(60*-T*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||h(60*S)},e.decrementMinutes=function(){e.noDecrementMinutes()||h(60*-S)},e.incrementSeconds=function(){e.noIncrementSeconds()||h(M)},e.decrementSeconds=function(){e.noDecrementSeconds()||h(-M)},e.toggleMeridian=function(){var t=l(),n=s();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?h(720*(_.getHours()<12?60:-60)):e.meridian=e.meridian===x[0]?x[1]:x[0])},e.blur=function(){$.$setTouched()},e.$on("$destroy",function(){for(;k.length;)k.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,r,i,o,a,s,l,u,c,d,p){function f(){B.moveInProgress||(B.moveInProgress=!0,B.$digest()),Z()}function h(){B.position=M?d.offset(t):d.position(t),B.position.top+=t.prop("offsetHeight")}function m(e){var t;return angular.version.minor<6?(t=e.$options||{},t.getOption=function(e){return t[e]}):t=e.$options,t}var g,v,y=[9,13,27,38,40],b=200,w=e.$eval(n.typeaheadMinLength);w||0===w||(w=1),e.$watch(n.typeaheadMinLength,function(e){w=e||0===e?e:1});var _=e.$eval(n.typeaheadWaitMs)||0,k=!1!==e.$eval(n.typeaheadEditable);e.$watch(n.typeaheadEditable,function(e){k=!1!==e});var $,x,C=i(n.typeaheadLoading).assign||angular.noop,T=n.typeaheadShouldSelect?i(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},S=i(n.typeaheadOnSelect),E=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),D=i(n.typeaheadNoResults).assign||angular.noop,A=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):undefined,M=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),P=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,O=!1!==e.$eval(n.typeaheadFocusFirst),j=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),I=i(n.typeaheadIsOpen).assign||angular.noop,L=e.$eval(n.typeaheadShowHint)||!1,R=i(n.ngModel),N=i(n.ngModel+"($$$p)"),F=function(t,n){return angular.isFunction(R(e))&&v.getOption("getterSetter")?N(t,{$$$p:n}):R.assign(t,n)},V=p.parse(n.uibTypeahead),B=e.$new(),H=e.$on("$destroy",function(){B.$destroy()});B.$on("$destroy",H);var U="typeahead-"+B.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":U});var z,q;L&&(z=angular.element("<div></div>"),z.css("position","relative"),t.after(z),q=t.clone(),q.attr("placeholder",""),q.attr("tabindex","-1"),q.val(""),q.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),q.attr("id")&&q.removeAttr("id"),z.append(q),q.after(t));var Y=angular.element("<div uib-typeahead-popup></div>");Y.attr({id:U,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&Y.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&Y.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var W=function(){L&&q.val("")},G=function(){B.matches=[],B.activeIdx=-1,t.attr("aria-expanded",!1),W()},X=function(e){return U+"-option-"+e};B.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",X(e))});var J=function(e,t){return!!(B.matches.length>t&&e)&&e.toUpperCase()===B.matches[t].label.toUpperCase()},Q=function(n,r){var i={$viewValue:n};C(e,!0),D(e,!1),o.when(V.source(e,i)).then(function(o){var a=n===g.$viewValue;if(a&&$)if(o&&o.length>0){B.activeIdx=O?0:-1,D(e,!1),B.matches.length=0;for(var s=0;s<o.length;s++)i[V.itemName]=o[s],B.matches.push({id:X(s),label:V.viewMapper(B,i),model:o[s]});if(B.query=n,h(),t.attr("aria-expanded",!0),j&&1===B.matches.length&&J(n,0)&&(angular.isNumber(B.debounceUpdate)||angular.isObject(B.debounceUpdate)?c(function(){B.select(0,r)},angular.isNumber(B.debounceUpdate)?B.debounceUpdate:B.debounceUpdate["default"]):B.select(0,r)),L){var l=B.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?q.val(n+l.slice(n.length)):q.val("")}}else G(),D(e,!0);a&&C(e,!1)},function(){G(),C(e,!1),D(e,!0)})};M&&(angular.element(l).on("resize",f),s.find("body").on("scroll",f));var Z=c(function(){B.matches.length&&h(),B.moveInProgress=!1},b);B.moveInProgress=!1,B.query=undefined;var K,ee=function(e){K=a(function(){Q(e)},_)},te=function(){K&&a.cancel(K)};G(),B.assignIsOpen=function(t){I(e,t)},B.select=function(r,i){var o,s,l={};x=!0,l[V.itemName]=s=B.matches[r].model,o=V.modelMapper(e,l),F(e,o),g.$setValidity("editable",!0),g.$setValidity("parse",!0),S(e,{$item:s,$model:o,$label:V.viewMapper(e,l),$event:i}),G(),!1!==B.$eval(n.typeaheadFocusOnSelect)&&a(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==B.matches.length&&-1!==y.indexOf(t.which)){var n=T(e,{$event:t});if(-1===B.activeIdx&&n||9===t.which&&t.shiftKey)return G(),void B.$digest();t.preventDefault();var r;switch(t.which){case 27:t.stopPropagation(),G(),e.$digest();break;case 38:B.activeIdx=(B.activeIdx>0?B.activeIdx:B.matches.length)-1,B.$digest(),r=Y[0].querySelectorAll(".uib-typeahead-match")[B.activeIdx],r.parentNode.scrollTop=r.offsetTop;break;case 40:B.activeIdx=(B.activeIdx+1)%B.matches.length,B.$digest(),r=Y[0].querySelectorAll(".uib-typeahead-match")[B.activeIdx],r.parentNode.scrollTop=r.offsetTop;break;default:n&&B.$apply(function(){angular.isNumber(B.debounceUpdate)||angular.isObject(B.debounceUpdate)?c(function(){B.select(B.activeIdx,t)},angular.isNumber(B.debounceUpdate)?B.debounceUpdate:B.debounceUpdate["default"]):B.select(B.activeIdx,t)})}}}),t.on("focus",function(e){$=!0,0!==w||g.$viewValue||a(function(){Q(g.$viewValue,e)},0)}),t.on("blur",function(e){E&&B.matches.length&&-1!==B.activeIdx&&!x&&(x=!0,B.$apply(function(){angular.isObject(B.debounceUpdate)&&angular.isNumber(B.debounceUpdate.blur)?c(function(){B.select(B.activeIdx,e)},B.debounceUpdate.blur):B.select(B.activeIdx,e)})),!k&&g.$error.editable&&(g.$setViewValue(),B.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),t.val("")),$=!1,x=!1});var ne=function(n){t[0]!==n.target&&3!==n.which&&0!==B.matches.length&&(G(),u.$$phase||e.$digest())};s.on("click",ne),e.$on("$destroy",function(){s.off("click",ne),(M||P)&&re.remove(),M&&(angular.element(l).off("resize",f),s.find("body").off("scroll",f)),Y.remove(),L&&z.remove()});var re=r(Y)(B);M?s.find("body").append(re):P?angular.element(P).eq(0).append(re):t.after(re),this.init=function(t){g=t,v=m(g),B.debounceUpdate=i(v.getOption("debounce"))(e),g.$parsers.unshift(function(t){return $=!0,0===w||t&&t.length>=w?_>0?(te(),ee(t)):Q(t):(C(e,!1),te(),G()),k?t:t?(g.$setValidity("editable",!1),undefined):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(t){var n,r,i={};return k||g.$setValidity("editable",!0),A?(i.$model=t,A(e,i)):(i[V.itemName]=t,n=V.viewMapper(e,i),i[V.itemName]=undefined,r=V.viewMapper(e,i),n!==r?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,r){r[1].init(r[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,r){t.templateUrl=r.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,r){var i=t.debounce();angular.isNumber(i)||angular.isObject(i)?e(function(){t.select({activeIdx:n,evt:r})},angular.isNumber(i)?i:i["default"]):t.select({activeIdx:n,evt:r})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(r,i,o){var a=n(o.templateUrl)(r.$parent)||"uib/template/typeahead/typeahead-match.html";e(a).then(function(e){var n=angular.element(e.trim());i.replaceWith(n),t(n)(r)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o
;return o=t.has("$sanitize"),function(t,a){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=a?(""+t).replace(new RegExp(r(a),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(e,t){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(n,r){return e.daterangepicker=t(n,r)});else if("object"==typeof module&&module.exports){var n="undefined"!=typeof window?window.jQuery:undefined;n||(n=require("jquery"),n.fn||(n.fn={})),module.exports=t(require("moment"),n)}else e.daterangepicker=t(e.moment,e.jQuery)}(this,function(e,t){var n=function(n,r,i){if(this.parentEl="body",this.element=t(n),this.startDate=e().startOf("day"),this.endDate=e().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:e.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:e.weekdaysMin(),monthNames:e.monthsShort(),firstDay:e.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof r&&null!==r||(r={}),r=t.extend(this.element.data(),r),"string"==typeof r.template||r.template instanceof t||(r.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=t(r.parentEl&&t(r.parentEl).length?r.parentEl:this.parentEl),this.container=t(r.template).appendTo(this.parentEl),"object"==typeof r.locale&&("string"==typeof r.locale.direction&&(this.locale.direction=r.locale.direction),"string"==typeof r.locale.format&&(this.locale.format=r.locale.format),"string"==typeof r.locale.separator&&(this.locale.separator=r.locale.separator),"object"==typeof r.locale.daysOfWeek&&(this.locale.daysOfWeek=r.locale.daysOfWeek.slice()),"object"==typeof r.locale.monthNames&&(this.locale.monthNames=r.locale.monthNames.slice()),"number"==typeof r.locale.firstDay&&(this.locale.firstDay=r.locale.firstDay),"string"==typeof r.locale.applyLabel&&(this.locale.applyLabel=r.locale.applyLabel),"string"==typeof r.locale.cancelLabel&&(this.locale.cancelLabel=r.locale.cancelLabel),"string"==typeof r.locale.weekLabel&&(this.locale.weekLabel=r.locale.weekLabel),"string"==typeof r.locale.customRangeLabel&&(this.locale.customRangeLabel=r.locale.customRangeLabel)),this.container.addClass(this.locale.direction),"string"==typeof r.startDate&&(this.startDate=e(r.startDate,this.locale.format)),"string"==typeof r.endDate&&(this.endDate=e(r.endDate,this.locale.format)),"string"==typeof r.minDate&&(this.minDate=e(r.minDate,this.locale.format)),"string"==typeof r.maxDate&&(this.maxDate=e(r.maxDate,this.locale.format)),"object"==typeof r.startDate&&(this.startDate=e(r.startDate)),"object"==typeof r.endDate&&(this.endDate=e(r.endDate)),"object"==typeof r.minDate&&(this.minDate=e(r.minDate)),"object"==typeof r.maxDate&&(this.maxDate=e(r.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof r.applyClass&&(this.applyClass=r.applyClass),"string"==typeof r.cancelClass&&(this.cancelClass=r.cancelClass),"object"==typeof r.dateLimit&&(this.dateLimit=r.dateLimit),"string"==typeof r.opens&&(this.opens=r.opens),"string"==typeof r.drops&&(this.drops=r.drops),"boolean"==typeof r.showWeekNumbers&&(this.showWeekNumbers=r.showWeekNumbers),"boolean"==typeof r.showISOWeekNumbers&&(this.showISOWeekNumbers=r.showISOWeekNumbers),"string"==typeof r.buttonClasses&&(this.buttonClasses=r.buttonClasses),"object"==typeof r.buttonClasses&&(this.buttonClasses=r.buttonClasses.join(" ")),"boolean"==typeof r.showDropdowns&&(this.showDropdowns=r.showDropdowns),"boolean"==typeof r.showCustomRangeLabel&&(this.showCustomRangeLabel=r.showCustomRangeLabel),"boolean"==typeof r.singleDatePicker&&(this.singleDatePicker=r.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof r.timePicker&&(this.timePicker=r.timePicker),"boolean"==typeof r.timePickerSeconds&&(this.timePickerSeconds=r.timePickerSeconds),"number"==typeof r.timePickerIncrement&&(this.timePickerIncrement=r.timePickerIncrement),"boolean"==typeof r.timePicker24Hour&&(this.timePicker24Hour=r.timePicker24Hour),"boolean"==typeof r.autoApply&&(this.autoApply=r.autoApply),"boolean"==typeof r.autoUpdateInput&&(this.autoUpdateInput=r.autoUpdateInput),"boolean"==typeof r.linkedCalendars&&(this.linkedCalendars=r.linkedCalendars),"function"==typeof r.isInvalidDate&&(this.isInvalidDate=r.isInvalidDate),"function"==typeof r.isCustomDate&&(this.isCustomDate=r.isCustomDate),"boolean"==typeof r.alwaysShowCalendars&&(this.alwaysShowCalendars=r.alwaysShowCalendars),0!=this.locale.firstDay)for(var o=this.locale.firstDay;o>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),o--;var a,s,l;if("undefined"==typeof r.startDate&&"undefined"==typeof r.endDate&&t(this.element).is("input[type=text]")){
var u=t(this.element).val(),c=u.split(this.locale.separator);a=s=null,2==c.length?(a=e(c[0],this.locale.format),s=e(c[1],this.locale.format)):this.singleDatePicker&&""!==u&&(a=e(u,this.locale.format),s=e(u,this.locale.format)),null!==a&&null!==s&&(this.setStartDate(a),this.setEndDate(s))}if("object"==typeof r.ranges){for(l in r.ranges){a="string"==typeof r.ranges[l][0]?e(r.ranges[l][0],this.locale.format):e(r.ranges[l][0]),s="string"==typeof r.ranges[l][1]?e(r.ranges[l][1],this.locale.format):e(r.ranges[l][1]),this.minDate&&a.isBefore(this.minDate)&&(a=this.minDate.clone());var d=this.maxDate;if(this.dateLimit&&d&&a.clone().add(this.dateLimit).isAfter(d)&&(d=a.clone().add(this.dateLimit)),d&&s.isAfter(d)&&(s=d.clone()),!(this.minDate&&s.isBefore(this.minDate,this.timepicker?"minute":"day")||d&&a.isAfter(d,this.timepicker?"minute":"day"))){var p=document.createElement("textarea");p.innerHTML=l;var f=p.value;this.ranges[f]=[a,s]}}var h="<ul>";for(l in this.ranges)h+='<li data-range-key="'+l+'">'+l+"</li>";this.showCustomRangeLabel&&(h+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),h+="</ul>",this.container.find(".ranges").prepend(h)}"function"==typeof i&&(this.callback=i),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof r.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),("undefined"==typeof r.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof r.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",t.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",t.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this)).on("click.daterangepicker","li",t.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",t.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",t.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",t.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return n.prototype={constructor:n,setStartDate:function(t){"string"==typeof t&&(this.startDate=e(t,this.locale.format)),"object"==typeof t&&(this.startDate=e(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=e(t,this.locale.format)),"object"==typeof t&&(this.endDate=e(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var e,t,n;if(this.endDate){if(e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var r=this.container.find(".left .ampmselect").val();"PM"===r&&e<12&&(e+=12),"AM"===r&&12===e&&(e=0)}}else if(e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var r=this.container.find(".right .ampmselect").val();"PM"===r&&e<12&&(e+=12),"AM"===r&&12===e&&(e=0)}this.leftCalendar.month.hour(e).minute(t).second(n),this.rightCalendar.month.hour(e).minute(t).second(n)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(n){var r="left"==n?this.leftCalendar:this.rightCalendar,i=r.month.month(),o=r.month.year(),a=r.month.hour(),s=r.month.minute(),l=r.month.second(),u=e([o,i]).daysInMonth(),c=e([o,i,1]),d=e([o,i,u]),p=e(c).subtract(1,"month").month(),f=e(c).subtract(1,"month").year(),h=e([f,p]).daysInMonth(),m=c.day(),r=[];r.firstDay=c,r.lastDay=d;for(var g=0;g<6;g++)r[g]=[];var v=h-m+this.locale.firstDay+1;v>h&&(v-=7),m==this.locale.firstDay&&(v=h-6);for(var y,b,w=e([f,p,v,12,s,l]),g=0,y=0,b=0;g<42;g++,y++,w=e(w).add(24,"hour"))g>0&&y%7==0&&(y=0,b++),r[b][y]=w.clone().hour(a).minute(s).second(l),w.hour(12),this.minDate&&r[b][y].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&r[b][y].isBefore(this.minDate)&&"left"==n&&(r[b][y]=this.minDate.clone()),this.maxDate&&r[b][y].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&r[b][y].isAfter(this.maxDate)&&"right"==n&&(r[b][y]=this.maxDate.clone());"left"==n?this.leftCalendar.calendar=r:this.rightCalendar.calendar=r;var _=this.minDate,k=this.maxDate,$=("left"==n?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),x='<table class="table-condensed">';x+="<thead>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+="<th></th>"),_&&!_.isBefore(r.firstDay)||this.linkedCalendars&&"left"!=n?x+="<th></th>":x+='<th class="prev available"><i class="fa fa-'+$.left+" glyphicon glyphicon-"+$.left+'"></i></th>';var C=this.locale.monthNames[r[1][1].month()]+r[1][1].format(" YYYY");if(this.showDropdowns){for(var T=r[1][1].month(),S=r[1][1].year(),E=k&&k.year()||S+5,D=_&&_.year()||S-50,A=S==D,M=S==E,P='<select class="monthselect">',O=0;O<12;O++)(!A||O>=_.month())&&(!M||O<=k.month())?P+="<option value='"+O+"'"+(O===T?" selected='selected'":"")+">"+this.locale.monthNames[O]+"</option>":P+="<option value='"+O+"'"+(O===T?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[O]+"</option>";P+="</select>";for(var j='<select class="yearselect">',I=D;I<=E;I++)j+='<option value="'+I+'"'+(I===S?' selected="selected"':"")+">"+I+"</option>";j+="</select>",C=P+j}if(x+='<th colspan="5" class="month">'+C+"</th>",k&&!k.isAfter(r.lastDay)||this.linkedCalendars&&"right"!=n&&!this.singleDatePicker?x+="<th></th>":x+='<th class="next available"><i class="fa fa-'+$.right+" glyphicon glyphicon-"+$.right+'"></i></th>',x+="</tr>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+='<th class="week">'+this.locale.weekLabel+"</th>"),t.each(this.locale.daysOfWeek,function(e,t){x+="<th>"+t+"</th>"}),x+="</tr>",x+="</thead>",x+="<tbody>",null==this.endDate&&this.dateLimit){var L=this.startDate.clone().add(this.dateLimit).endOf("day"),R=this.startDate.clone().subtract(this.dateLimit).endOf("day");k&&!L.isBefore(k)||(k=L),_&&!R.isAfter(_)||(_=R)}for(var b=0;b<6;b++){x+="<tr>",this.showWeekNumbers?x+='<td class="week">'+r[b][0].week()+"</td>":this.showISOWeekNumbers&&(x+='<td class="week">'+r[b][0].isoWeek()+"</td>");for(var y=0;y<7;y++){var N=[];r[b][y].isSame(new Date,"day")&&N.push("today"),r[b][y].isoWeekday()>5&&N.push("weekend"),r[b][y].month()!=r[1][1].month()&&N.push("off","hidden"),_&&r[b][y].isBefore(_,"day")&&N.push("off","disabled"),k&&r[b][y].isAfter(k,"day")&&N.push("off","disabled"),this.isInvalidDate(r[b][y])&&N.push("off","disabled"),r[b][y].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&N.push("active","start-date"),null!=this.endDate&&r[b][y].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&N.push("active","end-date"),null!=this.endDate&&r[b][y]>this.startDate&&r[b][y]<=this.endDate&&N.push("in-range");var F=this.isCustomDate(r[b][y]);!1!==F&&("string"==typeof F?N.push(F):Array.prototype.push.apply(N,F));for(var V="",B=!1,g=0;g<N.length;g++)V+=N[g]+" ","disabled"==N[g]&&(B=!0);B||(V+="available"),x+='<td class="'+V.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+y+'">'+r[b][y].date()+"</td>"}x+="</tr>"}x+="</tbody>",x+="</table>",this.container.find(".calendar."+n+" .calendar-table").html(x)},renderTimePicker:function(e){if("right"!=e||this.endDate){var t,n,r,i=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(i=this.startDate.clone().add(this.dateLimit)),"left"==e)n=this.startDate.clone(),r=this.minDate;else if("right"==e){n=this.endDate.clone(),r=this.startDate;var o=this.container.find(".calendar.right .calendar-time div");if(!this.endDate&&""!=o.html()&&(n.hour(o.find(".hourselect option:selected").val()||n.hour()),n.minute(o.find(".minuteselect option:selected").val()||n.minute()),n.second(o.find(".secondselect option:selected").val()||n.second()),!this.timePicker24Hour)){var a=o.find(".ampmselect option:selected").val();"PM"===a&&n.hour()<12&&n.hour(n.hour()+12),"AM"===a&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),i&&n.isAfter(i)&&(n=i.clone())}t='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,u=s;u<=l;u++){var c=u;this.timePicker24Hour||(c=n.hour()>=12?12==u?12:u+12:12==u?0:u);var d=n.clone().hour(c),p=!1;r&&d.minute(59).isBefore(r)&&(p=!0),i&&d.minute(0).isAfter(i)&&(p=!0),c!=n.hour()||p?t+=p?'<option value="'+u+'" disabled="disabled" class="disabled">'+u+"</option>":'<option value="'+u+'">'+u+"</option>":t+='<option value="'+u+'" selected="selected">'+u+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(var u=0;u<60;u+=this.timePickerIncrement){var f=u<10?"0"+u:u,d=n.clone().minute(u),p=!1;r&&d.second(59).isBefore(r)&&(p=!0),i&&d.second(0).isAfter(i)&&(p=!0),n.minute()!=u||p?t+=p?'<option value="'+u+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+u+'">'+f+"</option>":t+='<option value="'+u+'" selected="selected">'+f+"</option>"}if(t+="</select> ",this.timePickerSeconds){t+=': <select class="secondselect">';for(var u=0;u<60;u++){var f=u<10?"0"+u:u,d=n.clone().second(u),p=!1;r&&d.isBefore(r)&&(p=!0),i&&d.isAfter(i)&&(p=!0),n.second()!=u||p?t+=p?'<option value="'+u+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+u+'">'+f+"</option>":t+='<option value="'+u+'" selected="selected">'+f+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var h="",m="";r&&n.clone().hour(12).minute(0).second(0).isBefore(r)&&(h=' disabled="disabled" class="disabled"'),i&&n.clone().hour(0).minute(0).second(0).isAfter(i)&&(m=' disabled="disabled" class="disabled"'),n.hour()>=12?t+='<option value="AM"'+h+'>AM</option><option value="PM" selected="selected"'+m+">PM</option>":t+='<option value="AM" selected="selected"'+h+'>AM</option><option value="PM"'+m+">PM</option>",t+="</select>"}this.container.find(".calendar."+e+" .calendar-time div").html(t)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var e,n={top:0,left:0},r=t(window).width();this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},r=this.parentEl[0].clientWidth+this.parentEl.offset().left),e="up"==this.drops?this.element.offset().top-this.container.outerHeight()-n.top:this.element.offset().top+this.element.outerHeight()-n.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:e,right:r-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:e,left:this.element.offset().left-n.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:e,left:this.element.offset().left-n.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>t(window).width()&&this.container.css({left:"auto",right:0}))},show:function(){this.isShowing||(this._outsideClickProxy=t.proxy(function(e){this.outsideClick(e)},this),t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),t(window).on("resize.daterangepicker",t.proxy(function(e){this.move(e)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(e){var n=t(e.target);"focusin"==e.type||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(e){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var t=e.target.getAttribute("data-range-key");if(t==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(e){var t=e.target.getAttribute("data-range-key");if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(e){t(e.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){t(e.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(t(e.target).hasClass("available")){var n=t(e.target).attr("data-title"),r=n.substr(1,1),i=n.substr(3,1),o=t(e.target).parents(".calendar"),a=o.hasClass("left")?this.leftCalendar.calendar[r][i]:this.rightCalendar.calendar[r][i];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(a.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(a.format(this.locale.format));var s=this.leftCalendar,l=this.rightCalendar,u=this.startDate;this.endDate||this.container.find(".calendar td").each(function(e,n){if(!t(n).hasClass("week")){var r=t(n).attr("data-title"),i=r.substr(1,1),o=r.substr(3,1),c=t(n).parents(".calendar"),d=c.hasClass("left")?s.calendar[i][o]:l.calendar[i][o];d.isAfter(u)&&d.isBefore(a)||d.isSame(a,"day")?t(n).addClass("in-range"):d.isBefore(u)&&d.isAfter(a)?t(n).addClass("in-range"):t(n).removeClass("in-range")}})}},clickDate:function(e){if(t(e.target).hasClass("available")){var n=t(e.target).attr("data-title"),r=n.substr(1,1),i=n.substr(3,1),o=t(e.target).parents(".calendar"),a=o.hasClass("left")?this.leftCalendar.calendar[r][i]:this.rightCalendar.calendar[r][i];if(this.endDate){if(this.timePicker){var s=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();"PM"===l&&s<12&&(s+=12),"AM"===l&&12===s&&(s=0)}var u=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;a=a.clone().hour(s).minute(u).second(c)}this.endDate=null,this.setStartDate(a.clone())}else if(!this.endDate&&a.isBefore(this.startDate)){if(a.isBefore(this.startDate,"day")){var d=this.startDate.clone();this.setStartDate(a.clone()),this.setEndDate(d),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}}else{if(this.timePicker){var s=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&s<12&&(s+=12),"AM"===l&&12===s&&(s=0)}var u=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;a=a.clone().hour(s).minute(u).second(c)}this.setEndDate(a.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),e.stopPropagation()}},calculateChosenLabel:function(){var e=!0,t=0;for(var n in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}t++}e&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html():this.chosenLabel=null,this.showCalendars())},clickApply:function(){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var n=t(e.target).closest(".calendar").hasClass("left"),r=n?"left":"right",i=this.container.find(".calendar."+r),o=parseInt(i.find(".monthselect").val(),10),a=i.find(".yearselect").val();n||(a<this.startDate.year()||a==this.startDate.year()&&o<this.startDate.month())&&(o=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&o<this.minDate.month())&&(o=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&o>this.maxDate.month())&&(o=this.maxDate.month(),a=this.maxDate.year()),n?(this.leftCalendar.month.month(o).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(o).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var n=t(e.target).closest(".calendar"),r=n.hasClass("left"),i=parseInt(n.find(".hourselect").val(),10),o=parseInt(n.find(".minuteselect").val(),10),a=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var s=n.find(".ampmselect").val();"PM"===s&&i<12&&(i+=12),"AM"===s&&12===i&&(i=0)}if(r){var l=this.startDate.clone();l.hour(i),l.minute(o),l.second(a),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var u=this.endDate.clone();u.hour(i),u.minute(o),u.second(a),this.setEndDate(u)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(n){var r=t(n.target).closest(".calendar").hasClass("right"),i=e(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),o=e(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);i.isValid()&&o.isValid()&&(r&&o.isBefore(i)&&(i=o.clone()),this.setStartDate(i),this.setEndDate(o),r?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(e){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),t(e.target).addClass("active"),t(e.target).closest(".calendar").hasClass("right")&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(){if(!this.endDate){var t=this.container.find('input[name="daterangepicker_end"]').val(),n=e(t,this.locale.format);n.isValid()&&(this.setEndDate(n),this.updateView())}},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var t=this.element.val().split(this.locale.separator),n=null,r=null;2===t.length&&(n=e(t[0],this.locale.format),r=e(t[1],this.locale.format)),(this.singleDatePicker||null===n||null===r)&&(n=e(this.element.val(),this.locale.format),r=n),n.isValid()&&r.isValid()&&(this.setStartDate(n),this.setEndDate(r),this.updateView())}},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},t.fn.daterangepicker=function(e,r){return this.each(function(){var i=t(this);i.data("daterangepicker")&&i.data("daterangepicker").remove(),i.data("daterangepicker",new n(i,e,r))}),this},n}),angular.module("DatepickerDirective",[]),function(){angular.module("DatepickerDirective").directive("dateFilter",function(){return{restrict:"EA",scope:{startDate:"=",endDate:"=",rangeLimit:"=?",onSelect:"&"},templateUrl:"shared/_date_filter.html",link:function(e,t){return e.selection="",e.startDate&&e.endDate||(e.startDate={date:""},e.endDate={date:""}),t.on("click",function(e){if(!$(e.target).is("input"))return $(".from input").click()}),e.$watch("selection",function(e){return""===e?$(".from-date").removeClass("selection"):$(".from-date").addClass("selection"),"to"===e?$(".from-date").addClass("to-selection"):$(".from-date").removeClass("to-selection")})}}})}.call(this),function(){angular.module("DatepickerDirective").directive("dateInput",["$locale","$window",function(e,t){return{restrict:"A",require:"?ngModel",scope:{isMobile:"=?"},link:function(n,r,i,o){var a,s,l;return s=function(){return e.id},l=function(){return moment().locale(s()).localeData().longDateFormat("L")},o.$parsers.push(function(e){var t;return a()||(t=e.replace(/[a-zA-Z]/,""),e!==t&&(o.$setViewValue(t),o.$render(),e=t)),moment(e,l()).isValid()?new Date(moment(e,l())):e}),o.$formatters.push(function(e){return a()?moment(e).isValid()?moment(e).toDate():e:moment(e).isValid()?moment(e).locale(s()).format("L"):e}),a=function(){return void 0!==n.isMobile?n.isMobile:t.innerWidth<540}}}}])}.call(this),function(){angular.module("DatepickerDirective").directive("datepicker",["$compile","$parse","$locale","$timeout","$window",function(e,t,n,r,i){return{restrict:"EA",scope:{startDate:"=",endDate:"=",range:"=?",rangeLimit:"=?",validRange:"=?",selection:"=?",dateInput:"=?ngModel",submit:"&"},templateUrl:"shared/_datepicker.html",link:function(t,o,a){var s,l,u,c,d,p,f,h,m,g,v,y,b,w,_,k,x,C,T,S,E,D,A,M,P,O,j;y={},t.onHover=!1,t.inRange=!0,t.onPrevNextSelection=!1,t.selection="",t.hasInputChanged=!1,t.beforeHoverStartDate="",t.beforeHoverEndDate="",f=function(){return C(),y.autoApply=!a.autoApply||Boolean(a.autoApply),y.locale=p(),t.isMobile=i.innerWidth<540,t.isMobile||(o.daterangepicker(y,function(e,n){if(s(),t.onPrevNextSelection=!1,e&&n&&m(e,n,_(e,n)))return t.startDate.date=e.startOf("day"),t.endDate.date=n.startOf("day"),t.range=x(),t.$apply(),t.submit()}),v(),D(),O(),E(),S(),P()),r(function(){return o.find("input").blur(function(){return m()&&t.hasInputChanged&&t.submit(),t.hasInputChanged=!1})},1e3),angular.element(i).bind("resize",function(){if(t.isMobile!==i.innerWidth<540)return t.isMobile=i.innerWidth<540,t.$apply()})},p=function(){var e;return moment.locale("en"),moment.updateLocale(moment.locale,{longDateFormat:{L:l()}}),e=n.DATETIME_FORMATS.MONTH,{monthNames:e,daysOfWeek:moment().locale(g()).localeData()._weekdaysMin.map(c),format:"MM/DD/YYYY"}},c=function(e){return e.charAt(0)},l=function(){return moment.localeData().longDateFormat("L").replace(" - ","/").replace("-","/")},g=function(){return n.id},u=function(){return o.data("daterangepicker")},M=function(){var e;return e=parseInt(t.rangeLimit)>0?parseInt(t.rangeLimit):90,moment().subtract(e-1,"days").startOf("day")},x=function(){return _(t.startDate.date,t.endDate.date)||0},_=function(e,t){return Math.abs(moment(e).diff(t,"days"))+1},t.$watchGroup(["startDate.date","endDate.date"],function(e){return""===e[0]||""===e[1]?(t.startDate.date=M().format("L"),t.endDate.date=moment().startOf("day").format("L"),void(t.range=x())):(t.range=x(),j(),t.isMobile||t.onHover||!t.validRange||(u().isShowing&&(t.hasInputChanged=!0),u().startDate=moment(t.startDate.date),u().endDate=moment(t.endDate.date),u().updateView()),t.isMobile&&t.validRange?t.submit():void 0)}),S=function(){return u().element.on("click.daterangepicker",u(),function(e){return t.isMobile?e.data.hide():(t.selection=$(".date-value").index(e.target)>0?"to":"from",t.$apply(),$(e.target).is("input")&&e.data.isShowing||!$(e.target.parentElement).data("daterangepicker")?void 0:$(e.target).click())})},
t.prevNDays=function(){return s(),t.onPrevNextSelection=!0,t.startDate.date=moment(t.startDate.date).subtract(t.prevNextRange(),"days"),t.endDate.date=moment(t.endDate.date).subtract(t.prevNextRange(),"days")},t.nextNDays=function(){if(moment(t.startDate.date).add(t.range,"days").startOf("day")<moment().startOf("day"))return s(),t.onPrevNextSelection=!0,t.startDate.date=moment(t.startDate.date).add(t.prevNextRange(),"days"),t.endDate.date=moment(t.endDate.date).add(t.nextRange(t.prevNextRange()),"days")},t.nextRange=function(e){var n;return n=t.onHover?t.beforeHoverEndDate:t.endDate.date,moment(n).add(e,"days").startOf("day")<=moment().startOf("day")?e:_(n,moment())-1},t.prevNextRange=function(){return t.onHover?t.beforeHoverRange:t.range},w=function(e){var t;return e=JSON.parse(e),t={},e?(t.select=e.select.replace(/\\/g,""),t.prevDays=e.prevDays.replace(/\\/g,""),t.nextDays=e.nextDays.replace(/\\/g,""),t.exceededDays=e.exceededDays.replace(/\\/g,"")):(t.select="select:",t.prevDays="Previous <span class='previous-amount'>{{prevNextRange()}}</span> days",t.nextDays="Next </span><span class='next-amount'>{{nextRange(prevNextRange())}}</span> days",t.exceededDays="Must not exceed 90 days"),"<div class='error-text' ng-class='errorPosition' ng-show='!inRange'>"+t.exceededDays+"</div><div class='prev-next-container'><span>"+t.select+"</span><div class='prev' ng-click='prevNDays()'><span>"+t.prevDays+"</span></div><div class='next' ng-click='nextNDays()'><span>"+t.nextDays+"</span></div></div>"},D=function(){return t.rangeLimit>0?0===u().container.find(".prev-next-container").length?angular.element(u().container).append(e(w(a.translations))(t)):void 0:u().container.addClass("short-calendar")},d=function(e,t,n){var r,i,o,a;return a=$(e).attr("data-title"),o=a.substr(1,1),i=a.substr(3,1),r=$(e).parents(".calendar"),r.hasClass("left")?t.calendar[o][i]:n.calendar[o][i]},k=function(e,t){var n,r,i,o;if(r=e.leftCalendar,i=e.rightCalendar,o=e.startDate,n=e.dateLimit,!e.endDate)return e.container.find(".calendar td").each(function(e,a){var s;if(!$(a).hasClass("week"))return s=d(a,r,i),t>moment()?$(a).removeClass("in-range out-of-range"):s.isAfter(o)&&s.isBefore(t)||s.isSame(t,"day")?!n||Math.abs(o.diff(s,"days"))<=n.days&&s<moment()?$(a).addClass("in-range"):$(a).addClass("out-of-range"):s.isBefore(o)&&s.isAfter(t)?!n||Math.abs(o.diff(s.startOf("day"),"days"))<=n.days?$(a).addClass("in-range"):$(a).addClass("out-of-range"):$(a).removeClass("in-range out-of-range")})},T=function(e,t){return"en"!==moment.locale()&&moment.locale("en"),e.endDate&&!e.container.find("input[name=daterangepicker_start]").is(":focus")?e.container.find("input[name=daterangepicker_start]").val(t.format("L")):e.endDate||e.container.find("input[name=daterangepicker_end]").is(":focus")?void 0:e.container.find("input[name=daterangepicker_end]").val(t.format("L"))},A=function(e,n){return moment(e)<=moment(n)?(t.startDate.date=moment(e).format("l"),t.endDate.date=moment(n).format("l"),t.selection="to"):(t.startDate.date=moment(n).format("l"),t.endDate.date=moment(e).format("l"),t.selection="from"),t.range=_(e,n),t.errorPosition=e.isAfter(n)?"left-side-error":"right-side-error",j(),t.$apply()},P=function(){return u().container.find(".calendar").on("mousedown.daterangepicker","td.available",u(),function(e){if($(e.target).hasClass("available"))return t.selection=e.data.startDate&&!e.data.endDate?"to":"",t.$apply()})},O=function(){return u().container.find(".calendar").unbind("mouseenter.daterangepicker"),u().container.find(".calendar").on("mouseenter.daterangepicker","td.disabled  ,td.available",u(),function(e){var n;if(!e.data.startDate||!e.data.endDate)return t.onHover||(t.onHover=!0,t.beforeHoverStartDate=t.startDate.date,t.beforeHoverEndDate=t.endDate.date,t.beforeHoverRange=x()),n=d(e.target,e.data.leftCalendar,e.data.rightCalendar),T(e.data,n),k(e.data,n),A(moment(e.data.container.find("input[name=daterangepicker_start]").val()),n)})},v=function(){return u().element.on("click.daterangepicker",function(e){var t,n;if(n=$(e.currentTarget).find("input"),n.length>0)return t=moment(n.val()).format("l"),t===u().endDate.format("l")&&u().rightCalendar.month.format("l")!==t&&(u().rightCalendar.month=u().endDate.clone(),u().linkedCalendars&&(u().leftCalendar.month=u().endDate.clone().subtract(1,"month"))),u().updateCalendars()})},E=function(){return u().element.on("outsideClick.daterangepicker",function(){return t.range=x(),j(),t.selection="",s(),b(),t.$apply()})},C=function(){return t.rangeLimit>0&&(y.dateLimit={days:parseInt(t.rangeLimit)-1}),y.maxDate=moment().startOf("day")},j=function(e,n,r){return null==e&&(e=t.startDate.date),null==n&&(n=t.endDate.date),null==r&&(r=t.range),t.validRange=m(e,n,r),t.inRange=h(e,n,r)},m=function(e,n,r){var i;return null==e&&(e=t.startDate.date),null==n&&(n=t.endDate.date),null==r&&(r=t.range),i=moment(n),h(e,n,r)&&i<=moment()},h=function(e,n,r){var i,o,a;return o=moment(e),i=moment(n),a=o<=i&&o.isValid()&&i.isValid(),t.rangeLimit?a&&parseInt(r)<=parseInt(t.rangeLimit):a},s=function(){if(t.onHover)return t.onHover=!1,t.startDate.date=t.beforeHoverStartDate,t.endDate.date=t.beforeHoverEndDate,t.range=t.beforeHoverRange},b=function(){if(t.onPrevNextSelection)return t.onPrevNextSelection=!1,u().hide(),t.submit()},f()}}}])}.call(this),function(){var e;e=function(){function e(e){var t,n,r;this.data=e,n=this.data;for(t in n)r=n[t],this[t]=r}var t;return e.prototype.isActive=function(e){var n;return e=t(e),!!(null!=(n=this.data[e])?n.is_active:void 0)},e.prototype.isOfferActive=function(e,n,r){return e=t(e),n=t(n),r=t(r),null!=this.data[e]&&!(t(this.data[e].active_offers[n])!==r)},t=function(e){return e.toLowerCase().replace(/[^0-9a-z]/g,"")},e}(),this.visitorExperiences=new e(window.visitorExperiencesData||{}),window.angular&&angular.module("giExperiences",[]).factory("visitorExperiences",function(){return window.visitorExperiences})}.call(this),function(){"use strict";angular.module("giPaginator",[]).directive("giPaginator",["t","$sce",function(e){return{name:"giPaginator",restrict:"E",replace:!0,templateUrl:"_gi_paginator.html",scope:{items:"=",pagedItems:"=",limit:"=?",pageState:"=?",showPageInput:"=?",showButtons:"=?"},link:function(t){return t.model=t.pageState||{},t.model.currentPage=1,t.t=e,t.setPage=function(e){if(e<=t.pageCount()&&e>=1)return t.model.currentPage=e,t.getPagedItems()},t.isPageValid=function(e){return e<=t.pageCount()&&e>1},t.pageCount=function(){return Math.ceil(t.items.length/t.limit)},t.prevPage=function(){return t.setPage(t.model.currentPage-1)},t.nextPage=function(){return t.setPage(t.model.currentPage+1)},t.prevPageDisabled=function(){return 1===t.model.currentPage},t.nextPageDisabled=function(){return t.model.currentPage===t.pageCount()},t.getPagedItems=function(){var e;return e=(t.model.currentPage-1)*t.limit,t.pagedItems=t.items.slice(e,e+t.limit)},t.updateCurrentPageByInput=function(){return t.giPaginator.pageNumber.$$rawModelValue<1?t.model.currentPage=1:t.pageCount()>0&&t.giPaginator.pageNumber.$$rawModelValue>t.pageCount()?t.model.currentPage=t.pageCount():void 0},t.init=function(){return t.$watch("limit",function(e){return t.limit=e||15}),t.$watch("items",function(){return t.getPagedItems(),t.model.lastPage=t.pageCount()}),t.$watch("model.currentPage",function(){return t.getPagedItems()})},t.init()}}}])}.call(this),function(){this.JST||(this.JST={}),this.JST["unisporkal_engine/shared/image_pager"]=function(){return this.Skim={access:function(e){var t;return t=this[e],"function"==typeof t&&(t=t.call(this)),!0===t?[this]:!1!==t&&null!=t&&("[object Array]"!==Object.prototype.toString.call(t)?[t]:0!==t.length&&t)},withContext:function(e,t){var n,r;return n=function(e){var t;return t=function(){},t.prototype=e,new t},e=n(e),e.safe||(e.safe=this.safe||function(e){var t;return(null!=e?e.skimSafe:void 0)?e:(t=new String(null!=e?e:""),t.skimSafe=!0,t)}),e.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},e.flatten=r=function(e){var t,n,i,o;for(n=[],i=0,o=e.length;i<o;i++)t=e[i],t instanceof Array?n=n.concat(r(t)):n.push(t);return n},e.escape||(e.escape=this.escape||function(e){return null==e?"":e.skimSafe||!/[&<>\"]/.test(e)?e:this.safe((""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))}),t.call(e)}},function(e){return null==e&&(e={}),Skim.withContext.call({},e,function(){var e,t,n,r,i,o,a,s,l,u,c,d,p,f,h;for(e="",e+='<div class="pager_header"><h2>',e+=this.escape(this.title),e+="</h2>",f=this.header_links,s=0,c=f.length;s<c;s++){switch(p=f[s],e+='<a class="carousel-header-link" data-close-and-redirect="data-close-and-redirect"',t=p.href){case!0:e+=' href="href"';break;case!1:case null:break;default:e+=' href="',e+=this.escape(t),e+='"'}e+="><strong>",e+=this.escape(p.name),e+="</strong></a>"}for(e+='</div><div class="image_pager" id="',e+=this.escape(this.category),e+='_pager"><div class="std_nav"><div class="image_pager_left"></div><div class="image_pager_right"></div></div><div class="scroll_area"><ul>',h=this.images,u=0,d=h.length;u<d;u++){switch(l=h[u],e+="<li",n=l.id){case!0:e+=' data-asset-id="data-asset-id"';break;case!1:case null:break;default:e+=' data-asset-id="',e+=this.escape(n),e+='"'}switch(e+='><a data-carousel-image="CarouselImage"',r=l.href){case!0:e+=' href="href"';break;case!1:case null:break;default:e+=' href="',e+=this.escape(r),e+='"'}switch(e+=' target="_self"',i=l.title){case!0:e+=' title="title"';break;case!1:case null:break;default:e+=' title="',e+=this.escape(i),e+='"'}switch(e+="><img",o=l.title){case!0:e+=' alt="alt"';break;case!1:case null:break;default:e+=' alt="',e+=this.escape(o),e+='"'}switch(a=l.thumb){case!0:e+=' src="src"';break;case!1:case null:break;default:e+=' src="',e+=this.escape(a),e+='"'}e+=" /></a></li>"}return e+='</ul></div><div class="alt_nav"><div class="image_pager_left"></div><div class="image_pager_right"></div></div></div>'})}}.call(this)}.call(this),function(){var e,t;e=function(){function e(e,n){var r;this._element=e,this._options=$.extend({stepSelector:".accordion-step",headerSelector:".accordion-header",editButtonClass:"accordion-edit",continueButtonClass:"accordion-continue",activeClass:"active",inactiveClass:"inactive",completedClass:"completed",visitedClass:"visited",readOnlyClass:"read_only",stepCompleteEventName:"accordionStep:complete",stepBeforeExpandEventName:"accordionStep:beforeExpand",stepExpandEventName:"accordionStep:expand",stepBeforeCollapseEventName:"accordionStep:beforeCollapse",stepCollapseEventName:"accordionStep:collapse",stepDisableEventName:"accordionStep:disable",stepEnableEventName:"accordionStep:enable",stepValidEventName:"valid",stepInvalidEventName:"invalid",editButtonSelector:"[data-accordion-action='edit']",continueButtonSelector:"[data-accordion-action='continue']",isStepComplete:function(e){return $(e).valid()}},n),r=this._element.find(this._options.stepSelector),this._steps=r.map(function(e){return function(n,i){return new t(e,n,n===r.length-1,$(i),e._options)}}(this)),this._transitionTo(this._steps[0]),this._collapseSubsequentSteps()}return e.prototype["continue"]=function(e){if(!e||e===this._currentStep)return this._currentStep.isComplete()&&!this._currentStep.isLast?(this._currentStep.complete(),this._transitionTo(this._nextStep())):void 0},e.prototype.goBackToStep=function(e){var t;if(null!=(t=this._steps[e])&&t.isEnabled&&e<this._currentStep.index)return this._transitionTo(t),this._collapseSubsequentSteps()},e.prototype.disableStep=function(e){var t;if(null!=(t=this._steps[e])&&(t.disable(),t===this._currentStep))return this["continue"]()},e.prototype.enableStep=function(e){var t;if(null!=(t=this._steps[e])&&(t.enable(),e<this._currentStep.index))return this.goBackToStep(e)},e.prototype._nextStep=function(){var e,t,n,r;for(n=this._steps.slice(this._currentStep.index+1),e=0,t=n.length;e<t;e++)if(r=n[e],r.isEnabled&&!r.isReadOnly()&&(!r.hasBeenVisited()||!r.isComplete()))return r;return r},e.prototype._transitionTo=function(e){return null!=this._currentStep&&(this._currentStep.isComplete()&&this._currentStep.complete(),this._currentStep.collapse(this._currentStep.isEnabled)),this._currentStep=e,this._currentStep.expand()},e.prototype._collapseSubsequentSteps=function(){var e,t,n,r,i;for(n=this._steps.slice(this._currentStep.index+1),r=[],e=0,t=n.length;e<t;e++)i=n[e],r.push(i.collapse());return r},e}(),t=function(){function e(e,t,n,r,i){this._accordionForm=e,this.index=t,this.isLast=n,this._element=r,this._options=i,this._header=this._element.find(this._options.headerSelector),this.isLast||this._bindTransitionEvents(),this.isEnabled=!0}return e.prototype.expand=function(){return this._element.trigger(this._options.stepBeforeExpandEventName),this._element.removeClass(this._options.inactiveClass).addClass(this._options.activeClass),this._element.trigger(this._options.stepExpandEventName)},e.prototype.complete=function(){return this._element.addClass(this._options.completedClass).addClass(this._options.visitedClass),this._element.trigger(this._options.stepCompleteEventName)},e.prototype.collapse=function(){return this._element.trigger(this._options.stepBeforeCollapseEventName),this._element.removeClass(this._options.activeClass).addClass(this._options.inactiveClass),this._element.trigger(this._options.stepCollapseEventName)},e.prototype.disable=function(){if(this.isEnabled)return this.isEnabled=!1,this._element.trigger(this._options.stepDisableEventName)},e.prototype.enable=function(){if(!this.isEnabled)return this.isEnabled=!0,this._element.trigger(this._options.stepEnableEventName)},e.prototype.isComplete=function(){return this._options.isStepComplete(this._element)},e.prototype.isReadOnly=function(){return this._element.hasClass(this._options.readOnlyClass)},e.prototype.hasBeenVisited=function(){return this._element.hasClass(this._options.visitedClass)},e.prototype._bindTransitionEvents=function(){return this._editButton=this._element.find(this._options.editButtonSelector),this._editButton.click(function(e){return function(){return e._accordionForm.goBackToStep(e.index)}}(this)),this._continueButton=this._element.find(this._options.continueButtonSelector),this._continueButton.click(function(e){return function(){return e._accordionForm["continue"](e)}}(this))},e}(),$.fn.accordionify=function(t){var n,r,i,o;for(o=this,r=0,i=o.length;r<i;r++)n=o[r],$(n).data("accordionForm")||$(n).data("accordionForm",new e($(n),t));return this}}.call(this),function(){jQuery.extend(String.prototype,{camelize:function(){return this.replace(/(?:^|[-_])(\w)/g,function(e,t){return t?t.toUpperCase():""})}})}.call(this),function(){var e;e=jQuery,e.fn.containsInvalidInputs=function(){var t,n,r,i;return i=function(t){var n;return n=t.filter(":not([disabled])"),n=n.filter(function(){return 0===e(this).parents("fieldset[disabled]").length}),n=n.filter(function(){return 0===e(this).parents("fieldset[data-validation-disabled]").length})},r=i(this.find("input.error")),t=i(this.find("input.ng-invalid")),n=this.find("[required],[data-required]").filter(function(){return 0===e(this).val().length}),n=i(n),r.length>0||n.length>0||t.length>0},e.fn.valid=function(){return!this.containsInvalidInputs()}}.call(this),function(){var e;e=jQuery,e.fn.disabledBy=function(){return{$element:e(this),currentList:function(){var e;return e=this.$element.data("disabledBy")||[],this.$element.removeAttr("data-disabled-by"),e},add:function(t){var n;return 0===this.$element.length?this.$element:(n=this.currentList(),-1===e.inArray(t,n)&&n.push(t),this.$element.data("disabledBy",n),this.$element.attr("disabled","disabled"),this.$element)},remove:function(e){var t,n,r,i,o;if(0!==this.$element.length){if(i=this.currentList(),r=[],i.length>0)for(t=0,n=i.length;t<n;t++)(o=i[t])!==e&&r.push(o);return 0===r.length?(this.$element.removeData("disabledBy"),this.$element.removeAttr("disabled")):this.$element.data("disabledBy",r),this.$element}}}}}.call(this),function(){jQuery}.call(this),function(){var e,t,n,r,i=function(e,t){return function(){return e.apply(t,arguments)}};e=jQuery,t=function(){function t(t){this.onContentModified=i(this.onContentModified,this),this.modal=e(t)}var r;return r=27,t.prototype.open=function(t){return e(document).on("keyup",this.dismissOnEscape),t||e("body").css({overflow:"hidden"}),this.modal.addClass("active"),e(document).trigger("modal.open"),e("body").addClass("modalActive"),window.innerWidth<=540&&document.body.scrollIntoView(!0),this.hasWatchableContent()&&this.startSpinner(),this},t.prototype.close=function(){return e(document).off("keyup",this.dismissOnEscape),e("body").css({overflow:"inherit"}),e("body").removeClass("modalActive"),this.modal.removeClass("active"),this.modal.trigger("modal.close"),this.content()&&this.content().empty(),this.stopSpinner()},t.prototype.onCloseOnce=function(e){return this.modal.one("modal.close",e)},t.prototype.onContentModified=function(){return window.clearInterval(this.contentWatcher),this.stopSpinner()},t.prototype.dismissOnEscape=function(e){if(e.which===r)return n(".modal").close(),!1},t.prototype.hasWatchableContent=function(){return this.modal.data()&&this.modal.data().contentSelector&&0===this.content().children().length},t.prototype.watchForContentModifications=function(){return this.content().bind("DOMSubtreeModified",this.onContentModified),this.contentWatcher=window.setInterval(function(e){return function(){return 0!==e.content().children().length&&(window.clearInterval(e.contentWatcher),e.onContentModified())}}(this),100),window.contentWatcher=this.contentWatcher},t.prototype.content=function(){return this.modal.find(this.modal.data("contentSelector"))},t.prototype.startSpinner=function(){return this.modal.find(".modalBox").inlineSpinner(),this.watchForContentModifications()},t.prototype.stopSpinner=function(){return this.modal.find(".modalBox").inlineSpinner(!1)},t}(),n=function(e){return new t(e)},r=function(t,r){return null==r&&(r=!0),t=e(t),r&&t.insertAfter(e(".main_body")),t.find(".modalClose").on("touchstart click",function(e){return e.stopPropagation(),e.preventDefault(),!0!==e.handled&&(n(t).close(),e.handled=!0)}),t.find("[data-modal-close]").click(function(){return n(t).close(),!1}),t.click(function(t){if(e(t.target).is(".modal")||e(this).data("close-on-click"))return n(e(this)).close()})},e.gettyModal={init:function(){return e.gettyModal.initElement(".modal"),e(".modalOpen").click(function(){var t;return t=e(this).data("modal-id"),n("#"+t).open()})},initElement:r,find:n},e(document).safeReady(function(){return e.gettyModal.init()})}.call(this),function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}};e=jQuery,t=function(){function t(e,t){this.targetElem=e,this.enablePagerToggling=null!=t&&t,this.scrollToCurrentAsset=n(this.scrollToCurrentAsset,this)}return t.prototype.register=function(){var t,n;return t=function(t){return function(){var n;if(t.targetElem.show(),t.scrollToCurrentAsset(),t.enablePagerToggling)return t.targetElem.find(".scroll_area ul").addClass("toggle-pagers"),n=t,e(t.targetElem).resize(function(){return n.togglePagers()})}}(this),n=e.map(e.makeArray(this.targetElem.find("img")),function(t){return function(n){var r;return r=e.Deferred(),r.done(function(){return t.fixPanoramaHeight(n)}),e(n).on("load",r.resolve),e(n).on("error",r.resolve),n.complete&&r.resolve(),r}}(this)),e.when.apply(this,n).then(t),this.targetElem.find(".image_pager_left").click(function(e){return function(){return e.scrollImages(-1)}}(this)),this.targetElem.find(".image_pager_right").click(function(e){return function(){return e.scrollImages(1)}}(this))},t.prototype.currentAssetId=function(){return e("h1").first().data("asset-id")},t.prototype.jstTemplate=function(e){return JST["unisporkal_engine/shared/image_pager"]({title:e.title,category:e.category,images:e.items,header_links:e.header_links||[]})},t.prototype.render=function(e){var t;if(e.items&&e.items.length>1)return t=this.jstTemplate(e),this.targetElem.html(t)},t.prototype.togglePagers=function(){var e,t,n,r,i,o;if(this.enablePagerToggling)return i=this.targetElem.find(".scroll_area"),n=i.scrollLeft(),e=this.targetElem.find(".image_pager_left"),0===n?e.hide():e.show(),o=Math.floor(i[0].scrollWidth),r=Math.ceil(n+this.targetElem.width()),t=this.targetElem.find(".image_pager_right"),r>=o?t.hide():t.show()},t.prototype.scrollToCurrentAsset=function(){return this.scrollIntoView(this.currentAssetId())},t.prototype.scrollTo=function(e){var t;if(t=this.targetElem.find(".scroll_area"),!this.animating)return this.animating=!0,t.animate({scrollLeft:e},function(e){return function(){if(e.animating=!1,e.enablePagerToggling)return e.togglePagers()}}(this))},t.prototype.scrollImages=function(e){var t,n;return t=this.targetElem.hasClass("image_pager")?this.targetElem:this.targetElem.find(".image_pager"),n=this.targetElem.find(".scroll_area"),this.scrollTo(n.scrollLeft()+.6*t.width()*e)},t.prototype.scrollToEnd=function(){return this.scrollTo(this.targetElem.find(".scroll_area")[0].scrollWidth)},t.prototype.fixPanoramaHeight=function(t){var n,r,i;if(r=e(t).get(0),null!=r.naturalHeight&&(i=r.naturalHeight,n=r.naturalWidth/r.naturalHeight,i<120&&i>0&&n>=2))return e(t).addClass("panorama")},t.prototype.scrollIntoView=function(e){var t,n,r;if(r=this.targetElem.find(".scroll_area ul li[data-asset-id='"+e+"']"),r.length>0)return n=r[0],t=this.targetElem.find(".scroll_area"),t.scrollTo(n),t.scrollLeft(t.scrollLeft()-this.targetElem.find(".image_pager_left").width()-1)},t}(),e.imagePager={init:function(n,r,i,o){var a;if(null==i&&(i=!1),null==o&&(o=!1),0!==e(n).length)return a=new t(e(n),o),a.render(r),a.register(),e("body").on("click","a[data-carousel-image]",function(t){var n;return i?(t.preventDefault(),window.open(t.currentTarget.href,"","width=969,height=744,scrollbars=1")):(e(this).parent().data("asset-id"),n=new UniPopupCookie(window.location.hostname),document.cookie=n.get())})},register:function(n,r){var i;if(null==r&&(r=!1),0!==e(n).length)return i=new t(e(n),r),i.register(),i}}}.call(this),function(){var e;e=jQuery,e.fn.inlineSpinner=function(t,n){return this.each(function(){var r,i,o,a,s;if(r=e(this),o=r.data(),(document.documentMode||100)<9,o.spinner&&(r.removeClass("spinner_applied"),o.spinner.stop(),delete o.spinner,o.overlay&&o.overlay.remove()),!1!==t)return t||(t=r.height()<50?"small":"large"),t=e.extend({color:n||r.css("color")},e.fn.inlineSpinner.presets[t]||t),o.spinner=new Spinner(t).spin(),s=o.spinner.el,r.addClass("spinner_applied"),r.is("input")?(a=r.height()/2,e(s).css({marginTop:a+"px",marginLeft:a+"px",position:"absolute"}),r.before(s)):r.is("button")?(o.overlay=e("<div>").addClass("spinner_button_cooldown"),o.overlay.append(s),r.append(o.overlay)):(i=e("<div>").addClass("spinner_centroid"),o.overlay=e("<div>").addClass("spinner_overlay").css({backgroundColor:e.fn.inlineSpinner.findBackgroundColor(r)}),i.append(s),o.overlay.append(i),r.append(o.overlay))})},e.fn.inlineSpinner.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}},e.fn.inlineSpinner.findBackgroundColor=function(t){return t?""!==t.css("background-color")?t.css("background-color"):t.parent()?e.fn.inlineSpinner.findBackgroundColor(t.parent()):"":""},window.angular&&(angular.element.fn.inlineSpinner=e.fn.inlineSpinner,angular.module("giSpinner",[]).directive("giSpinner",function(){return{link:function(e,t){return t.inlineSpinner()}}}))}.call(this),function(){var e,t,n;e=jQuery,t=[],n=[],e.manager={invoke:function(t){var r;if(e(t).length>0)return r=n[t],e.each(r,function(){if(e.isFunction(this))return this.call()})},exec:function(){return e.each(t,function(t,r){var i;if(e(r).length>0)return i=n[r],e.each(i,function(){if(e.isFunction(this))return this.call()})})},ready:function(e,r){return n[e]||(n[e]=[],t.push(e)),n[e].push(r)}}}.call(this),function(){var e;e=jQuery,e.fn.modalSpinner=function(){var t;return t={lines:11,length:23,width:8,radius:40,corners:1,rotate:9,color:"#FFF",speed:1,trail:50,shadow:!0,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},this.each(function(){var n,r,i;return n=e(this),r=n.data(),r.spinner?(r.spinner.stop(),delete r.spinner,e("#spin_modal_overlay").remove(),this):(i=this,e("body").append('<div id="spin_modal_overlay" style="background-color: rgba(0, 0, 0, 0.6); width:100%; height:100%; position:fixed; top:0px; left:0px; z-index:'+(t.zIndex-1)+'"/>'),i=e("#spin_modal_overlay")[0],r.spinner=new Spinner(e.extend({color:n.css("color")},t)).spin(i))})},window.angular&&angular.module("giModalSpinner",[]).directive("giModalSpinner",function(){return{link:function(e,t){return t.modalSpinner()}}})}.call(this),function(){var e,t;e=jQuery,t=function(){function e(e){this.window=e}return e.prototype.close_and_redirect_parent=function(e,t){var n;return n=function(e){try{return e.opener.location.hostname===e.location.hostname}catch(e){return e,!1}},t.preventDefault(),this.window.opener&&!this.window.opener.closed&&n(this.window)?(this.window.opener.location=e,this.window.close()):this.window.location=e},e}(),e.popup_window={init:function(n){var r;return r=new t(n),e.popupWindow=r,e("body").on("click","a[data-close-and-redirect]",function(t){var n;return n=e(this).attr("href"),e.popupWindow.close_and_redirect_parent(n,t)}),e("body").on("click","span[data-close]",function(){return window.close()})}},e(document).safeReady(function(){return e.popup_window.init(window)})}.call(this),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var n=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},n.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this;if(t.nodeName&&-1==e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]))return t;var n=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==n.compatMode?n.body:n.documentElement})},e.fn.scrollTo=function(r,i,o){return"object"==typeof i&&(o=i,i=0),"function"==typeof o&&(o={onAfter:o}),"max"==r&&(r=9e9),o=e.extend({},n.defaults,o),i=i||o.duration,o.queue=o.queue&&o.axis.length>1,o.queue&&(i/=2),o.offset=t(o.offset),o.over=t(o.over),this._scrollable().each(function(){function a(e){u.animate(d,i,o.easing,e&&function(){e.call(this,r,o)})}if(null!=r){var s,l=this,u=e(l),c=r,d={},p=u.is("html,body");switch(typeof c){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(c)){c=t(c);break}if(c=e(c,this),!c.length)return;case"object":(c.is||c.style)&&(s=(c=e(c)).offset())}e.each(o.axis.split(""),function(e,t){var r="x"==t?"Left":"Top",i=r.toLowerCase(),f="scroll"+r,h=l[f],m=n.max(l,t);if(s)d[f]=s[i]+(p?0:h-u.offset()[i]),o.margin&&(d[f]-=parseInt(c.css("margin"+r))||0,d[f]-=parseInt(c.css("border"+r+"Width"))||0),d[f]+=o.offset[i]||0,o.over[i]&&(d[f]+=c["x"==t?"width":"height"]()*o.over[i]);else{var g=c[i];d[f]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*m:g}o.limit&&/^\d+$/.test(d[f])&&(d[f]=d[f]<=0?0:Math.min(d[f],m)),!e&&o.queue&&(h!=d[f]&&a(o.onAfterFirst),delete d[f])}),a(o.onAfter)}}).end()},n.max=function(t,n){var r="x"==n?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var o="client"+r,a=t.ownerDocument.documentElement,s=t.ownerDocument.body;return Math.max(a[i],s[i])-Math.min(a[o],s[o])}}(jQuery),function(){var e;e=jQuery,e(document).safeReady(function(){return e("form").submitLock()}),e.fn.submitLock=function(){var t;return t=e(this),t.each(function(){var t;return t=e(this),t.on("submit",function(){return e(this).trigger("submitLockTriggered")}),t.on("submitLockTriggered",function(){var t;return t=e(this).find("[type=submit]"),t.each(function(t,n){if(e(n).data("submit-lock-enabled"))return e(n).disabledBy().add("submitLock")})})})}}.call(this),function(){var e;e=jQuery,e.fn.toggleSubmits=function(t){var n,r;return r={submitsSelector:"[type=submit]",containerSelector:"form",externalSubmitsSelector:null},e.extend(r,t),n=this,n.each(function(){var t;if(t=e(this),t.containsInvalidInputs()){if(t.trigger("invalid"),t.find(r.submitsSelector).disabledBy().add("toggleSubmits"),r.externalSubmitsSelector)return e(r.externalSubmitsSelector).disabledBy().add("toggleSubmits")}else if(t.trigger("valid"),t.find(r.submitsSelector).disabledBy().remove("toggleSubmits"),r.externalSubmitsSelector)return e(r.externalSubmitsSelector).disabledBy().remove("toggleSubmits")})}}.call(this),function(){var e;e=jQuery,e.fn.validateFormFields=function(t){var n;return n={onFieldValidate:null},e.extend(n,t),e.validateSetup({onKeyup:!0,onBlur:!0,onSubmit:!0}),this.each(function(){return e(this).validate({eachValidField:function(){if(e(this).removeClass("error").addClass("success"),n.onFieldValidate)return n.onFieldValidate()},eachInvalidField:function(){if(e(this).removeClass("success").addClass("error"),n.onFieldValidate)return n.onFieldValidate()}})})}}.call(this),function(){var e,t,n,r,i,o,a,s,l,u,c,d,p;i=function(){return window.location.href},u=function(e){return window.location=e},s=function(e){return null==e&&(e=i()),null!==r(e)&&(e=e.split("#")[0]),-1===e.indexOf("?")?null:e.split("?")[1]},n=function(e,t){var n,r,i,o,a,l,u;for(null==t&&(t=s()),u=t.split("&"),o=0,a=u.length;o<a;o++)if(i=u[o],l=i.split("="),n=l[0],r=l[1],n.toLowerCase()===e.toLowerCase())return decodeURIComponent(r)},l=function(){var e,t,n,r,i,o,a;for(o={},i=s()||"",a=i.split("&"),n=0,r=a.length;n<r;n++)t=a[n],e=t.split("="),o[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return o},r=function(e){return e||(e=i()),-1===e.indexOf("#")?null:e.split("#")[1]},d=function(){return window.location=$("link[rel=signin]").attr("href")},c=function(){return window.location=$("link[rel=cart]").attr("href")},p=function(){var e;return window.location.search.match(/reload=/)?c():(e=""===window.location.search?"?reload=1":window.location.search+"&reload=1",window.location.search=e)},e=function(e){return"Error"===e.status&&e.requires_signin?(window.Navigation.redirectToSignin(),!1):"Error"===e.status&&e.requires_reload?(window.Navigation.reload(),!1):"Error"===e.status},o=function(e,t,n){return null==t&&(t=600),null==n&&(n=650),window.open(e,"","width="+t+",height="+n+",top=50,left=50,alwaysRaised=yes,toolbar=0,directories=0,menubar=0,status=1,resizable=yes,location=0,scrollbars=yes,copyhistory=0")},a=function(){return $(".popup_link").on("click",function(e){var t,n;return e.preventDefault(),n=$(this).data().width||600,t=$(this).data().height||650,o($(this).attr("href"),n,t)})},t=function(e){var t;return t=$("<a>")[0],t.href=e,t.href},window.Navigation||(window.Navigation={location:i,redirectTo:u,redirectToSignin:d,redirectToCart:c,reload:p,queryString:s,getQueryValue:n,hash:r,ajaxError:e,popupWindow:o,queryStringAsObject:l,getFullUrl:t}),$(document).safeReady(function(){return a()})}.call(this),function(){var e,t,n,r,i,o,a,s=function(e,t){return function(){return e.apply(t,arguments)}};e=function(e){return"/"===e[0]&&"/"!==e[1]},t=function(e){return e.pathname||""},n=function(e,n){var r,i,o,a;return o="",a=t(e).split("/"),a.length>1&&(r=a[1]),a.length>2&&(i=a[2]),r&&n.hasOwnProperty(r)&&(o+="/"+r,n[r].hasOwnProperty(i)&&(o+="/"+i)),o},r=function(e){var t;for(t in e)return e[t],!0;return!1},i=function(){return function(e,t){var n;return n=e.split("/")[1],t.hasOwnProperty(n)}}(),this.SiteMap=function(){function t(e,t,n){var r,i;null==t&&(t={}),null==n&&(n={}),this.cleanRelativePath=s(this.cleanRelativePath,this),a=e,o=t;for(r in n)i=n[r],this[r]=i}var o,a;return a=null,o=null,t.prototype.cleanRelativePath=function(t){var s,l,u;u=t.trim(),l=r(o);try{return e(u)&&l?i(u,o)?u:""+n(a,o)+u:u}catch(e){return s=e,console.error(s),u}},t}(),o=(null!=(a=window.siteMap)?a.constructorValues:void 0)||{},window.siteMap=new SiteMap(o.location||window.location,o.countryLanguagePrefixes,o.siteMapMethods),delete window.siteMap.constructorValues,window.angular&&angular.module("giSiteMap",[]).factory("siteMap",["$location",function(e){return window.siteMap||new SiteMap(e)}])}.call(this),function(){angular.module("submitOn",[]),angular.module("submitOn").directive("submitOn",["eventBus",function(e){return{restrict:"A",link:function(t,n,r){return e.on(r.submitOn,function(){return setTimeout(function(){return n.trigger("submit")})})}}}])}.call(this),function(){angular.module("submitOnValid",[]),angular.module("submitOnValid").directive("submitOnValid",function(){return{restrict:"A",require:"form",link:function(e,t,n,r){var i;return i=function(){return t.find("input[ng-model]").each(function(){var e;if(e=angular.element(this),
"checkbox"!==e.attr("type")&&"radio"!==e.attr("type"))return e.controller("ngModel").$setViewValue(e.val())})},t.on("submit",function(n){return e.$apply(function(){var o;return i(),r.$setSubmitted(),r.$valid?e.disableSubmitButton=!0:(n.preventDefault(),(o=t.find(".ng-invalid:visible").first())?o.focus():void 0)}),!0})}}})}.call(this),function(){angular.module("TimeUtilService",[]).service("TimeUtilService",function(){return{eraseTimezoneOffset:function(e){var t;return t=e.getTimezoneOffset(),new Date(e.getTime()+60*t*1e3)}}})}.call(this),function(){"use strict";angular.module("giToggleCheckbox",[]).directive("toggleCheckbox",["$timeout",function(){return{name:"toggleCheckbox",restrict:"C",link:function(e,t){var n,r,i,o;return n=t[0].querySelectorAll('input[type="checkbox"]'),i=function(e){return!!e.disabled&&"false"!==e.disabled&&"0"!==e.disabled},r=function(e){return!!e.checked&&"false"!==e.checked&&"0"!==e.checked},o=function(e){var t,o,a,s;for(t=null,s=[],o=0,a=n.length;o<a;o++)t=n[o],s.push(function(t){if(i(t)?(angular.element(e).addClass("disabled"),r(t)&&angular.element(e).addClass("checked")):angular.element(e).removeClass("disabled"),!i(t))return r(t)?angular.element(e).addClass("checked"):angular.element(e).removeClass("checked")}(t));return s},o(t),e.$watch(n,function(){return o(t)}),t.on("click",function(){return o(t,!0)})}}}])}.call(this),function(){var e;e=function(e,t){var n,r,i;return"string"==typeof e?objOrString:n=function(){var t;t=[];for(r in e)i=e[r],t.push(r+'="'+i+'"');return t}(),"<a "+n.join(" ")+">"+t+"</a>"},window.t=function(t,n){var r,i,o,a,s,l,u,c,d,p,f,h,m,g;if(!(g=window.localeStrings[t]))return"JS translation missing: "+t;for(p=g.match(/%{\w+}/g)||[],i=0,l=p.length;i<l;i++)c=p[i],s=g.match(/%{([^}]+)}/)[1],g=g.replace(c,n[s]);for(f=g.match(/\|{(\d+)_link}([^|]+)\|/g)||[],a=0,u=f.length;a<u;a++)c=f[a],h=g.match(/\|{(\d+)_link}([^|]+)\|/),d=h[0],o=h[1],r=h[2],g=g.replace(d,e(null!=(m=n.links)?m[o]:void 0,r));return g},window.angular&&(angular.module("giTranslation",[]).factory("t",["$sce",function(e){return window.t.getHtmlSafeTranslation=function(t,n){return e.trustAsHtml(window.t(t,n))},window.t}]),angular.module("giTranslation").directive("htmlTranslate",["$parse","$compile",function(e,t){return{restrict:"A",link:function(n,r,i){return n.$watch(function(){return i.htmlTranslate},function(){return r.html(e("'"+i.htmlTranslate+"'")(n)),t(r.contents())(n)},!0)}}}]))}.call(this),function(){this.UniPopupCookie=function(){function e(e,t,n){null==t&&(t=1),null==n&&(n=0),this.hostname="localhost"===e?"":e.replace("www",""),this.lifetime=45,this.is_popup=t,this.capture_opt_out=n}return e.prototype.get=function(){var e;return e=new Date,e.setSeconds(e.getSeconds()+this.lifetime),this.get_cookie(e)},e.prototype.get_cookie=function(e){return"unipopup=popup="+this.is_popup+"&capture_opt_out="+this.capture_opt_out+"; path=/; domain="+this.hostname+"; expires="+e.toGMTString()+";"},e}()}.call(this),window.XDomainRequest&&jQuery.ajaxTransport(function(e){if(e.crossDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var t;return{send:function(n,r){function i(e,n,i,o){t.onload=t.onerror=t.ontimeout=jQuery.noop,t=undefined,r(e,n,i,o)}t=new XDomainRequest,t.onload=function(){i(200,"OK",{text:t.responseText},"Content-Type: "+t.contentType)},t.onerror=function(){i(404,"Not Found")},t.onprogress=jQuery.noop,t.ontimeout=function(){i(0,"timeout")},t.timeout=e.xdrTimeout||Number.MAX_VALUE,t.open(e.type,e.url),t.send(e.hasContent&&e.data||null)},abort:function(){t&&(t.onerror=jQuery.noop,t.abort())}}}}),window.angular&&angular.module("giTracking",[]),function(){var e;e=function(){function e(){}return e.prototype.setOmnitureVars=function(){},e}(),this.collaborationTracking=new e}.call(this),function(){this.GiSafeStorage=function(){function e(e){this.unsafeStorage=e,this.inMemoryCache={}}return e.prototype.setItem=function(e,t){try{return this.unsafeStorage.setItem(e,t)}catch(n){return n,this.inMemoryCache[e]=t}},e.prototype.getItem=function(e){var t,n;try{n=null!=(t=this.unsafeStorage)?t.getItem(e):void 0}catch(e){e}return n?(delete this.inMemoryCache[e],n):this.inMemoryCache[e]||null},e.prototype.removeItem=function(e){var t;try{null!=(t=this.unsafeStorage)&&t.removeItem(e)}catch(e){e}return delete this.inMemoryCache[e]},e.prototype.clear=function(){var e;try{null!=(e=this.unsafeStorage)&&e.clear()}catch(e){e}return this.inMemoryCache={}},e}()}.call(this),function(){window.giLocalStorage||(window.giLocalStorage=new GiSafeStorage(window.localStorage)),window.angular&&(angular.module("giLocalStorage",[]),angular.module("giLocalStorage").factory("giLocalStorage",function(){return window.giLocalStorage}))}.call(this),function(){window.giSessionStorage||(window.giSessionStorage=new GiSafeStorage(window.sessionStorage)),window.angular&&(angular.module("giSessionStorage",[]),angular.module("giSessionStorage").factory("giSessionStorage",function(){return window.giSessionStorage}))}.call(this),function(){}.call(this),function(){var e,t,n;t=function(){function e(){this.options={path:"/",domain:function(){var e;return e=window.location.hostname.split("."),"www"===e[0]||"secure"===e[0]?(e=e.slice(1),"."+e.join(".")):""}()}}return e.prototype.set=function(e,t){return this.options.expires=5,$.cookie(e,t,this.options)},e.prototype.setSession=function(e,t){return delete this.options.expires,$.cookie(e,t,this.options)},e.prototype.get=function(e){return $.cookie(e)},e.prototype.remove=function(e){return $.removeCookie(e,this.options)},e}(),e=function(){function e(e){null==e&&(e={}),this.storage=e}return e.prototype.set=function(e,t){var n;return"function"==typeof(n=this.storage).setItem?n.setItem(e,t):void 0},e.prototype.get=function(e){var t;return"function"==typeof(t=this.storage).getItem?t.getItem(e):void 0},e.prototype.remove=function(e){var t;return"function"==typeof(t=this.storage).removeItem?t.removeItem(e):void 0},e}(),n={localStore:["search-event","search-link","search-tool","search-type","adp-link","adp-link-source","merch-link","carousel-link","carousel-header-link","trk-adp-capture","omniture-prop-66","license_link","gallery_tile_yml","gallery-link","banner-link","track-props","flyout-link","close-pa-preview","mosaic_asset_type","illustration_category","previous_page_name"],cookieStore:["isource","nav","linklocationomnidata","carousel-image","mosaic-item","search-nav","trk-event","new_registration","learn-more-banner","lite_registration","social_sign_in","purchase-path-entry-point","editor-entry-point"]},$.storageQueueManager={queues:n,cookieStore:new t,localStore:new e(window.giLocalStorage||new GiSafeStorage(window.localStorage)),enqueue:function(e,t,n){return t?this[n].set(e,t):this[n].remove(e)},dequeue:function(e,t,n){var r;null==n&&(n=!1),r=this[t].get(e),this[t].remove(e);try{return n?JSON.parse(r):r}catch(e){return e,r}},init:function(e,t,n){var r,i,o,a,s,l;for(null==n&&(n=!0),r=this,s=[],i=0,a=e.length;i<a;i++)o=e[i],l=this.dequeue(o,t,"track-props"===o),l&&(window.tracking_data[o]=l),n?($(document).on("click","a[data-"+o+"], button[data-"+o+"]",o,function(e){return r.enqueue(e.data,$(this).data(e.data),t)}),s.push($(document).on("submit","form[data-"+o+"]",o,function(e){return r.enqueue(e.data,$(this).data(e.data),t)}))):s.push(void 0);return s}},$(document).safeReady(function(){return trackingQueue.init(),$(document).trigger("queuedTrackingDataReady")}),this.trackingQueue={init:function(e){var t,n,r,i;if(null==e&&(e=!0),window.tracking_data){n=$.storageQueueManager.queues,r=[];for(i in n)t=n[i],r.push($.storageQueueManager.init(t,i,e));return r}}}}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};$(document).on("queuedTrackingDataReady",function(){return $.storageQueueManager.localStore.set("previous_page_name",window.tracking_data.page_name)}),$(document).on("track.siteCatalystBeforeSend",function(){var t,n;if(t=(null!=(n=$.storageQueueManager.cookieStore.get("trk-event"))?n.split(/,/):void 0)||[],e.call(t,"event12")>=0&&$.storageQueueManager.cookieStore.setSession("sign-in-event-sent",!0),(e.call(t,"event19")>=0||e.call(t,"event21")>=0)&&$.storageQueueManager.cookieStore.setSession("registration-event-sent",!0),e.call(t,"event12")<0&&$.storageQueueManager.cookieStore.remove("sign-in-event-sent"),e.call(t,"event19")<0&&e.call(t,"event21")<0)return $.storageQueueManager.cookieStore.remove("registration-event-sent")})}.call(this),function(){$.tagManager={sites:{getty:{mapAuthState:function(e){switch(e.auth_state){case"remembered":return"registered - remembered";case"authenticated":return"registered - signedin";default:return"unregistered"}},mapPageName:function(e){switch(e.page_name){case"account":return"Account";case"celebritycapsule":return"CelebrityCapsule";case"error":return"error";case"favorites_board":return"FavoritesBoard";case"favorites_boards":return"FavoritesBoards";case"favorites_panel":return"FavoritesPanel";case"forgot_password":return"forgot password";case"forgot_password_confirm":return"ForgotPasswordThankYou";case"forgot_username":return"ForgotUsername";case"forgot_username_success":return"ForgotUsernameConfirmationPage";case"home":return"Home";case"iStockResults-imgBanner":return"iStockCarousel";case"my_invoices":return"MyInvoices";case"custom_delivery":return"CustomDelivery";case"saved_licenses":return"SavedLicenses";case"prestige":return"Prestige";case"purchase/checkout":return e.is_easy_first_purchase?"PaymentInfo|FastReg":"PaymentInfo";case"purchase/order_confirmation":return"download";case"reset_password":return"password_resetpassword";case"reset_password_confirm":return"password_resetsave";case"search-results-events":return"ImageResults-Event";case"search_results":return"ImageResults";case"film_search_results":return"FootageResults";case"image_search_results":return"ImageResults";case"category_browse":return"CategoryBrowse-Image";case"category_browse_video":return"CategoryBrowse-Video";case"sign_in":return"SignIn";case"profile_details":return"ProfileDetails";case"change_password":return"ChangePassword";case"profile_address":return"ProfileAddress";case"profile_address_edit_billing":return"ProfileAddressEditBilling";case"profile_address_edit_mailing":return"ProfileAddressEditMailing";case"profile_address_edit_shipping":return"ProfileAddressEditShipping";case"download_history":return"DownloadHistory";case"sales_order":return"SalesOrder";case"purchase_history":return"PurchaseHistory";case"premium_packs":case"ultrapacks":return"PlansAndPricing|PackBuy";case"rr_calculator":return"RRCalculator";case"rm_calculator":return"RMCalculator";case"curated_set_results":return"CuratedSetResults";default:return e.page_name}},getDownloadCounts:function(e){var t,n,r,i,o,a;if("unregistered"!==e.auth_state&&e.active_agreements){for(n=0,a=0,o=e.active_agreements,r=0,i=o.length;r<i;r++)t=o[r],"image_pack"===t.agreement_type&&(n+=t.download_cap,a+=t.downloads_remaining);if(n>0)return n.toString()+"|"+a.toString()}}},thinkstock:{mapCustomerType:function(e){var t,n;if(null!=(t=e.active_agreements)&&null!=t.length&&(n=$.tagManager.mapAgreementTypes(t),n.length))return n.join(" | ");switch(e.auth_state){case"remembered":case"authenticated":return"NoProd";default:return"Anon"}},mapPageName:function(e){switch(e.page_name){case"sign_in":return"thinkstock - authenticationlogin";case"register":return"registration_new";case"change_password":return"thinkstock - change password";case"reset_password":return"thinkstock - password_resetpassword";case"reset_password_confirm":return"thinkstock - password_resetsave";case"forgot_password":return"thinkstock - forgot password";case"forgot_password_confirm":return"thinkstock - password_forgotsave";case"forgot_username":return"thinkstock - forgot_username";case"forgot_username_success":return"thinkstock - forgot_username_success";case"error":return"error";case"purchase/checkout":return"thinkstock - checkout";case"purchase/order_confirmation":return"thinkstock - purchase confirmation";default:return"unknown"}}},mediavast:{mapCustomerType:function(e){switch(e.auth_state){case"authenticated":return"business";default:return"anonymous"}},mapPageName:function(e,t){switch(e.page_name){case"sign_in":return t+"|useraccount|login";case"reset_password":return t+"|useraccount|resetpassword";case"reset_password_confirm":return t+"|useraccount|resetpasswordconf";case"forgot_password":return t+"|useraccount|forgotpassword";case"forgot_password_confirm":return t+"|useraccount|forgotpasswordconf";case"forgot_username":return t+"|useraccount|forgotusername";case"forgot_username_success":return t+"|useraccount|forgotusernameconf";case"error":return t+"|useraccount|error";default:return"unknown"}}},istock:{mapAuthState:function(e){switch(e.auth_state){case"authenticated":return"Authenticated";case"remembered":return"Remembered";default:return"Unregistered"}},mapPageName:function(e){var t,n,r,i,o,a,s,l;switch(e.page_name){case"home":return"iStock|Home|Main";case"sign_in":return"iStock|MyAccount|Login";case"download_history":return"iStock|MyAccount|DownloadHistory";case"profile_details":return"iStock|MyAccount|EditProfile";case"change_password":return"iStock|MyAccount|ChangePassword";case"profile_address":return"iStock|MyAccount|AddressAndBilling";case"image_search_results":case"category_browse":return"iStock|Search|Photo-IllustrationResults";case"film_search_results":case"category_browse_video":return"iStock|Search|VideoResults";case"image_portfolio_results":return"iStock|Search|Portfolio|Photo-IllustrationResults";case"film_portfolio_results":return"iStock|Search|Portfolio|VideoResults";case"search_by_image":return"iStock|Search|Image|Photo-IllustrationResults";case"favorites_board":return"iStock|MyAccount|BoardPage";case"favorites_boards":return"iStock|MyAccount|BoardManagement";case"account":return"iStock|MyAccount|Overview";case"plans_and_pricing":return"iStock|Payment|PlansAndPricing";case"purchase/checkout":for(a="Unknown",s=e.cart_products,t=0,r=s.length;t<r;t++)o=s[t],"subscription_pack"===o.type&&(a="SubscriptionCheckout"),"credit_pack"===o.type&&("credit_pack"===o.type&&(a="StoreCheckout"),e.is_fastcheckout&&(a+="_anon"));return"iStock|Payment|"+a;case"purchase/order_confirmation":for(a="Unknown",l=e.cart_products,n=0,i=l.length;n<i;n++)o=l[n],"subscription_pack"===o.type&&(a="SubscriptionThankYou"),"credit_pack"===o.type&&(a="StoreThankYou");return"iStock|Payment|"+a;case"CustomerSupport":return"iStock|Help|ContactUs";default:return e.page_name}}}},mapAgreementTypes:function(e){var t,n,r;n=[];for(r in e)e[r],(t=$.tagManager.mapAgreementType(r))&&n.push(t);return n},mapAgreementType:function(e){switch(e){case"editorial_subscription":return"EdSub";case"premium_access":return"PA";case"easy_access":return"EZA";case"image_pack":return"Pack";case"rf_subscription":return"Sub";case"EA":return"EZA";case"ED":return"EdSub";case"IP":return"Pack";case"PA":return"PA";case"RF":return"Sub"}},mapDownloadType:function(e){var t;return t={re_download:"ReDownload",anonymous:"AnonDownload",single:"Download",multiple:"MultiDownload"},t[e.download_type]},renderTime:function(){return window.renderEnd-window.renderStart}}}.call(this),function(){$.siteCatalyst=function(){var e,t,n,r,i,o,a,l,u,c,d,p,f;return e="event12",c=function(){return tracking_data["trk-event"]===e&&!$.storageQueueManager.cookieStore.get("sign-in-event-sent")},l={},o=function(e){var t;return t={channel:e.host,charSet:"utf=8",events:a(e.site_nickname,e.events,e["trk-event"]),pageURL:e.url,purchaseID:e.order_id,currencyCode:e.currency_code,eVar1:e.language,eVar2:e.keyword_searched,eVar11:e.userid,eVar30:e.order_id,eVar44:e.geolocation_country,eVar47:"D=pageName",prop1:e.language,prop2:e.keyword_searched,prop11:e.userid,prop39:e.render_duration_in_ms,prop40:$.tagManager.renderTime(),prop44:e.geolocation_country,prop58:e.promotion_code,prop71:"uni"},e.render_duration_client_side=$.tagManager.renderTime(),t},d={},d.salesforce={},d.salesforce.mapProperties=function(e){var t;return t=d.getty.mapProperties(e),t.prop67=t.eVar67=$.tagManager.sites.getty.mapAuthState(e),t},d.salesforce.mapAccountId=function(e){return d.salesforce.mapAccountId(e)},d.salesforce.mapAccountId=function(e){return e.use_production_account_ids?"gettysalesforceplugin":"gettysalesforceplugintest"},d.getty={},d.getty.mapProperties=function(e){var t,n,r,i,a,l,u,c,d,p,f,h;if(e.license_link&&e.events.push("license_link"),e["close-pa-preview"]&&e.events.push("close_preview"),h=o(e),h.server=e.server,h.pageName=$.tagManager.sites.getty.mapPageName(e,"site_catalyst"),h.account_id=null,h.products=null,h.prop4=h.eVar4=e.host,h.prop8=h.eVar8="signin_test",n=$.tagManager.sites.getty.mapAuthState(e),n&&null!=e.active_agreements&&null!=(t=$.tagManager.mapAgreementTypes(e.active_agreements))&&t.length>0&&(n=n+"|"+t.join("|")),e.creative_search_includes_rm&&(n+="|Enabled"),e.has_expansion_bundle&&(n+="|giPlus"),e.lite_registration&&(n+="|lite"),e.social_sign_in&&n.indexOf("unregistered")<0&&(n+="|social"),h.eVar10=h.prop10=n,h.prop11=h.eVar11=e.userid,h.eVar18=e.isource,h.prop19=h.eVar19=e.billing_country,h.eVar23=e.isource,h.eVar24=e.isource,e.isource||e.linklocationomnidata,h.prop53=e.url,h.prop56=$.tagManager.sites.getty.getDownloadCounts(e),h.prop65=h.eVar65=e.nav,h.eVar69=e.industry_segment,e.has_online_price_agreement&&(h.eVar69+="|OnlinePricingAgreement"),e.lite_registration&&(h.eVar78="lite"),e.pa_preview?h.eVar91="PA-Guest|"+e.pa_preview:e.pa_agreement_types&&e.pa_agreement_types.length>0&&(h.eVar91=e.pa_agreement_types.join("|")),h.cookieDomainPeriods=(document.URL.match(/\./g)||[]).length,null!=e["omniture-prop-66"]&&e["omniture-prop-66"]&&(e.carousel_interaction=h.prop66=e["omniture-prop-66"]),e.cmscontent&&(h.prop17=h.eVar17=e.cmscontent),s.getPercentPageViewed)try{f=s.getPercentPageViewed(h.pageName),f[0],h.prop72=f[1],h.prop73=f[2]}catch(e){a=e,console.log("Error occurred trying to call s.getPercentPageViewed: "+a)}return"BillToAccount"===e.payment_method&&(h.prop59=h.eVar59="billed"),visitorExperiences.isActive("ShowMeTheMobileMoney")&&(r=h.prop49?h.prop49+"|":"",visitorExperiences.isOfferActive("ShowMeTheMobileMoney","mobile_ads","enabled")?r+="B2E-Ads2017-Mobile_ExpB":visitorExperiences.isOfferActive("ShowMeTheMobileMoney","mobile_ads","control")&&(r+="B2E-Ads2017-Mobile_Control"),h.prop49=h.eVar40=r,l=e.ecommerce_test_variation?e.ecommerce_test_variation+"|":"",visitorExperiences.isOfferActive("ShowMeTheMobileMoney","mobile_ads","enabled")?l+="B2E-Ads2017-Mobile_ExpB":visitorExperiences.isOfferActive("ShowMeTheMobileMoney","mobile_ads","control")&&(l+="B2E-Ads2017-Mobile_Control"),e.ecommerce_test_variation=l),null!=e.visitor_experience_offer&&(h.prop49=e.visitor_experience_offer,e.ecommerce_test_variation=e.visitor_experience_offer),e.cart_products&&(u=function(){var t,n,r,i;for(r=e.cart_products,i=[],t=0,n=r.length;t<n;t++)d=r[t],i.push([d.collection_id,d.sku].join(";"));return i}(),c=!1,p=function(){var t,n,r,o;for(r=e.cart_products,o=[],t=0,n=r.length;t<n;t++)d=r[t],i=d.self_serve?[d.asset_family,d.asset_type.camelize(),d.license_type,d.collection_code,d.quality]:"image_pack"===d.type?(c=!0,[d.sku]):["NonDigitalAsset"],o.push(["",i.join("|"),1,d.price].join(";"));return o}(),h.products=p.join(","),1===e.cart_products.length&&c||(h.prop29=h.eVar29=u.join(","))),e.hbscopy_email&&e.hbscopy_email.length>0&&window.giSessionStorage.setItem("omniture-evar-88",e.hbscopy_email),e.registration_status=n,h},d.getty.mapAccountId=function(e){return e.use_production_account_ids?"gettyglobal":"gettywebvisiondev"},d.thinkstock={},d.thinkstock.mapProperties=function(e){var t,n,r,i;return r=o(e),r.pageName=$.tagManager.sites.thinkstock.mapPageName(e),r.prop10=r.eVar10=$.tagManager.sites.thinkstock.mapCustomerType(e),r.prop4=r.eVar4=e.host,r.prop19=r.eVar19=e.billing_country,r.prop6=r.eVar6=e["search-link"],r.eVar22=e.isource,r.eVar23=e.isource,e.cart_products&&(n=function(){var n,r,o,a;for(o=e.cart_products,a=[],n=0,r=o.length;n<r;n++)t=o[n],i=t.type.camelize(),a.push([i,i+t.download_limit,1,t.price].join(";"));return a}(),r.products=n.join(",")),r},d.thinkstock.mapAccountId=function(e){return e.use_production_account_ids?"gettygettythinkstock":"gettythinkstocktest"},d.mediavast={},d.mediavast.mapProperties=function(e,t){var n,r,i,o,a;return r=$.tagManager.sites.mediavast.mapPageName(e,t),i=d.mediavast.getPreviousPageCookie(),d.mediavast.setPreviousPageCookie(r),n=$.tagManager.sites.mediavast.mapCustomerType(e),a=e.url.match(/\/\/[^\/]+(\.[^\/]+)/)[1],o={},o.prop4=o.eVar4=n+":"+r,o.prop5=o.eVar5=n,o.prop6=o.eVar6=e.userid,o.prop7=o.eVar7=i,o.prop8=o.eVar8=a,o.prop29=o.eVar29=a+":"+r,o.prop35=o.eVar35=e.language,o.prop36=o.eVar36="D=g",o.eVar37="D=pagename",o.channel="MyAccount",o.pageName=r,o},d.mediavast.mapAccountId=function(e){return e.use_production_account_ids?"gettygettywireimagefilmmagic":"gettywirebeta"},d.mediavast.getPreviousPageCookie=function(){var e,t;if(e=$.storageQueueManager.cookieStore.get("ppn"))return t=e.match(/pageName=([^&]+)/),t?t[1]:void 0},d.mediavast.setPreviousPageCookie=function(e){return $.storageQueueManager.cookieStore.set("ppn","pageName="+e)},d.wireimage={},d.wireimage.mapProperties=function(e){var t;return t=d.mediavast.mapProperties(e,"WI"),t.prop25=t.eVar25="wireimage",t},d.wireimage.mapAccountId=d.mediavast.mapAccountId,d.filmmagic={},d.filmmagic.mapProperties=function(e){var t;return t=d.mediavast.mapProperties(e,"FM"),t.prop25=t.eVar25="filmmagic",t},d.filmmagic.mapAccountId=d.mediavast.mapAccountId,r=function(e){var t;if(e.isInPurchasePath&&e["purchase-path-entry-point"]&&(t=e["purchase-path-entry-point"],$.storageQueueManager.cookieStore.set("purchase-path-entry-point",t),"adp-subscription"===t&&e.events.push("purchase_path_from_adp_subscription"),"adp-creditPack"===t))return e.events.push("purchase_path_from_adp_creditPack")},n=function(e){if("purchase/checkout"===e.page_name&&("sign_in"===e.previous_page_name&&e.events.push("checkout_after_sign_in"),"register"===e.previous_page_name))return e.events.push("checkout_after_registration")},i=function(e){var t;if(c()&&("Member"===(t=e.team_role)||"Leader"===t))return e.events.push("team_signin")},d.istock={},d.istock.mapProperties=function(e){var t,a,s,l,c,d,p,f;return r(e),n(e),i(e),f=o(e),f.prop11=f.eVar11=f.prop39=f.prop40=f.prop58=f.prop71="",f.pageName=$.tagManager.sites.istock.mapPageName(e),f.server=e.host,t=null!=(d=e.language)?d.replace("-","_"):void 0,e.country_prefix&&"en"!==e.language_prefix&&(t=e.language_prefix?e.language_prefix+"_"+e.country_prefix:e.language_code+"_"+e.country_prefix),f.products=null,f.prop3=f.eVar3=t,f.prop4=f.eVar4=e.userid,f.prop5=e.url,f.eVar6=e.host,f.eVar20=e.cmscontent,f.eVar38=e.current_date,0<(null!=(p=e.team_role)?p.length:void 0)&&(f.eVar54=e.team_role),f.prop40=f.eVar40=$.tagManager.sites.istock.mapAuthState(e),f.prop52=e.credit_packs_recommended,e.ui_element_location=e.credit_packs_recommended,f.eVar59=e["editor-entry-point"],f.prop59=e["editor-entry-point"],f.eVar65=e.editor_experience,f.prop70="D=s_vi",f=u(e,f),f.prop73=e.render_duration_in_ms,f.prop74=$.tagManager.renderTime(),e.render_duration_client_side=$.tagManager.renderTime(),e.cart_products&&(l=function(){var t,n,r,i;for(r=e.cart_products,i=[],t=0,n=r.length;t<n;t++)s=r[t],"subscription_pack_upsell"!==s.type?(a="subscription_pack"===s.type?(c=s.sku.contains("PREM")?"Signature":"Essentials",[c,s.sku].join("|")):s.sku,i.push(["",a,s.quantity,s.price].join(";"))):i.push(void 0);return i}(),f.products=l.join(",")),e.order_id&&(f.tempeVar18=e.order_id.toString()),e.hbscopy_email&&e.hbscopy_email.length>0&&window.giSessionStorage.setItem("omniture-evar-88",e.hbscopy_email),e.registration_status=$.tagManager.sites.istock.mapAuthState(e),f},u=function(e,t){var n;return n=e.nav,null!==n&&void 0!==n&&(-1!==n.indexOf("nav")?-1!==n.indexOf("nav=")?t.eVar66=t.prop71=n.split("=")[1]:t.eVar66=t.prop71=n:t.eVar67=t.eVar70=t.eVar71=n),t},d.istock.mapAccountId=function(e){return e.use_production_account_ids?"gettyistockphotoprod":"gettyistocktest"},a=function(n,r,i){var o,a,s,l,u,c,d,p,f,h,m;r||(r=[]),o={getty:{sales_orders:"event90",asset_details_page:"prodview",first_time_purchase:"event59",gallery_page:"event71",license_link:"event73",rights_ready_calculator:"event25",cart:"scView",quote:"event87",close_preview:"event151",easy_first_purchase:"event19"},thinkstock:{asset_details_page:"event5"},common:{checkout:"scCheckout",order_confirmation:"purchase"},salesforce:{asset_details_page:"prodview"},istock:{asset_details_page:"prodview",checkout_after_sign_in:"event32",checkout_after_registration:"event32",team_signin:"event32",forgot_password:"event55",purchase_path_from_adp_creditPack:"event67",purchase_path_from_adp_subscription:"event68",reset_password:"event56",register_page:"event20"}},l=o[n];for(s in o.common)l[s]=o.common[s];for(m=[],u=0,d=r.length;u<d;u++)a=r[u],void 0!==l[a]&&m.push(l[a]);if(i)for(f=i.split(/,/),c=0,p=f.length;c<p;c++){if((a=f[c])===e){if($.storageQueueManager.cookieStore.get("sign-in-event-sent"))break;combinedGtmTracking.gtmPushTracking("signin")}else if("event19"===a||"event21"===a){if(h=t(),$.storageQueueManager.cookieStore.get("registration-event-sent"))break;combinedGtmTracking.gtmPushTracking("registrationComplete",{registration_type:h})}m.push(a)}return m.join(",")},t=function(){return tracking_data.lite_registration?"lite":"regular"},p=function(e){var t,n,r,i;l={},r=d[e.site_nickname],window.s_account=r.mapAccountId(e),window.InitOmniture&&window.InitOmniture(),n=r.mapProperties(e);for(t in n)i=n[t],s[t]=i,l[t]=!0;return $(document).trigger("track.siteCatalystBeforeSend",{s:s,tracking_data:e,pageTrackingVariables:l}),l},f=function(e,t){return $.ajax({dataType:"script",url:e,cache:!0,success:t,error:function(e,t,n){return console.log(n.message)}})},{map:function(e){return p(e)},pageTrackingVariables:function(){return l},bootstrap:function(){return function(e){return p(e),$.siteCatalyst.signalDefaults&&$.siteCatalyst.signalDefaults(s),s.t(),$(document).trigger("omnitureReady",l),$.siteCatalyst.eventBindings(l).bind(),l}}(),init:function(e){var t;return window.Foresee||(window.Foresee={}),!(!d[e.site_nickname]||window.hideThirdParty)&&(t=e.site_catalyst_file_path,f(t,function(){return $.siteCatalyst.bootstrap(e)}),!0)}}}(),$(window).safeOn("load",function(){if(window.tracking_data&&"undefined"!==window.tracking_data.safariPreview&&!0!==window.tracking_data.safariPreview&&!0!==window.siteCatalystInitialized)return $.siteCatalyst.init(window.tracking_data),window.siteCatalystInitialized=!0})}.call(this),function(){$.siteCatalyst.eventBindings=function(){var e,t;return t=!1,e=function(){return t=!0},{bind:function(){if(!t)return e()}}}}.call(this),function(){$.spectrum=function(){return{},{postToSpectrum:function(e){var t;return t=$.spectrum.mapPageLoadedSignalForSpectrum(e),$.post(e.spectrum_host_three+"signals",JSON.stringify([t]))},mapPageLoadedSignalForSpectrum:function(e){return{event:"Page Loaded",source:e.site_nickname,properties:{url:location.href,user_id:e.userid,referer:document.referrer,visitor_id:e.visitor_id,omniture_visitor_id:$.spectrum.getOmnitureIdFromCookie(),page_name:$.tagManager.sites.getty.mapPageName(e,"spectrum")}}},mapKruxLoadedSignalForSpectrum:function(e){return{event:"Krux Loaded",source:e.site_nickname,properties:{user_id:e.userid,visitor_id:e.visitor_id,omniture_visitor_id:$.spectrum.getOmnitureIdFromCookie(),page_name:$.tagManager.sites.getty.mapPageName(e,"spectrum"),krux_user_id:$.spectrum.krux_user_id}}},getOmnitureIdFromCookie:function(){var e,t,n;return t="s_vi",e="AMCV_8D1767C25245AE7F0A490D4C@AdobeOrg=",$.spectrum.cookieExists(t)?$.spectrum.getCookieValue(t):$.spectrum.cookieExists(e)&&(n=$.spectrum.getCookieValue(e).split("|"),n.length>4)?n[4]:""},cookieExists:function(e){var t,n,r,i;for(n=document.cookie.split(";"),r=0,i=n.length;r<i;r++)if(t=n[r],t=decodeURIComponent(t.replace(/^(\s*)/,"")),0===t.indexOf(e))return!0;return!1},getCookieValue:function(e){var t,n,r,i;for(n=document.cookie.split(";"),r=0,i=n.length;r<i;r++)if(t=n[r],t=decodeURIComponent(t.replace(/^(\s*)/,"")),0===t.indexOf(e))return t.substring(e.length,t.length);return""},init:function(e){return window.Foresee||(window.Foresee={}),!(!e||!e.supports_spectrum)&&("istock"!==e.site_nickname&&setTimeout($.spectrum.isKruxLoaded,2e3),$.spectrum.postToSpectrum(e),!0)},trackKruxId:function(e){var t;try{$.spectrum.krux_user_id=window.Krux("ns:getty")("get","user")}catch(e){e,$.spectrum.krux_user_id=""}if(""!==$.spectrum.krux_user_id)return t=$.spectrum.mapKruxLoadedSignalForSpectrum(e),$.post(e.spectrum_host_three+"signals",JSON.stringify([t]))},isKruxLoaded:function(){return null!=window.Krux&&void 0!==window.Krux?$.spectrum.trackKruxId(window.tracking_data):setTimeout($.spectrum.isKruxLoaded,1e3)}}}(),$(window).on("load",function(){return $.spectrum.init(window.tracking_data)})}.call(this),function(){var e;$(window).load(function(){var t;window.tracking_data&&window.tracking_data.google_tag_manager&&(!function(e,t,n,r,i){var o,a,s;e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"}),a=t.getElementsByTagName(n)[0],s=t.createElement(n),o="dataLayer"!==r?"&l="+r:"",s.async=!0,s.src="https://www.googletagmanager.com/gtm.js?id="+i+o,a.parentNode.insertBefore(s,a)}(window,document,"script","dataLayer",window.tracking_data.google_tag_manager_id),window.tracking_data["editor-entry-point"]&&(t=window.tracking_data["editor-entry-point"],/PlansAndPricing-textLink/.test(t)&&window.combinedGtmTracking.gtmPushTracking("Plans and pricing text link from editor"),/BuyCredits/.test(t)&&window.combinedGtmTracking.gtmPushTracking("Edited Image Buy Credit from editor")),e())}),e=function(){var e,t;if(t=new RegExp("[?&]esource=([^&]+)","i"),e=(window.location.search.match(t)||[null,null])[1])return window.tracking_data.esource=e}}.call(this),function(){var e;$(document).safeReady(function(){return $("#facebook-sign-in").on("click",function(){return window.combinedSignInTracking.sendTrackingInfo("continue with facebook","Event110")}),$(document).on("track.usernameAlreadyInUse",function(){return s.eVar79="Username already in use",window.combinedSignInTracking.sendTrackingInfo("AlreadyHaveAccount","Event118")}),$(document).on("track.facebookAccountHasNoEmailAddress",function(){return s.eVar79="facebook account has no email address",window.combinedSignInTracking.sendTrackingInfo("FacebookAccountNoEmail","Event118")}),$(document).on("track.unknownFacebookError",function(){return s.eVar79="unknown facebook error",window.combinedSignInTracking.sendTrackingInfo("UnknownFacebookError","Event118")})}),e=function(){function e(){}return e.prototype.sendTrackingInfo=function(e,t){var n,r;return s.linkTrackEvents=s.events=t,r=["channel","events","prop1","prop4","prop7","prop8","prop10","prop19","prop24","prop39","prop40","prop44","prop53","prop70","prop71","eVar1","eVar4","eVar7","eVar8","eVar10","eVar19","eVar25","eVar44","eVar47","eVar78","eVar79","eVar99","eVar100"],s.linkTrackVars=r.join(","),s.tl(!0,"o",e),null!=(n=window.combinedGtmTracking)?n.gtmPushTracking(e):void 0},e}(),$(document).safeReady(function(){return window.combinedSignInTracking=new e})}.call(this),function(){var e;e=function(){function e(){}var t,n;return e.prototype.setPageLoadVariables=function(){var e;return e=n[tracking_data.site_nickname],navigator&&(tracking_data.user_agent=navigator.userAgent),tracking_data.cart_products&&(tracking_data.products_string=e.getProductsString()),tracking_data.paid_search_keyword=t("kw")},e.prototype.setUIElementLocation=function(e){if(window.giLocalStorage)return window.giLocalStorage.setItem("tracking-data.ui-element-location",e)},e.prototype.getUIElementLocation=function(){var e;return e="",window.giLocalStorage&&(e=window.giLocalStorage.getItem("tracking-data.ui-element-location"),window.giLocalStorage.setItem("tracking-data.ui-element-location","")),e},e.prototype.setSearchTracking=function(e,t,n){if(window.giLocalStorage)return window.giLocalStorage.setItem("tracking-data.ui-element-location",t),window.giLocalStorage.setItem("tracking-data.filter-type",n),window.giLocalStorage.setItem("tracking-data.event",e)},e.prototype.gtmSearchResultsChanged=function(){var e,t,n;if(window.giLocalStorage)return n=window.giLocalStorage.getItem("tracking-data.ui-element-location"),t=window.giLocalStorage.getItem("tracking-data.filter-type"),e=window.giLocalStorage.getItem("tracking-data.event")||"search",this.gtmPushTracking(e,{ui_element_location:n,filter_type:t}),window.giLocalStorage.setItem("tracking-data.ui-element-location",""),window.giLocalStorage.setItem("tracking-data.filter-type",""),
window.giLocalStorage.setItem("tracking-data.event","")},t=function(e,t){var n,r;return t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&"),n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t),r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},e.prototype.gtmPushTracking=function(e,t){var n,r;return null==t&&(t={}),t.event=e,r=$.extend({},window.tracking_data,t),null!=(n=window.dataLayer)?n.push(r):void 0},n={},n.getty={},n.getty.getProductsString=function(){var e,t,n;return n=function(){var n,r,i,o;for(i=tracking_data.cart_products,o=[],n=0,r=i.length;n<r;n++)t=i[n],e=t.self_serve?[t.asset_family,t.asset_type.camelize(),t.license_type,t.collection_code,t.quality]:"image_pack"===t.type?[t.sku]:["NonDigitalAsset"],o.push(["",e.join("|"),1,t.price].join(";"));return o}(),n.join(",")},n.istock={},n.istock.getProductsString=function(){var e,t,n,r;return n=function(){var n,i,o,a;for(o=tracking_data.cart_products,a=[],n=0,i=o.length;n<i;n++)t=o[n],"subscription_pack_upsell"!==t.type?(e="subscription_pack"===t.type?(r=t.sku.contains("PREM")?"Signature":"Essentials",[r,t.sku].join("|")):t.sku,a.push(["",e,t.quantity,t.price].join(";"))):a.push(void 0);return a}(),n.join(",")},e}(),$(document).safeReady(function(){return window.combinedGtmTracking=new e,window.combinedGtmTracking.setPageLoadVariables()})}.call(this),function(){var e;e=function(e){return s.events="event28",s.prop7=s.eVar7=s.pageName,s.linkTrackVars="prop7,eVar7",s.linkTrackEvents="event28",s.tl(!0,"o",e)},$(document).safeReady(function(){return $("#footer-country-selector").on("click",function(){return e("LocSelectorModalOpen")}),$("#footer-language-selector").on("click",function(){return e("LocSelectorModalOpen")}),$("#footer-facebook-icon").on("click",function(){return e("FacebookFooterLink")}),$("#footer-twitter-icon").on("click",function(){return e("TwitterFooterLink")}),$("#footer-googleplus-icon").on("click",function(){return e("GooglePlusFooterLink")}),$("#footer-instagram-icon").on("click",function(){return e("InstagramFooterLink")}),$("#footer-support-number").on("click",function(){return e("FooterSupportNumUS")}),$("#footer-intl-number").on("click",function(){return e("FooterSupportNumINTL")}),$("#footer-affiliates").on("click",function(){return e("FooterAffiliates")}),$("#footer-careers").on("click",function(){return e("FooterCareers")}),$("#footer-press").on("click",function(){return e("FooterPress")}),$("#footer-aboutus").on("click",function(){return e("FooterAboutUs")}),$("#footer-partners").on("click",function(){return e("FooterPartners")}),$("#footer-stories").on("click",function(){return e("FooterStoriesAndTrends")})}),$(document).safeReady(function(){var e,t;return e=function(e,t){var n,r;return null==t&&(t=[]),n=$.siteCatalyst.map(tracking_data),r=$.map(n,function(e,t){return t}).concat(t),s.linkTrackVars=r.join(","),s.events=e,s.linkTrackEvents=e},t=function(t){return"undefined"!=typeof s&&null!==s&&(e("event180"),s.tl(!0,"o","footer - "+t),s.events=null)},$(document).on("track.footer.iosAppDownload",function(){return t("App Store App")}),$(document).on("track.footer.googlePlayDownload",function(){return t("Google Play App")})})}.call(this),function(){window.angular&&(angular.module("giTracking").directive("giTrack",["$window","$document","$log",function(e,t,n){return{restrict:"A",link:function(e,r,i){var o;return o=i.giTrackEvent||"click",r.on(o,function(i){var o,a,s,l;if(null==(s=r.attr("gi-track-key-code"))||i.which===parseInt(s)){a=r.attr("gi-track"),o=e.getTrackingData?e.getTrackingData(r):i,l=null!=e.trackNamespace?e.trackNamespace+"."+a:a;try{t.trigger(l,o)}catch(e){i=e,n.error("Error occurred while tracking '"+l+"': "+i)}return!0}})}}}]),angular.module("giTracking").directive("giTrackNamespace",["$window","$document",function(){return{restrict:"A",link:function(e,t,n){return e.trackNamespace=n.giTrackNamespace}}}]))}.call(this),function(){window.angular&&angular.module("giTracking").directive("giTrackData",["$window","$log",function(e){var t;return t=function(t,n){return e.tracking_data||(e.tracking_data={}),e.tracking_data[t]=n},{restrict:"A",link:function(e,n,r){var i,o,a,s,l,u,c,d;for(o=r.giTrackData.split(","),u=[],a=0,s=o.length;a<s;a++)i=o[a],l=i.split(":"),c=l[0].trim(),d=(l[1]||l[0]).trim(),t(c,e.$eval(d)),u.push(e.$watch(d,function(e){return t(c,e)}));return u}}}])}.call(this),function(){window.angular&&angular.module("giTracking").factory("omnitureReady",["$document","$q",function(e,t){var n;return n=t.defer(),null!=window.s&&n.resolve(),e.on("omnitureReady",function(){return n.resolve()}),n.promise}])}.call(this),function(){window.angular&&angular.module("giTracking").factory("trackingHelper",["$rootScope","$document","$q","omnitureReady",function(e,t,n,r){var i;return i={},t.on("omnitureReady",function(){return i=$.siteCatalyst.pageTrackingVariables(),delete i.events}),{track:function(e,t){return eventBus.on(e,function(){return r.then(function(){return t(s)})})},trackUpdate:function(e,t){return eventBus.on(e,function(e){return t(s,e)})},myPageVariablesAnd:function(t){var n,r,o,a,s;if(e.pageTrackingVariables&&(i=e.pageTrackingVariables),n=$.extend({},i),t&&t.length>0)for(a=t.split(","),r=0,o=a.length;r<o;r++)s=a[r],n[s]=!0;return $.map(n,function(e,t){return t}).join(",")},initializeEvent:function(e,t){var n,r;return null==t&&(t=[]),n=$.siteCatalyst.map(tracking_data),r=$.map(n,function(e,t){return t}).concat(t),window.s.linkTrackVars=r.join(","),window.s.events=e,window.s.linkTrackEvents=e}}}])}.call(this),function(){$(document).safeReady(function(){var e,t;return t=function(e,t){return"undefined"!=typeof s&&null!==s&&(s.linkTrackEvents=s.events=t,s.linkTrackVars="events","event146"!==t&&"event147"!==t||(s.linkTrackVars+=","+window.pageTrackingVariables+",linkTrackEvents",s.eVar47="D=pageName"),s.tl(!0,"o",e))},e=function(e,t){return null==t&&(t={}),combinedGtmTracking.gtmPushTracking(e,t)},$(document).on("track.sbi.cameraIconClick",function(){return t("ImgSrch_cameraIconClick","event146"),e("SearchByImageClickCamera")}),$(document).on("track.sbi.modalOpen",function(){return t("ImgSrch_modalOpen","event147")}),$(document).on("omnitureReady",function(e,n){if($(".sbi-sub-info span[data-sbi-essentialsub-info=true]").length&&t("ImgSrch_outsideSubError","event162"),$(".search-bar__camera").length&&(s.linkTrackEvents="",s.linkTrackVars="eVar98",s.eVar98="search by image",s.tl(!0,"o","search by image")),null==window.pageTrackingVariables)return window.pageTrackingVariables=Object.keys(n).join(",")})})}.call(this),function(){var e;e=function(e){return s.linkTrackVars=window.pageTrackingVariables+",events,linkTrackEvents",s.events="event193",s.linkTrackEvents="event193",s.tl(!0,"o",e)},$(document).safeReady(function(){return $("#account-start-page").on("click",function(){return e("SettingLandingPage-StartPage-MyAccount")})})}.call(this),function(){window.sendClientTiming=function(e,t){var n;if(Modernizr.prefixed("JSON",window))return n=JSON.stringify({name:"browser.timing",payload:e,request_id:t}),$.ajax({type:"POST",url:"/"+application.app_prefix+"/client_event",data:n,dataType:"json",contentType:"application/json"})},window.buildClientTiming=function(){var e;return e=performance.timing,e.renderStart=window.renderStart,e.renderEnd=window.renderEnd,e},$(window).on("load",function(){if(window.tracking_data&&Modernizr.prefixed("performance",window))return setTimeout(function(){return sendClientTiming(buildClientTiming(),tracking_data.request_id)},0)})}.call(this);var isSubscriptionBanner=function(e){return"expired"===e||"expiring_60"===e||"expiring_30"===e||"expiring_week"===e||"expiring_tomorrow"===e||"expiring_today"===e},sendSubscriptionBannerOmniture=function(e,t){!0===isSubscriptionBanner(e)&&"undefined"!=typeof s&&(s.linkTrackEvents=t,s.events=t,s.tl(!0,"o",t))};$(document).on("omnitureReady",function(){var e=$(".banner .close").data("cookie-type");sendSubscriptionBannerOmniture(e,"event131")}),$(".banner .banner-url").click(function(e){var t=$(e.target).parent().siblings(".close").data("cookie-type");sendSubscriptionBannerOmniture(t,"event132")}),$(".banner .close").click(function(e){$(e.target).parent().slideUp("500ms",function(){$(e.target).parent().remove()}),$.ajax({url:"/"+application.app_prefix+"/create-banner-cookie",data:{"cookie-type":$(e.target).data("cookie-type"),"sale-name":$(e.target).data("sale-name")}})}),function(){var e;e=function(){return $.ajax({type:"GET",url:siteMap.cleanRelativePath("/collaboration/boards-recent"),dataType:"json",success:function(e){if(e.boards_list_html)return $(".boards-menu-container").replaceWith(e.boards_list_html)},error:function(e){if(e.responseJSON.boards_list_html)return $(".boards-menu-container").replaceWith(e.responseJSON.boards_list_html)}})},null==window.Engine&&(window.Engine={}),window.Engine.BoardsMenu={init:function(){return eventBus.on("loadBoardsMenu",function(){return function(){return e()}}())}},$(document).safeReady(function(){return window.Engine.BoardsMenu.init()})}.call(this),function(){window.UnisporkalEngine={Header:{Getty:{Base:{},LoggedIn:{}}}}}.call(this),function(){this.UnisporkalEngine.Header.Getty.Component=function(){function e(){}return e.include=function(e){var t,n,r;for(t in e)r=e[t],"included"!==t&&(this.prototype[t]=r);return null!=(n=e.included)&&n.apply(this),this},e}()}.call(this),function(){this.UnisporkalEngine.Header.Getty.Logger=function(){function e(){}return e.appname="header.getty",e.error=function(e,t){return t?console.error(this.appname+": "+e+"\n --- \n",t):console.error(this.appname+": "+e)},e.warn=function(e){return console.warn(this.appname+": "+e)},e.info=function(e){return console.info(this.appname+": "+e)},e}()}.call(this),function(){UnisporkalEngine.Header.Getty.Mixins={},UnisporkalEngine.Header.Getty.Mixins.sendAjax=function(e){var t;try{return $.ajax({url:e.url,type:e.type,success:e.success,error:e.error,data:e.params?e.params:null,headers:e.headers?e.headers:null})}catch(e){throw t=e,UnisporkalEngine.Header.Getty.Logger.error("sendAjax() was unable to send request.",t),t}},UnisporkalEngine.Header.Getty.Mixins.isEmptyObject=function(e){return 0===Object.keys(e).length&&e.constructor===Object},UnisporkalEngine.Header.Getty.Mixins.isInvalid=function(e){return null===e||void 0===e},UnisporkalEngine.Header.Getty.Mixins.getLocalStorageItem=function(e,t){var n,r;try{if(r=window.localStorage.getItem(e))switch(t.type){case"json":return JSON.parse(r);case"number":return parseInt(r);case"queryParams":return UnisporkalEngine.Header.Getty.Mixins.queryStringToJSON(r);default:return r}else UnisporkalEngine.Header.Getty.Logger.info("getLocalStorageItem() found no data for "+e+".",n)}catch(e){throw n=e,UnisporkalEngine.Header.Getty.Logger.error("getLocalStorageItem() was unable to retrieve data.",n),n}},UnisporkalEngine.Header.Getty.Mixins.setLocalStorageItem=function(e,t,n){var r;try{switch(n.type){case"json":t=JSON.stringify(t)}window.localStorage.setItem(e,t)}catch(e){throw r=e,UnisporkalEngine.Header.Getty.Logger.error("setLocalStorageItem() was unable to save data.",r),r}},UnisporkalEngine.Header.Getty.Mixins.removeLocalStorageItem=function(e){var t;try{return window.localStorage.removeItem(e,value)}catch(e){throw t=e,UnisporkalEngine.Header.Getty.Logger.error("removeLocalStorageItem() was unable to delete data.",t),t}},UnisporkalEngine.Header.Getty.Mixins.queryStringToJSON=function(e){var t,n;return t=e.split("&"),n={},t.forEach(function(e){return e=e.split("="),n[e[0]]=decodeURIComponent(e[1]||"")}),n}}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.UnisporkalEngine.Header.Getty.Base.Account=function(t){function n(){var e,t,n,r,i,o;e=function(){return $("span.ups-display-name").click(function(){return $("li.topic").slideToggle(),$("li.main_links").slideToggle(),$("ul.ups-user-dropdown").slideToggle()})},n=function(){var e,t,n;return e=null!=(t=$(".ups-sign-in a").attr("href"))?t.split("?")[0]:void 0,n=e+"?returnurl="+encodeURIComponent(window.location.pathname+window.location.search),$(".ups-sign-in a").attr("href",n)},r=function(){return setTimeout(function(){return n()},50)},i=function(){var e,t,n;return e=null!=(t=$("a.sign-out").attr("href"))?t.split("?")[0]:void 0,n=e+"?returnurl="+encodeURIComponent(window.location.pathname+window.location.search),$("a.sign-out").attr("href",n)},o=function(){return setTimeout(function(){return i()},50)},t=function(){return $(document).on("searchResultsChanged",r),$(document).on("searchResultsChanged",o)},e(),n(),i(),t()}return e(n,t),n.include(UnisporkalEngine.Header.Getty.Mixins),n}(UnisporkalEngine.Header.Getty.Component)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.UnisporkalEngine.Header.Getty.Base.MobileMenu=function(t){function n(){this.bindMobileMenuControls(),this.bindMobileSubNavs()}var r,i,o,a,s,l,u;return e(n,t),n.include(UnisporkalEngine.Header.Getty.Mixins),n.prototype.bindMobileMenuControls=function(){return $("div.ups-mobile a.ups-hamburger").click(function(){return $(this).hasClass("on")?r():l()}),$("div.ups-mobile a.ups-magnify").click(function(){return $(this).hasClass("on")?r():u()})},n.prototype.bindMobileSubNavs=function(){return $(".ups-toggle").click(function(){if($(this).hasClass("ups-creative")&&($("ul.ups-dropdown-content.ups-creative").toggle(),$(this).toggleClass("ups-toggled")),$(this).hasClass("ups-editorial")&&($("ul.ups-dropdown-content.ups-editorial").toggle(),$(this).toggleClass("ups-toggled")),$(this).hasClass("ups-galleries")&&($("ul.ups-dropdown-content.ups-galleries").toggle(),$(this).toggleClass("ups-toggled")),$(this).hasClass("ups-account-link")&&($("ul.ups-dropdown-content.ups-account").toggle(),$(this).toggleClass("ups-toggled")),$(this).hasClass("ups-more"))return $("ul.ups-dropdown-content.ups-more").toggle(),$(this).toggleClass("ups-toggled")})},n.closeAllMenus=function(){return r()},r=function(){return $(".on").each(function(e,t){return $(t).removeClass("on"),$(".ups-mobile section.ups-menu").hide(),$(".ups-mobile section.ups-search").hide()})},u=function(){return $(".ups-mobile section.ups-search:visible").length?o():($(".ups-mobile-search-form input").attr("autofocus",""),s())},n.showSearchMenu=function(){return s()},s=function(){return r(),$(".ups-mobile a.ups-magnify").addClass("on"),$(".ups-mobile section.ups-search").show()},n.hideSearchMenu=function(){return o()},o=function(){return $(".ups-mobile a.ups-magnify").removeClass("on"),$(".ups-mobile section.ups-search").hide()},l=function(){return $(".ups-mobile section.ups-menu:visible").length?i():a()},n.showMenu=function(){return a()},a=function(){return r(),$(".ups-mobile a.ups-hamburger").addClass("on"),$(".ups-mobile section.ups-menu").show()},n.hideMenu=function(){return i()},i=function(){return $(".ups-mobile a.ups-hamburger").removeClass("on"),$(".ups-mobile section.ups-menu").hide()},n}(UnisporkalEngine.Header.Getty.Component)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty,n=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};this.UnisporkalEngine.Header.Getty.Base.Board=function(t){function r(){this.createBoardPanelBinding(),window.eventBus&&this.addBindings(),this.fetchStats()}var i,o,a;return e(r,t),r.include(UnisporkalEngine.Header.Getty.Mixins),i=function(){return[".asset_detail_container",".search_container"]},o=function(){try{if(angular.module("giRemoting"))return angular.element($("[ng-controller='PanelController as panel']")).scope().panel}catch(e){return e,null}},a=function(e){return!e.attributes["data-mobile"]&&$(i().join(",")).length>0},r.prototype.addBindings=function(){var e;if(e=this,window.eventBus)return window.eventBus.on("collaboration.boardLoaded",function(t){var n;return n=e.getBoardStatsFromBoard(t),e.updateBoardCountFromStats(n)}),window.eventBus.on("collaboration.boardStatsLoaded",function(t){return e.updateBoardCountFromStats(t)})},r.prototype.boardPath=function(){return"/collaboration/boards/"+this.currentBoardId()},r.prototype.createBoardPanelBinding=function(){return this,$("a.ups-board-link").click(function(e){var t;if(e.currentTarget.attributes["data-mobile"])return UnisporkalEngine.Header.Getty.Base.MobileMenu.closeAllMenus(),a(e.currentTarget)&&(t=o())?t.togglePanel(e):window.location.href=e.currentTarget.attributes["data-url"].value})},r.prototype.currentBoardId=function(){return window.localStorage.getItem("collaboration.currentBoardId")||"default"},r.prototype.fetchCurrentBoard=function(){var e;return e=this,this.sendAjax({url:this.boardPath()+".json?assetsPageSize=1",type:"GET",success:function(t){var r;return n.call(t.permissions,"CanAddAsset")>=0?(r=e.getBoardStatsFromBoard(t),e.updateBoardCountFromStats(r)):(e.setCurrentBoard("default"),e.fetchStats())}})},r.prototype.fetchStats=function(){var e;return"default"!==this.currentBoardId()?this.fetchCurrentBoard():(e=this,this.sendAjax({url:this.boardPath()+"/stats",type:"GET",success:function(t){return e.updateBoardCountFromStats(t)}}))},r.prototype.getBoardStatsFromBoard=function(e){var t,n;return{id:e.id,asset_count:(null!=e?e.total_asset_count:void 0)||(null!=e?e.asset_count:void 0)||(null!=e&&null!=(t=e.assets)?t.length:void 0),comment_count:null!=e&&null!=(n=e.comments)?n.length:void 0}},r.prototype.setCurrentBoard=function(e){return window.localStorage.setItem("collaboration.currentBoardId",e)},r.prototype.updateBoardCountFromStats=function(e){var t,n;return t=e.total_asset_count||e.asset_count||(null!=(n=e.assets)?n.length:void 0)||0,$(".ups-favorites-count").html(t),t>0?$(".ups-favorites-count").removeClass("ups-hidden"):$(".ups-favorites-count").addClass("ups-hidden")},r}(UnisporkalEngine.Header.Getty.Component)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.UnisporkalEngine.Header.Getty.Base.Cart=function(t){function n(){this.refreshCartData(),window.eventBus&&(this.eventBus=window.eventBus,this.eventBus.on("addToFancyCart",function(){return window.cart.addItem()}),this.eventBus.on("removeFromFancyCart",function(){return window.cart.removeItem()}))}return e(n,t),n.include(UnisporkalEngine.Header.Getty.Mixins),n.prototype.addItem=function(){return this.refreshCartData(),this.eventBus.triggerAllWindows("addToCartSuccess")},n.prototype.removeItem=function(){return this.refreshCartData(),this.eventBus.triggerAllWindows("removeFromCartSuccess")},n.prototype.refreshCartData=function(){var e;return e={Accept:"application/json"},this.sendAjax({url:"/purchase/carts/item-count",type:"GET",headers:e,success:this.updateCartUI})},n.prototype.updateCartUI=function(e){var t,n;try{if(t=$("header .ups-cart"),!(parseInt(e.ItemCount)>0))return t.find(".cart-empty").show(),t.find(".cart-full").hide(),t.find(".ups-badge").hide(),t.find(".ups-badge-number").html("0");if(t.find(".cart-empty").hide(),t.find(".cart-full").show(),t.find(".ups-badge").show(),t.find(".ups-badge-number").html(e.ItemCount),e.ItemCount>9)return t.find(".ups-badge").removeClass("circle"),t.find(".ups-badge").addClass("capsule")}catch(e){return n=e,UnisporkalEngine.Header.Getty.Logger.error("Cart#updateCartUI was unable to update.",n)}},n}(UnisporkalEngine.Header.Getty.Component)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;this.UnisporkalEngine.Header.Getty.Base.Search=function(t){function n(){var e;this.domSelector=$("section.ups-search"),this.storedParams=this.getStoredSearchParams(),this.searchParams=["family","excludenudity","license","clarifications","agreements"],this.searchConfig={type:this.storedParams.assettype||"image",family:this.storedParams.family,excludenudity:this.storedParams.excludenudity,transferSearch:!1,showRecentSearches:!0,placeholder:null,phrase:null,license:null,clarifications:null,agreements:null},0===Object.keys(this.storedParams).length&&(this.searchConfig.family="creative"),this.recentSearches=this.getLocalStorageItem("search.recentSearches2",{type:"json"}),this.numAssetsViewed=this.getLocalStorageItem("search.numAssetsViewed",{type:"number"}),this.lastSearchParameters=this.getLocalStorageItem("search.lastSearchParameters",{type:"queryParams"}),this.updateRecentSearches(this.recentSearches),this.updateSearchConfig(this.searchConfig),this.bindRecentSearches(),this.bindFilterEvents(),this.bindFilterButton(),this.bindSearchInput(),this.bindSearchForm(),this.bindSearchCamera(),this.bindSearchActions(),this.attachAutoSuggest(),this.trackUiLocation=$(".ups-desktop.full-header section.ups-search").attr("data-track-ui-location")||"search_bar_header",this.domSelector.find(".combo-bar").removeClass("hidden-media-types"),e=this,window.eventBus&&(eventBus.on(this.SEARCH_CONFIG_EVENT,function(t){return e.updateSearchConfig(t)}),$(document).ready(function(){return eventBus.trigger(e.SEARCH_LOADED_EVENT,e.searchConfig)}))}return e(n,t),n.include(UnisporkalEngine.Header.Getty.Mixins),n.prototype.SEARCH_LOADED_EVENT="ups-header.search-loaded",n.prototype.SEARCH_CONFIG_EVENT="ups-header.search-config",n.prototype.SEARCH_SUBMIT_EVENT="ups-header.search-submit",n.prototype.SEARCH_ACTION_EVENT="ups-header.search-action",n.prototype.bindSearchActions=function(){var e;if(window.eventBus)return e=this,eventBus.on(this.SEARCH_ACTION_EVENT,function(t){switch(t.type){case"show":return e.domSelector.removeClass("off");case"hide":return e.domSelector.addClass("off");case"open":return UnisporkalEngine.Header.Getty.Base.MobileMenu.showSearchMenu()}})},n.prototype.bindRecentSearches=function(){var e;return e=this,this.domSelector.find("section.ups-recent-searches .ups-menu-item").click(function(t){var n;return n=t.target.innerHTML,e.setDOMSearchTerm(n),e.search()})},n.prototype.bindFilterEvents=function(){var e;return e=this,this.domSelector.find("div.ups-search-selections a").click(function(t){var n,r;return t.stopPropagation(),n=$(this)[0],r=n.dataset.filterKey,e.handleFilterSelect(r),e.domSelector.find("div.ups-search-selections").hide()}),this.domSelector.find("select.ups-mobile-search-options").on("change",function(t){var n;return n=t.target.value,e.handleFilterSelect(n)})},n.prototype.bindFilterButton=function(){var e,t,n;return n=this,t=n.domSelector.find("div.media-types"),e=n.domSelector.find("div.ups-search-selections"),t.click(function(t){return t.preventDefault(),e.toggle()}),$(document).click(function(n){if(!($(n.target).is(e)||$(n.target).is(t)||t.has(n.target).length))return n.stopPropagation(),e.hide()})},n.prototype.handleFilterSelect=function(e){var t;if(t=this.searchConfig.type+"."+this.searchConfig.family,e!==t)return-1!==e.indexOf(".")?(this.searchConfig.type=e.substring(0,e.indexOf(".")),this.searchConfig.family=e.substring(e.indexOf(".")+1,e.length)):(this.searchConfig.type=e,this.searchConfig.family=null),this.setDOMFilterState(this.searchConfig.type,this.searchConfig.family),0!==this.getDOMSearchTerm().length?this.search():void 0},n.prototype.bindSearchInput=function(){var e;return e=this,this.getDOMSearchInput().on("focus",function(){return e.domSelector.find(".combo-bar").toggleClass("focused")}),this.getDOMSearchInput().on("focusout",function(){return e.domSelector.find(".combo-bar").toggleClass("focused")}),this.getDOMSearchButton().on("click",function(){return e.search()})},n.prototype.bindSearchForm=function(){var e;return e=this,this.getDOMSearchForm().on("submit",function(t){return t.preventDefault(),e.search()}),this.getDOMMobileSearchForm().on("submit",function(t){return t.preventDefault(),e.search()})},n.prototype.bindSearchCamera=function(){return this.getDOMSearchCamera().on("click",function(e){var t;if($(e).trigger("track.sbi.cameraIconClick"),null!=(t=window.combinedGtmTracking)&&t.setUIElementLocation("search_bar_home"),window.eventBus)return eventBus.trigger("sbi-open-modal")})},n.prototype.updateSearchCameraState=function(e){return"image.creative"===e?this.getDOMSearchCamera().show():this.getDOMSearchCamera().hide()},n.prototype.getDOMSearchButton=function(){return this.domSelector.find("#btnSearch.ups-magnify")},n.prototype.getDOMSearchCamera=function(){return this.domSelector.find("a.ups-search-camera")},n.prototype.getDOMSearchInput=function(e){var t;return t="input[name='phrase']",e&&e.all||(t+=":visible"),this.domSelector.find(t)},n.prototype.getDOMSearchForm=function(){return this.domSelector.find(".ups-search-form")},n.prototype.getDOMMobileSearchForm=function(){return this.domSelector.find(".ups-mobile-search-form")},n.prototype.getDOMSearchTerm=function(){return this.getDOMSearchInput().val()},n.prototype.setDOMSearchTerm=function(e){return e&&(e=decodeURIComponent(e)),this.getDOMSearchInput({all:!0}).val(e)},n.prototype.setDOMType=function(e){return this.setDOMFilterState(e,this.searchConfig.family)},n.prototype.setDOMFamily=function(e){return this.setDOMFilterState(this.searchConfig.type,e)},n.prototype.setDOMFilterState=function(e,t){var n,r;return r=e,t&&["creative","editorial"].indexOf(t)>-1&&(r+="."+t),this.domSelector.find("svg.check").hide(),n=this.domSelector.find("a[data-filter-key='"+r+"']").data("label"),this.domSelector.find("div.media-types-selection > span").html(n),this.domSelector.find("a[data-filter-key='"+r+"'] svg").show(),this.updateSearchCameraState(r),this.domSelector.find("select.ups-mobile-search-options").val(r)},n.prototype.getDOMRecentSearches=function(){return this.domSelector.find("section.ups-recent-searches")},n.prototype.getSearchUrl=function(){var e,t,n,r,i;for(r={phrase:this.searchConfig.phrase},i=this.searchParams,e=0,t=i.length;e<t;e++)n=i[e],this.searchConfig[n]&&(r[n]=this.searchConfig[n]);return"/search/url-builder/"+this.searchConfig.type+"?"+$.param(r)},n.prototype.getStoredSearchParams=function(){var e,t,n,r,i,o,a,s,l;if(t=localStorage.getItem("search.lastSearchParameters"),o={},null!=t)for(a=t.toLowerCase().split("&"),e=0,n=a.length;e<n;e++)i=a[e],s=i.split("="),r=s[0],l=s[1],o[r]=decodeURIComponent(l);return o},n.prototype.clearSearchSession=function(){if(window.giSessionStorage)return giSessionStorage.removeItem("contexts")},n.prototype.attachAutoSuggest=function(){if($("#ups-search-phrase").length&&$("#ups-search-phrase").gettyAutosuggest)return $("#ups-search-phrase").gettyAutosuggest(),$("#ups-mobile-search-phrase").gettyAutosuggest()},n.prototype.updateRecentSearches=function(e){return this.isInvalid(e)||this.isEmptyObject(e)?$("section.ups-recent-searches").remove():($("section.ups-recent-searches").find("div.ups-menu-item").remove(),$.each(e,function(e){return $("section.ups-recent-searches").append('<div class="ups-menu-item">'+e+"</div>")}))},n.prototype.triggerSearchSubmit=function(){var e;return e={phrase:this.searchConfig.phrase,type:this.searchConfig.type,family:this.searchConfig.family},eventBus.trigger(this.SEARCH_SUBMIT_EVENT,e)},n.prototype.updateSearchConfig=function(e){var t,n;n=[];for(t in e){switch(t){case"phrase":this.setDOMSearchTerm(e[t]);break;case"type":this.setDOMType(e[t]);break;case"family":this.setDOMFamily(e[t]);break;case"placeholder":e[t]&&this.getDOMSearchInput().attr("placeholder",e[t]);break;case"showRecentSearches":e[t]?this.getDOMRecentSearches().show():this.getDOMRecentSearches().hide()}n.push(this.searchConfig[t]=e[t])}return n},n.prototype.search=function(){return $(document).trigger("track.ups-header.search-submit",this.trackUiLocation),this.searchConfig.phrase=this.getDOMSearchTerm().trim(),this.searchConfig.transferSearch?this.triggerSearchSubmit():(this.clearSearchSession(),window.location.href=this.getSearchUrl())},n}(UnisporkalEngine.Header.Getty.Component)}.call(this),function(){this.UnisporkalEngine.Header.Getty.Base.Spectrum=function(){function e(){var e;e=this,eventBus&&(eventBus.on("header.getty.fotoLinkClicked",function(){return e.trackEvent("Header FOTO Link Click")}),eventBus.on("header.getty.fotoStripClicked",function(){return e.trackEvent("Header FOTO Strip Click")}),eventBus.on("header.getty.fotoCloseClicked",function(){return e.trackEvent("Header FOTO Close Click")}))}return e.prototype.trackEvent=function(e,t){var n;return n=this.mapDefaultSignal(tracking_data),n.event=e,t&&t.item&&(n.properties.item=t.item),this.postSignalToSpectrum(n)},e.prototype.mapDefaultSignal=function(e){return{source:e.site_nickname,properties:{url:location.href,referer:document.referrer,correlation_id:e.request_id,visitor_id:e.visitor_id,user_id:e.userid}}},e.prototype.postSignalToSpectrum=function(e){return $.post(tracking_data.spectrum_host_three+"signals",JSON.stringify([e]))},e}()}.call(this),function(){this.UnisporkalEngine.Header.Getty.Base.Tracker=function(){function e(){this.createEventListeners(),this.createTrackingListeners(),this.applyStorageTracking()}return e.prototype.createEventListeners=function(){return $(document).on("track.siteCatalystBeforeSend",function(){return function(){var e;if(window.upsData)return"consumer"===window.upsData.headerExperience,e=e||{},window.upsData.tracking?(s.events=window.upsData.tracking.events,window.upsData.tracking=null):void 0}}()),$(document).on("track.ups-header.search-submit",function(e){return function(){return window.upsData.tracking={events:"event11"},e.addStorageItem("search-event","keyword")}}(this))},e.prototype.createTrackingListeners=function(){return $(document).on("click","a[data-nav]",function(e){var t;return t=$(e.currentTarget).data("nav"),window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking(t),!0}),$("a[data-nav^='nav_Account_StartPage']").on("click",function(){return window.pageTrackingVariables=Object.keys($.siteCatalyst.pageTrackingVariables()).join(","),s.linkTrackVars=window.pageTrackingVariables+",linkTrackEvents",s.events="event193",s.linkTrackEvents="event193",s.tl(!0,"o","SettingLandingPage-StartPage"),!0}),$("a[data-nav^='nav_Account_RecentlyViewed']").on("click",function(){return window.pageTrackingVariables=Object.keys($.siteCatalyst.pageTrackingVariables()).join(","),s.linkTrackVars=window.pageTrackingVariables+",linkTrackEvents",s.events="event204",s.linkTrackEvents="event204",s.tl(!0,"o","recentlyviewed-Header"),!0})},e.prototype.getLocalTracking=function(){var e;return e=localStorage.getItem("ups-tracking"),e?JSON.parse(e):{}},e.prototype.applyStorageTracking=function(){var e,t;t=this.getLocalTracking();for(e in t)window.tracking_data&&(window.tracking_data[e]=t[e]);return localStorage.removeItem("ups-tracking")},e.prototype.addStorageItem=function(e,t){var n;return n=this.getLocalTracking(),n[e]=t,localStorage.setItem("ups-tracking",JSON.stringify(n))},e}()}.call(this),function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,r=window.Cookies=e();r.noConflict=function(){return window.Cookies=n,r}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,i,o){if("undefined"!=typeof document){if(arguments.length>1){o=e({path:"/"},r.defaults,o),"number"==typeof o.expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(i);/^[\{\[]/.test(a)&&(i=a)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in o)o[l]&&(s+="; "+l,!0!==o[l]&&(s+="="+o[l].split(";")[0]));return document.cookie=t+"="+i+s}for(var u={},c=function(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)},d=document.cookie?document.cookie.split("; "):[],p=0;p<d.length;p++){var f=d[p].split("="),h=f.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var m=c(f[0]);if(h=(n.read||n)(h,m)||c(h),this.json)try{h=JSON.parse(h)}catch(e){}if(u[m]=h,t===m)break}catch(e){}}return t?u[t]:u}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},arguments)},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=t,r}
return t(function(){})}),function(){var t=function(e,t){function r(){this.constructor=e}for(var i in t)n.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;this.UnisporkalEngine.Header.Getty.LoggedIn.User=function(n){function r(){this.cookie=this.getName()}return t(r,n),r.include(UnisporkalEngine.Header.Getty.Mixins),r.prototype.getName=function(){var e,t,n;try{return n=/\+/g,t=Cookies.get("in"),t||(t=Cookies.get("dn")),t=this.stripHtml(t),t&&(t=t.replace(n," ")),this.name=t||null}catch(t){return e=t,UnisporkalEngine.Header.Getty.Logger.error("Could not retrieve user details from cookie.",e),null}},r.prototype.updateDisplayName=function(){try{return $("span.ups-display-name").html(this.cookie)}catch(t){return UnisporkalEngine.Header.Getty.Logger.error("Could not set username in the UI.",e)}},r.prototype.fetchDisplayName=function(){},r.prototype.refreshName=function(){return this.cookie=this.getName(),this.updateDisplayName()},r.prototype.servicePath=function(){return"/partial-svc/user"},r.prototype.stripHtml=function(e){return $(e).text()?null:e},r.prototype.domain=function(){return window.location.host.substring(window.location.host.indexOf("."))},r.prototype.removeSessionCookie=function(){return Cookies.remove("dn")},r}(UnisporkalEngine.Header.Getty.Component)}.call(this),function(){this.UnisporkalEngine.Header.Getty.Base.UI=function(){function e(){new UnisporkalEngine.Header.Getty.Base.Account,new UnisporkalEngine.Header.Getty.Base.MobileMenu,new UnisporkalEngine.Header.Getty.Base.Search,new UnisporkalEngine.Header.Getty.Base.Tracker,new UnisporkalEngine.Header.Getty.Base.Spectrum,window.board=new UnisporkalEngine.Header.Getty.Base.Board,window.cart=new UnisporkalEngine.Header.Getty.Base.Cart,this.applyExperience(),this.bootstrapAngular(),this.prepareFOTOStrip(),this.initializeSearch()}return e.prototype.MAX_FOTO_STRIP_VIEWS=5,e.prototype.applyExperience=function(){return $("#getty-header").hasClass("consumer")&&$("html").addClass("ups-header-consumer"),$(".ups-search").length?$("html").addClass("ups-header-consumer-search"):0===$(".ups-desktop section.ups-bottom").length?$("html").addClass("ups-header-consumer-simple"):void 0},e.prototype.bootstrapAngular=function(){var e,t;e=$("*[ng-app]").length,t=$("#getty-header"),e?window.giHeader=angular.module($("*[ng-app]").attr("ng-app")):(window.giHeader=angular.module("giHeader",[]),angular.bootstrap(t,["giHeader"]))},e.prototype.getUrlParams=function(e){var t,n,r;for(e=e.split("+").join(" "),t={},r=void 0,n=/[?&]?([^=]+)=([^&]*)/g;r=n.exec(e);)t[decodeURIComponent(r[1])]=decodeURIComponent(r[2]);return t},e.prototype.initializeSearch=function(){var e,t;if((t=this.getUrlParams(document.location.search).phrase)&&(e=document.getElementById("ups-search-phrase")))return e.value=decodeURIComponent(t)},e.prototype.initializeUser=function(){var e,t;return e=new UnisporkalEngine.Header.Getty.LoggedIn.User,t=e.getName(),t&&"null"!==t?e.updateDisplayName():e.fetchDisplayName(),e.removeSessionCookie()},e.prototype.prepareFOTOStrip=function(){var e;if($(".ups-foto-strip").find(".ups-foto-close").click(function(){return window.localStorage["fotostrip.hiddenAt"]=Date.now(),$(".ups-foto-strip").hide()}),$("a.ups-foto-link").click(function(){return window.eventBus.trigger("header.getty.fotoLinkClicked")}),$("a.ups-foto-strip-link").click(function(){return window.eventBus.trigger("header.getty.fotoStripClicked")}),$(".ups-foto-close").click(function(){return window.eventBus.trigger("header.getty.fotoCloseClicked")}),e=this,"/"===document.location.pathname&&visitorExperiencesData.fotostrip&&(window.localStorage["fotostrip.viewed"]||(window.localStorage["fotostrip.viewed"]=0),parseInt(window.localStorage["fotostrip.viewed"])<e.MAX_FOTO_STRIP_VIEWS&&!window.localStorage["fotostrip.hiddenAt"]))return window.localStorage["fotostrip.viewed"]=parseInt(window.localStorage["fotostrip.viewed"])+1,$(".ups-foto-strip").css("display","flex")},e}(),$(document).safeReady(function(){if(window.upsData&&(window.upsData.ui=new UnisporkalEngine.Header.Getty.Base.UI,window.upsData.loggedIn))return window.upsData.ui.initializeUser()})}.call(this),function(){var e,t,n,r,i,o,a,l,u,c,d,p,f,h,m,g,v;u={fullHeader:function(){return $("#site-header")},mainBody:function(){return $(".main_body")},footer:function(){return $("#footer")},rightMenuToggle:function(){return $(".right-off-canvas-toggle-menu")},boardsMenu:function(){return $("li.boards-icon a, div.desktop-exp a")},userToggle:function(){return $("#user_toggle")},burgerToggle:function(){return $("#burger_toggle")},leftMenuToggle:function(){return $(".left-off-canvas-toggle-menu")},inTabletView:function(){return"tablet"===window.viewportSize},closePanelButton:function(){return $(".close-panel")},reactivateSubButton:function(){return $("#reactivate-sub")},subscriptionStatus:function(){return $(".expired-notification")}},a=!0,window.bs={},f=function(t){if(!e())return t.stopPropagation(),a&&(eventBus.trigger("loadBoardsMenu"),a=!1,window.bs.refreshMenu=!1),window.bs.refreshMenu&&(eventBus.trigger("loadBoardsMenu"),window.bs.refreshMenu=!1),$("nav.actions li#open_board").addClass("open"),$("div.ups-actions div.desktop-exp").addClass("open"),c()},c=function(){if(e())return l(),o(),v(),i()},o=function(){return $(".boards-icon, .desktop-exp").on("mouseleave",function(){return t()})},e=function(){return $("nav.actions li#open_board, div.ups-actions div.desktop-exp").hasClass("open")},t=function(){return $("nav.actions li#open_board, div.ups-actions div.desktop-exp").removeClass("open")},l=function(){return $(document).on("click",".board-item-link",function(e){return e.preventDefault(),eventBus.trigger("favorites.boardsMenuTitleClicked"),p()?eventBus.trigger("collaboration.boardMenuItemClicked",$(this).data("id")):location.href=$(this).data("url")})},v=function(){return $(document).on("click",".view-board-link",function(e){return e.preventDefault(),eventBus.trigger("favorites.boardsMenuViewAllClicked"),location.href="/collaboration/boards"})},i=function(){return $(document).on("click","a.create-board-link",function(e){return e.preventDefault(),t(),eventBus.trigger("favorites.boardsMenuCreateClicked"),eventBus.trigger("collaboration.createBoardMenuItemClicked"),$(document).off("click")})},p=function(){return $("body").hasClass("search_container")||$("body").hasClass("asset_detail_container")},m=function(e){var t,n;return n=function(){var e,t,n,r;return t=function(e){"number"==typeof e&&e>0&&($("div#credits-remaining").html(e),$("ul.buy-credits-expanded").show()),0===e&&$("ul.pricing").addClass("zero-credits")},n=function(e){0===e&&$("ul.pricing").addClass("zero-sub"),$("div.sub-count").html(e),null!==e&&$("ul.subscribe-expanded").show()},r=function(e){"number"==typeof e&&e>0&&($("div#team-credits-remaining").html(e),$("ul.team-credits").show())},e=function(e){return!!e&&"object"==typeof e},$.ajax("/customer-credit-and-sub-counts/current",{dataType:"json",method:"GET",success:function(i){var o;o=e(i)?i:{},r(o.team_credits_available),t(o.credits_available),n(o.sub_downloads_remaining)},error:function(){}})},e.preventDefault(),$("body").hasClass("show-right-menu")?$("body").removeClass("show-right-menu"):($("ul.buy-credits-expanded").hide(),$("ul.subscribe-expanded").hide(),$("ul.team-credits").hide(),e.stopPropagation(),"expired"===$(".expired-notification").data("sub-status")&&d("event59"),t=$(this).data("istock-user-id"),null!=t&&0!==t||$.ajax({url:"/user-panel/istock-user-id",dataType:"json",success:function(e){return t=e}}),n(),$("body").addClass("show-right-menu"))},h=function(){return $("body").hasClass("show-left-menu")?$("body").removeClass("show-left-menu"):$("body").addClass("show-left-menu")},r=function(){if($("body").hasClass("show-left-menu")&&$("body").removeClass("show-left-menu"),$("body").hasClass("show-right-menu"))return $("body").removeClass("show-right-menu")},g=function(){var e;if("undefined"!=typeof s)return e="event60",s.linkTrackEvents=e,s.events=e,s.t(!0,"o",e)},d=function(e){if("undefined"!=typeof s)return s.linkTrackEvents=e,s.events=e,s.tl(!0,"o",e)},n=function(){if($("body").hasClass("show-right-menu"))return $("body").removeClass("show-right-menu")},$(".pricing a").click(function(){return s.linkTrackVars="eVar66",s.eVar66="Nav_Pricing",s.tl(!0,"o",s.eVar66),tracking_data.nav="Nav_Pricing"}),window.Engine||(window.Engine={}),window.Engine.Header={pageElements:u,init:function(){return u.boardsMenu().on("mouseenter",function(e){return f(e)}),u.rightMenuToggle().on("click",m),u.leftMenuToggle().on("click",h),u.mainBody().on("click",r),u.footer().on("click",r),u.closePanelButton().on("click",r),u.reactivateSubButton().on("click",g),eventBus.on("boardPanelOpened",n)}},$(document).safeReady(function(){if(window.Engine.Header.init(),$("#corbis_modal").length>0&&$.gettyModal&&$.gettyModal.find("#corbis_modal"))return $.gettyModal.find("#corbis_modal").open()}),$(document).on("track.ui-element.search-bar-default",function(){return function(){var e;return null!=(e=window.combinedGtmTracking)?e.setUIElementLocation("search_bar_header"):void 0}}()),$(document).on("track.ui-element.search-bar-istock-home",function(){return function(){var e;return null!=(e=window.combinedGtmTracking)?e.setUIElementLocation("search_bar_home"):void 0}}()),$(document).on("track.ui-element.search-bar-board",function(){return function(){var e;return null!=(e=window.combinedGtmTracking)?e.setUIElementLocation("search_bar_board"):void 0}}())}.call(this),function(){angular.module("giHeader",["ngCookies"]).directive("languagePickerAndUsername",["$document","$window","$cookies","$location",function(e,t,n,r){return{restrict:"E",replace:!0,templateUrl:"header/espaws/_language_picker_and_user_name_dropdowns.html",scope:{},link:function(i){return i.init=function(){var t;return e.on("click",function(){var e,t,n;e=angular.element("#locale-dropdown-control"),e[0].checked=!1,t=angular.element("#logout-dropdown-control"),null!=(n=t[0])&&(n.checked=!1)}),t=angular.element(".user-settings"),t.on("click",function(e){return e.stopPropagation()})},i.setLocale=function(e){var o;return o=new Date,o.setDate(o.getDate()+2),n.put("_culture",e,{expires:o,domain:i.getDomain(r.host())}),t.location.reload()},i.getDomain=function(e){var t,n;return t=e,null!==e&&(n=e.split(".").reverse()),null!==n&&n.length>1&&(t=n[1]+"."+n[0],(-1!==e.toLowerCase().indexOf(".co.uk")||-1!==e.toLowerCase().indexOf(".co.jp")&&n.length>2)&&(t=n[2]+"."+t)),t},i.init()}}}])}.call(this),function(){var e,n,r,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;i={images:{"default":"general_search_hint",mobile:"mobile_search_hint"},photos:{"default":"photo_search_hint",mobile:"mobile_search_hint"},illustrations:{"default":"illustration_search_hint",mobile:"mobile_search_hint"},vectors:{"default":"vector_search_hint",mobile:"mobile_search_hint"},video:{"default":"video_search_hint",mobile:"mobile_search_hint"}},function(e){var t;null==e.fn.giSearchBar&&(t=[],e.fn.giSearchBar=function(e){var n,i,o,a,s;if(n=this,0!==n.length){for(n.length>1&&(n=n.first()),s=void 0,o=0,a=t.length;o<a;o++)i=t[o],i.element.get(0)===n.get(0)&&(s=i);return null==s&&(s=new r(n,e),t.push(s)),s}},e(function(){return e(".search-bar").giSearchBar()}))}(jQuery),e=function(){function e(){this.listenerHash={}}return e.prototype.on=function(e,t){if(null==this.listenerHash[e]||-1===this.listenerHash[e].indexOf(t))return null==this.listenerHash[e]&&(this.listenerHash[e]=[]),this.listenerHash[e].push(t)},e.prototype.off=function(e){var t;if(null!=this.listenerHash[e])return t=this.listenerHash[e],t>-1?delete this.listenerHash[e][t]:void 0},e.prototype.trigger=function(e,t){var n,r,i,o,a;if(null==this.listenerHash[e])return!1;for(o=this.listenerHash[e],a=[],r=0,i=o.length;r<i;r++)n=o[r],a.push(function(e){return e(t)}(n));return a},e}(),r=function(e){function r(e,t){return null==t&&(t=[]),this.displaySearchByImage=o(this.displaySearchByImage,this),this.setPlaceholder=o(this.setPlaceholder,this),this.setLastSearchedType=o(this.setLastSearchedType,this),this.getLastSearchedType=o(this.getLastSearchedType,this),r.__super__.constructor.apply(this,arguments),this.element=$(e),this.window=t.window||$(window),this.siteMap=t.siteMap||window.siteMap||new SiteMap(window.location),this.giSessionStorage=t.giSessionStorage||window.giSessionStorage||null,this.location=t.location||window.location,this.inputElement=$(this.element.attr("data-input-element")||this.element.find("input[type=text]")),this.defaultParams=this.element.attr("data-default-params")||"",this.baseURL=t.baseURL||this.siteMap.cleanRelativePath("/"),this.autoSuggestEndpoint=this.element.attr("data-autosuggest-from"),this.defaultAssetType=this.element.attr("data-default-asset-type")||this.getLastSearchedType()||"images",this.searchByImageIcon=this.element.find(".search-bar__camera"),this.searchByImageSelector=window.currentSite.isGetty?".search-camera-icon":".search-bar__camera",this.typePicker=new n(this.element.find(".search-bar__istock-media-filter"),this.defaultAssetType,this.window),this.typePicker.on("change",function(e){return function(){return e.setPlaceholder(),e.displaySearchByImage()}}(this)),this.element.find("form").on("submit",function(e){return function(){return e.element.hasClass("search-bar--persistent-selector")||e.submitSearch(),!1}}(this)),this.inputElement.on("input",function(e){return function(){return null!=e.inputElement.val()?e.element.addClass("has-text"):e.element.removeClass("has-text"),!1}}(this)),this.inputElement.on("focus",function(e){return function(){return e.trigger("focus",new CustomEvent("focus"))}}(this)),this.inputElement.on("blur",function(e){return function(){return e.trigger("blur",new CustomEvent("blur"))}}(this)),this.element.on("click",".search-bar__clear",function(e){return function(){return e.element.removeClass("has-text"),e.inputElement.val("").focus(),!1}}(this)),this.element.on("click",this.searchByImageSelector,function(e){return function(){var t;return e.element.trigger("track.sbi.cameraIconClick"),null!=(t=window.combinedGtmTracking)&&t.setUIElementLocation("search_bar_home"),eventBus.trigger("sbi-open-modal"),!1}}(this)),this.window.on("resize",function(e){return function(){return e.setPlaceholder()}}(this)),this.setPlaceholder(),this.displaySearchByImage(),this.autoSuggestEndpoint&&this.inputElement.attr("data-autosuggest-from",this.autoSuggestEndpoint),this.autoSuggest=this.inputElement.gettyAutosuggest(),this}return a(r,e),r.prototype.getLastSearchedType=function(){return null!=this.giSessionStorage?this.giSessionStorage.getItem("search_bar_media_type"):null},r.prototype.setLastSearchedType=function(e){this.giSessionStorage.setItem("search_bar_media_type",e)},r.prototype.setPlaceholder=function(){var e,n,r;return e=this.currentAssetType(),null!=i[e]&&((void 0===this.inputElement.attr("ng-attr-placeholder")||!1===this.inputElement.attr("ng-attr-placeholder"))&&(r=this.window.width()<800?"mobile":"default",n=t(i[e][r]),this.inputElement.attr("placeholder",n),!1))},r.prototype.displaySearchByImage=function(){var e;return this.searchByImageIcon.length>0&&(this.searchByImageIcon.addClass("shown"),e=this.currentAssetType(),/video/.test(e)?this.searchByImageIcon.addClass("video-selected"):this.searchByImageIcon.removeClass("video-selected")),!1},r.prototype.currentAssetType=function(){return this.typePicker.currentAssetType()},r.prototype.getSearchTerms=function(){return this.inputElement.val()},r.prototype.submitSearch=function(){var e,t,n,r,i,o,a;return n=this.inputElement.val(),(null!=n?n.length:void 0)>0&&(e=this.currentAssetType(),a=/video/.test(e)?"film":"image",t=this.element.find("input[name=keywordids]").val(),r=/\/$/.test(this.baseURL)?this.baseURL.substring(0,this.baseURL.length-1):this.baseURL,i=[],this.defaultParams&&"film"!==a&&i.push(this.defaultParams),i.push("phrase="+encodeURIComponent(n)),t&&i.push("keywordids="+t),/photos/.test(e)&&i.push("mediatype=photography"),/illustrations/.test(e)&&i.push("mediatype=illustration"),/vectors/.test(e)&&i.push("mediatype=illustration"),/vectors/.test(e)&&i.push("assetfiletype=eps"),o="?"+i.join("&"),this.location.href=r+"/search/2/"+a+o,this.setLastSearchedType(e),!1)},r}(e),n=function(e){function t(e,n,r){return null==n&&(n="images"),null==r&&(r=window),t.__super__.constructor.apply(this,arguments),this.element=$(e),this.window=r,null==this.element.attr("data-type-selected")&&this.element.attr("data-type-selected",n),this.element.on("click",".media-filter-label",function(e){return function(){return e.element.hasClass("disabled")||void 0!==e.element.attr("is-media-type-checker")&&!1!==e.element.attr("is-media-type-checker")||e.element.toggleClass("open"),!1}}(this)),this.element.on("mouseout",function(e){return function(){return!$(e.element.selector+":hover").length>0&&e.element.removeClass("open"),!1}}(this)),this.element.on("click",".option",function(e){return function(t){return e.element.attr("data-type-selected",$(t.currentTarget).attr("data-value")),e.element.removeClass("open"),e.trigger("change",new CustomEvent("change")),!1}}(this)),this.window.on("resize",function(){return function(){return!1}}()),this}return a(t,e),t.prototype.currentAssetType=function(){return this.element.attr("data-type-selected")},t}(e),function(e){function t(e,n){return null==n&&(n=window),t.__super__.constructor.apply(this,arguments),this.element=$(e),this.window=n,this}a(t,e),t.prototype.getSelectedAssetType=function(){return"rf_photos"}}(e)}.call(this),function(){!function(e){var t;t=[],e.fn.localePicker=function(){var n,r,i,o;for(r=this,n=function(t){var n,r,i,o,a,l,u;return this.element=t,r=this.element.find("#language-modal-bg"),i=this.element.find("#language-modal-desktop"),n=this.element.find("[data-base-path]").attr("data-base-path"),o=this.element.find("[data-country]").attr("data-country"),a=this.element.find("[data-language]").attr("data-language"),e(document).on("searchResultsChanged",function(e,t){if(t.nonlocalized_path)return n=t.nonlocalized_path}),u=[],o&&u.push(o),a&&u.push(a),u=u.join("/"),u&&(u="/"+u),this.element.on("click",".close-modal",function(){return l.closeModal(),!1}),this.element.on("click",".select-locale",function(t){var r,i,o,a,s,u,c,d,p;return r=e(this).attr("data-country-code").toLowerCase(),i=e(this).attr("data-country-name"),u=e(this).attr("data-language-code").toLowerCase(),c=e(this).attr("data-language-name"),s=e(this).is("[data-default-language]"),l.setLocaleCookie(r,u),l.setOmniture(i,c),(a=null!=(p=e("link[hreflang|='"+u+"-"+r+"']"))?p.attr("href"):void 0)?(o=document.createElement("a"),o.href=a,d=o.pathname,"/"!==d[0]&&(d="/"+d),window.location.href=""+d+window.location.search):"us"===r.toLowerCase()&&"en"===u.toLowerCase()?window.location.href=n:window.location.href=s?"/"+r+n:"/"+r+"/"+u+n,t.preventDefault(),!1}),this.element.on("click",".select-country",function(t){var n,r;return n=e(this).attr("data-country-code"),r=e(this).attr("data-country-name"),l.openLanguageModal(n),l.setOmniture(r),t.preventDefault(),!1}),this.element.on("click",".open-country",function(e){l.openModal(),l.openCountryModal(),e.preventDefault()}),this.element.on("click",".open-language",function(t){var n;n=e(this).attr("data-country-code"),l.openModal(),l.openLanguageModal(n),t.preventDefault()}),this.element.on("click",".region-group",function(){l.toggleGroups(e(this))}),l={openModal:function(){e("body").css("overflow","hidden"),r.removeClass("hidden"),i.addClass("active")},closeModal:function(){e("body").css("overflow",""),r.addClass("hidden"),i.removeClass("active countrypicker languagepicker"),i.empty()},openCountryModal:function(){e.ajax({url:u+"/locale-picker/countries",type:"GET",cache:!1,dataType:"html"}).done(function(e){i.removeClass("languagepicker").addClass("countrypicker active"),i.html(e)})},openLanguageModal:function(t){e.ajax({data:{country:t},url:u+"/locale-picker/languages",type:"GET",cache:!1,dataType:"html"}).done(function(e){i.removeClass("countrypicker").addClass("languagepicker active"),i.html(e)})},setLocaleCookie:function(t,n){var r;r="country="+t.toLowerCase()+"&language="+n.toLowerCase(),e.cookie.raw=!0,e.cookie("dloc",r,{domain:"."+window.location.hostname.replace(/^www\./,""),path:"/",expires:1825})},setOmniture:function(e,t){var n;"undefined"!=typeof s&&(n="",e&&(n+="-"+e),t&&(n+="-"+t),s.linkTrackEvents="event28",s.events="event28",s.tl(!0,"o","LocSelectorModal"+n))},toggleGroups:function(e){e.siblings().removeClass("opened").addClass("closed"),e.hasClass("closed")?e.removeClass("closed").addClass("opened"):e.removeClass("opened").addClass("closed")},currentState:function(){return{basePath:n,currentCountry:o,currentLanguage:a}}},{element:this.element,currentState:l.currentState}},r.length>1&&(r=r.first()),o=void 0,i=0;i<t.length;){if(t[i].element.get(0)===r.get(0))return t[i];i++}return o=new n(r),t.push(o),o}}(jQuery)}.call(this),function(){var e,t,n,r;e={fullFooter:function(){return $("#footer")},regionPickerTrigger:function(){return $(".regionPickerTrigger")},regionPickerRegions:function(){return $(".pickable_region")},regionPickerLinks:function(){return $(".pickable_region a")},countryLanguageSelector:function(){return $(".language-name, .footer-flag")}},n=function(e){var t;if("mobile"!==window.viewportSize&&"tablet"!==window.viewportSize)return e.preventDefault(),t=$.gettyModal.find("#region_picker_modal"),t.open()},t=function(e){var t;return e.preventDefault(),t=$(this).data("region-redirect-href")||$(this).attr("href"),$(this).data("appendUrl")&&(t=t.split("?")[0]+"?originalUrl="+encodeURIComponent(window.Navigation.location())),window.Navigation.redirectTo(t)},r=function(e){if(e.preventDefault(),"undefined"!=typeof s)return s.linkTrackEvents="event28",s.events="event28",s.tl(!0,"o","LocSelectorModalOpen")},window.Engine||(window.Engine={}),window.Engine.Footer={pageElements:e,init:function(){e.regionPickerTrigger().on("click",n),e.regionPickerLinks().on("click",t);try{return e.countryLanguageSelector().on("click",r)}catch(e){e}}},$(document).safeReady(function(){return window.Engine.Footer.pageElements.fullFooter().length>0&&window.Engine.Footer.init(),$(".footer-locale").localePicker(),$(".footer-app-store .app-store-badge").click(function(){return $(document).trigger("track.footer.iosAppDownload")}),$(".footer-app-store .google-play-badge").click(function(){return $(document).trigger("track.footer.googlePlayDownload")})})}.call(this),function(){var e;e=function(){return $(".region_picker_popup_container")},$(document).safeReady(function(){if(e().length>0&&window.opener)return e().find("a").on("click",function(e){return e.preventDefault(),window.opener.location=this.href,window.close()})})}.call(this),function(e){e.deparam=function(t,n){var r={},i={"true":!0,"false":!1,"null":null};return e.each(t.replace(/\+/g," ").split("&"),function(t,o){var a,s=o.split("="),l=decodeURIComponent(s[0]),u=r,c=0,d=l.split("]["),p=d.length-1;if(/\[/.test(d[0])&&/\]$/.test(d[p])?(d[p]=d[p].replace(/\]$/,""),d=d.shift().split("[").concat(d),p=d.length-1):p=0,2===s.length)if(s=decodeURIComponent(s[1]),n&&(s=s&&!isNaN(s)?+s:"undefined"===s?void 0:void 0!==i[s]?i[s]:s),p)for(;c<=p;c++)l=""===d[c]?u.length:d[c],a=u[l]=c<p?u[l]||(d[c+1]&&isNaN(d[c+1])?{}:[]):s,u=a;else e.isArray(r[l])?r[l].push(s):r[l]=void 0!==r[l]?[r[l],s]:s;else l&&(r[l]=n?void 0:"")}),r}}(jQuery),angular.module("giIcons",[]),function(){angular.module("giIcons").directive("giIcon",function(){return{replace:!0,templateNamespace:"svg",templateUrl:function(e,t){return"icons/"+t.giIcon+".svg"}}})}.call(this),angular.module("giAdp",[]),function(){angular.module("giAdp").directive("giAdp",["$window","adpLauncher",function(e,t){var n;return n=function(e,t){var n,r;return n={},n.popup="license"===(null!=(r=window.location.hash)?r.replace("#",""):void 0)||"popup"===t.giAdp,null!=e.getPagerItems&&(n.pagerItems=e.getPagerItems()),n.target=t.target,n.assetId=t.assetId,n},{link:function(e,r,i){return r.on("click",function(r){var o,a;return a="license"===(null!=(o=window.location.hash)?o.replace("#",""):void 0)&&i.assetId&&""!==i.assetId?"/license/"+i.assetId:i.href,i.giAdpLinkSource&&$.storageQueueManager.localStore.set("adp-link-source",i.giAdpLinkSource),"istock"===tracking_data.site_nickname?(this.target="_self",this.href=a):(r.preventDefault(),t.launch(a,n(e,i)))})}}}])}.call(this),function(){this.AdpLauncher=function(){function e(e){this.window=e||window,this.document=this.window.document}return e.prototype.launch=function(e,t){var n,r;if("istock"===window.tracking_data.site_nickname&&(t.popup=!1),t=this._fillOptionsWithDefault(t),t.popup&&this._setPopupCookie(),this._isConsumerUrl(e)&&window.user.isRemembered&&!window.user.isBot&&(e="/license/"+t.assetId),!1===t.popup)return this.window.location.href=e;if(n=t.target.replace(/-/g,""),r=this._windowSpecs(t.popup),t.pagerItems)try{window.sessionStorage.setItem("pager_items",JSON.stringify(t.pagerItems))}catch(e){e,console.log("Warning: no sessionStorage on window.")}return window.open(e,n,r)},e.prototype._isConsumerUrl=function(e){return null!==e.match(/\/detail/i)},e.prototype._fillOptionsWithDefault=function(e){return null==e&&(e={}),"undefined"==typeof e.popup&&(e.popup=!0),e.target||(e.target=e.popup?"_blank":"_self"),e},e.prototype._setPopupCookie=function(){var e;return e=new UniPopupCookie(this.window.location.hostname),this.document.cookie=e.get()},e.prototype._windowSpecs=function(e){var t,n;return e?(n=1393,t=Math.floor(.96*$(this.window).height()),"width="+n+",height="+t+",top=50,left=50,alwaysRaised=yes,toolbar=0, directories=0,menubar=0,status=1,resizable=yes,location=0, scrollbars=yes,copyhistory=0"):null},e}(),"undefined"!=typeof angular&&null!==angular&&angular.module("giAdp").factory("adpLauncher",["$window",function(e){return new AdpLauncher(e)}])}.call(this),window.angular&&angular.module("giEvents",[]),function(){var e,t,n,r=[].slice;t=1e4,n=function(){function e(e,n){var r,i,o,a,s;this.window=e,this.document=n,this.myLocalStorage=new GiSafeStorage(window.localStorage),a=function(e){var t,n,r;if(r=e.match(/^event:([^\/]+)\/([^\/]+)\/([^\/]+)/))return r[0],t=r[1],n=r[2],r[3],[t,n]},s=function(e){return function(n){var r;return!!(r=o(n))&&(Date.now()-Number(r)<t||(e.myLocalStorage.removeItem(n),!1))}}(this),i=function(e){var t;if(t=a(e))return t[0]},o=function(e){var t;if(t=a(e))return t[1]},r=function(){var e,t;t=[];for(e in window.localStorage)t.push(s(e));return t},r(),$(this.window).bind("storage",function(){return function(e){var t,n;if(n=e.originalEvent,s(n.key)){t=n.newValue;try{t=JSON.parse(n.newValue)}catch(e){e}return $(document).trigger(i(n.key),t)}}}())}return e.prototype.trigger=function(e,t){return null==t&&(t=null),$(this.document).trigger(e,t),this},e.prototype.triggerAllWindows=function(e,t){var n;return null==t&&(t=null),this.trigger(e,t),n=Math.floor(2147483648*Math.random()),this.myLocalStorage.setItem("event:"+e+"/"+Date.now()+"/"+n,JSON.stringify(t)),this},e.prototype.on=function(e,t){return $(this.document).bind(e,function(){return function(e,n){var r,i;try{return t(n)}catch(e){return r=e,i=function(){throw r},setTimeout(i,1)}}}()),this},e}(),e=function(){function e(e,t){this.eventBus=e,this.rootScope=t}return e.prototype.on=function(e,t){return this.eventBus.on(e,function(e){return function(n){return e.rootScope.$evalAsync(function(){return t(n)})}}(this))},e.prototype.trigger=function(){var e,t;return e=1<=arguments.length?r.call(arguments,0):[],(t=this.eventBus).trigger.apply(t,e)},e.prototype.triggerAllWindows=function(){var e,t;return e=1<=arguments.length?r.call(arguments,0):[],(t=this.eventBus).triggerAllWindows.apply(t,e)},e}(),window.eventBus||(window.eventBus=new n(window,document)),window.angular&&angular.module("giEvents").factory("eventBus",["$rootScope",function(t){return new e(window.eventBus,t)}])}.call(this),angular.module("giEmbed",[]),function(){angular.module("giEmbed").directive("giEmbed",["$http",function(){var e;return e=function(e){var t,n,r,i,o;return n=$.cookie("vis"),n&&(o=$.deparam(n).vid),t=e.embedCaller,r=[],void 0!==o&&r.push("visitor="+o),void 0!==t&&r.push("caller="+t),r.push("uni=true"),i="",r.length>0&&(i="?"+r.join("&")),i},{restrict:"A",link:function(t,n,r){return n.on("click",function(){return t.$apply(function(){return function(){var n;if(!r.endpoint)throw"Please add an endpoint attribute that points to the embed preview endpoint for this asset";return $.gettyEmbed.open(".embed-modal",r.width),n=""+r.endpoint+e(r),$.gettyEmbed.show(n,{assetFamily:r.assetFamily,assetId:r.assetId}),t.$emit("shared")}}())})}}}])}.call(this),function(){angular.module("AdpApp",["giCarousel","giRemoting","giSpectrum","giTracking","giMosaic","giDownload","giLocationEncoder","giMarketingCopy","giBuyImagePack","giBuyCard","giLocalStorage","giAnalog","giModal","giDropbox","iStockLightbox","ngAnimate","giSearchBox","giFancyHeader","giIcons","giSuperStrip","giExperiences","templates","giTodHelper","giIcons","ng-rails-csrf"]).config(["$locationProvider","$provide","$compileProvider",function(e,t){return t.decorator("$templateCache",["$delegate",function(e){var t,n;return t={},n=e.put,e.put=function(e,r){return n(e,r),t[e]=!0},e.getKeys=function(){return Object.keys(t)},e}])}])}.call(this),function(){angular.module("AdpApp").controller("AdpController",["$scope","$window","asset","remoteApps","assetHistoryStorage","DropboxService","t","eventBus",function(e,t,n,r,i,o,a,s){var l,u,c;return e.footage_request_form=siteMap.footage_request_form,e.isTranscriptBigger=function(){return $(".overview").length>0&&$(".overview")[0].clientHeight<$(".overview")[0].scrollHeight},e.t=a,r.get("giCollaboration.Panel").then(function(t){return new BoardItemToggle(e,t,n)}),n.isImage&&i.store(n),t.sessionStorage.pager_items&&(e.searchResults=angular.fromJson(t.sessionStorage.pager_items).assets,l=e.searchResults.findIndex(function(e){return e.id===n.id}),e.previousPageHref="/license/"+(null!=(u=e.searchResults[l-1])?u.id:void 0),e.nextPageHref="/license/"+(null!=(c=e.searchResults[l+1])?c.id:void 0),document.onkeydown=function(t){switch(t.keyCode){case 37:e.hasPreviousPage&&(window.location.href=e.previousPageHref);break;case 39:e.hasNextPage&&(window.location.href=e.nextPageHref)}},document.onkeydown=function(t){switch(t.keyCode){case 37:e.hasPreviousPage&&(window.location.href=e.previousPageHref);break;case 39:e.hasNextPage&&(window.location.href=e.nextPageHref)}}),e.fullTranscriptOpened=!1,e.fullTranscriptLinkEnabled=e.isTranscriptBigger(),e.transcriptLinkText=a("see_full_transcript"),e.showPager=function(){if(e.searchResults)return!0},e.refreshPopUpCookie=function(){var e;return e=new UniPopupCookie(window.location.hostname),document.cookie=e.get()},e.displayErrorMessage=function(t){return e.message=t,e.showErrorMessage=!0},e.showFullTranscript=function(){return e.fullTranscriptOpened=!e.fullTranscriptOpened,e.fullTranscriptOpened?e.transcriptLinkText=a("see_less"):e.transcriptLinkText=a("see_full_transcript")},e.hasNextPage=function(){return void 0!==l&&null!=e.searchResults[l+1]&&0===$(".zoom-modal-open").length},e.hasPreviousPage=function(){return void 0!==l&&null!=e.searchResults[l-1]&&0===$(".zoom-modal-open").length},e.getFootageRequestFormPath=function(t){return e.footage_request_form.replace("ASSET_ID",t)},s.on("track.adp.adpContributorClicked",function(){var e;return null!=(e=t.combinedGtmTracking)?e.setUIElementLocation("contributor_credit_adp"):void 0})}]),$(document).safeReady(function(){if(combinedGtmTracking.gtmPushTracking("adpView"),"fast_checkout"===tracking_data.purchase_type)return combinedGtmTracking.gtmPushTracking("purchase")})}.call(this),function(){this.BuyCard=angular.module("giBuyCard",["giTracking","ngMessages","giLocalStorage","giEvents"]).run(["$rootScope","t",function(e,t){return e.t=t}]).filter("unsafe",["$sce",function(e){return e.trustAsHtml}])}.call(this),function(){angular.module("giBuyCard").directive("giButtonCooldown",["$timeout",function(e){return{link:function(t,n){var r,i,o,a,s,l;return l=null,s=function(){return eventBus.on("buyCard.downloadStarted",function(){if(n.hasClass("download-button"))return o(3e3,t.t("buy_card.download_again_button"))}),eventBus.on("AddToCartStarted",function(){if(n.hasClass("add-to-cart"))return o(1e4)}),eventBus.on("addToCartSuccess",function(){if(n.hasClass("add-to-cart"))return a()})},o=function(t,o){return null==o&&(o=null),i(n),l=e(function(){r(n,o)},t)},a=function(t){return null==t&&(t=null),e.cancel(l),r(n,t)},i=function(e){var t
;return t=e.css("background-color"),e.css("color"),e.css("position","relative"),e.inlineSpinner(),e.attr("disabled","disabled"),e.css("background-color",t),e.css("color","transparent")},r=function(e,t){return e.inlineSpinner(!1),t&&e.text(t),e.attr("style",""),e.removeAttr("disabled")},s()}}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("giBuyCard").controller("BuyCardController",["$scope","$window","$document","$timeout","$sce","asset","buyCardFactory","cart","download","giLocalStorage","preferences","TodService","visitorExperiences",function(n,r,i,o,a,l,u,c,d,p,f,h,m){var g,v,y,b,w,_,k,x,C,T,S,E,D,A,M,P,O;n.currentSite=currentSite,n.isRestricted=l.isBlocked||l.isHidden||l.isOffline,n.isPurchaseable=e.call(l.agreements,"PA")<0&&e.call(l.agreements,"ED")<0&&!n.isRestricted,n.isDownloadable=!l.agreements.isEmpty()&&!n.isRestricted,n.isOffline=l.isOffline,n.thumbUrl=l.thumbUrl,n.assetId=l.id,n.assetType=l.type,n.assetFamily=l.family,n.assetPrintOnDemand=l.printOnDemand,l.printOnDemand&&(n.buyThisImageLocText=t("buy_card.buy_this_image_for_your_wall_at_photos_com",{links:[{href:l.printOnDemandUrl+"?isource=ADP_photoscom_1to1CTA&utm_source=GI&utm_medium=ADP&utm_campaign=1to1",target:"_photos"}]})),n.editorialRfIsActive=m.isActive("editorial_rf"),n.isEditorialUseOnly=l.isEditorialUseOnly&&"creative"===l.family,n.assetLicenseType=l.license,n.dropboxDownloadLocallyEnabled=!1,O="#ultra-upsell-modal",n.state={showPreferredPrice:!1},n.isDropboxDownloadLocallyEnabled=function(){return n.dropboxDownloadLocallyEnabled},n.init=function(e,t){return n.isPaPreview=e,n.hasOPA=null!=t&&t,n.setDefaultBuyCard(),n.adDismissed=n.getAdDismissedStatus(),n.isLicenseView(),n.showBuyDetailsCard(),n.isPreferredPriceVisible()},n.initBuyCard=function(e){return n.setSelectedOption(n.determineInitialSelectedOption(e)),n.buyCard=e,n.showBenefitsMessaging()},g=function(e){return e.downloadCount===e.downloadCapacity&&!e.overageReached&&!e.unlimitedDownloads},v=function(e){return e.overageReached&&0===e.overage.remaining},n.determineInitialSelectedOption=function(e){var t;return t=e.options.find(function(e){return e.id===n.getPreferredPaAgreementId()}),(!t||g(t)||v(t)?e.options.find(function(e){return!g(e)&&!v(e)}):t)||e.options.first()},n.getPreferredPaAgreementId=function(){return $.cookie("sp")?parseInt($.deparam($.cookie("sp")).pa):null},n.setSelectedOption=function(e){var t,r,i,o,a,s;for(i=null,o=e.sizes,t=0,r=o.length;t<r;t++)s=o[t],s.label===(null!=(a=n.selectedSize)?a.label:void 0)&&(i=s);return n.selectedOption=e,n.downloadButtonLabel=n.setDownloadButtonLabel(e.type),n.setSelectedSize(i)},n.setSelectedSize=function(e){return n.selectedSize=e||n.getDefaultSize()},n.getDefaultSize=function(){return n.selectedOption.sizes.last()},n.showBenefitsMessaging=function(){return n.learnMore=a.trustAsHtml(n.t("learn_more",{links:[{href:"/eula",target:"_blank"}]})),n.straightForwardDiscounts=a.trustAsHtml(n.t("straightfoward_discounts",{links:[{href:"/ultrapacks",target:"_blank"}]})),"rf"===n.assetLicenseType&&"license"===n.buyCard.type&&!n.hasOPA},n.isEditorialOnlyNoticeVisible=function(){return n.editorialRfIsActive&&n.isEditorialUseOnly&&"image"===n.assetType},n.isEditorialRightsVisible=function(){return"image"===n.assetType&&"standardlicense"===n.selectedOption.type&&"editorial"===n.assetFamily},n.isPreferredPriceVisible=function(){return"editorial"===n.assetFamily?n.state.showPreferredPrice=m.isActive("GettyPreferredPriceEditorial")&&n.hasOPA:n.state.showPreferredPrice=m.isActive("GettyPreferredPrice")&&n.hasOPA&&"rf"===n.assetLicenseType},n.anyMessageBeingShown=function(){return n.isEditorialOnlyNoticeVisible()||n.showBenefitsMessaging()||n.showBuyOptions()||n.isEditorialRightsVisible()||n.hasMutipleOfSameAgreement()||!n.hasMutipleOfSameAgreement()&&("undefined"!=typeof buyCard&&null!==buyCard?buyCard.userHasMultipulePaAgreements:void 0)||n.overageReached()},n.setBuyCard=function(e){return n.showSizePickerRadioButtons="license"===e&&"image"===n.assetType&&"rf"===n.assetLicenseType,"download"===e?$.cookie("eza_prf","true"):"license"===e&&n.isDownloadable&&$.removeCookie("eza_prf"),u.getBuyCard(e).then(function(e){return n.initBuyCard(e)})},C=function(){return!n.isDownloadable&&l.agreementDetails.length>0},n.setDefaultBuyCard=function(){var e,t,r;return e=!1,null!=(r=l.agreementDetails)&&r.each(function(t){"PA"===t.Type&&(e=!0)}),t=n.isPaPreview&&e?"preview":C()?"download":n.isPurchaseable&&"true"!==$.cookie("eza_prf")?"license":n.isDownloadable?"download":n.isRestricted?"restricted":"license",n.setBuyCard(t)},n.buyCardReady=function(){return null!=n.buyCard},n.showPhotosMerchAgreement=function(){return l.agreements.none(function(e){return"PA"===e||"ED"===e})},n.agreementViewOnlyPermissions=function(){var e;return m.isActive("PAPermissions")&&-1===(null!=(e=n.selectedOption.effectivePermissions)?e.indexOf("Download"):void 0)},n.calculatePriceVerbiage=function(){return a.trustAsHtml(n.t("buy_card.calculate_price_message"))},n.restrictedVerbiage=function(){var e,t;return t="",l.isBlocked?(e=l.isFilm?"unable_to_license_clip_online":"unable_to_license_image_online",t=n.t(e,{links:[{href:"/contactus",target:"contact_us"}]})):l.isHidden&&(t=n.t("unable_to_license_media",{assetid:l.id})),a.trustAsHtml(t)},n.showBuyOptions=function(){return n.buyCard.options.length>1},n.requiresTranscoding=function(e){return h.requiresTranscoding(e)},n.trackHover=function(e){return h.trackHoverTriggered(e)},n.setDownloadButtonLabel=function(e){switch(e){case"EasyAccess":return t("easy_access_download_button");case"ImagePack":return t("ultrapack_download_button");case"PremiumAccess":return t("premium_access_download_button");case"EditorialSubscription":return t("subscription_download_button");default:return t("buycard.download_button")}},n.uniqueSizeLabels=function(){return n.selectedOption.sizes.unique(function(e){return"eps"===e.name?e.label="EPS":e.label})},n.overageReached=function(){return n.selectedOption.overageReached},n.uniqueOptions=function(){return n.buyCard.options.unique(function(e){return e.type})},T={PremiumAccess:n.t("buy_card.premium_access"),EasyAccess:n.t("buy_card.easy_access"),ImagePack:n.t("buy_card.ultrapack"),EditorialSubscription:n.t("buy_card.subscription"),standardlicense:n.t("buy_card.standard_editorial_rights"),customlicense:n.t("buy_card.custom_rights")},n.buyOptionLabel=function(e){return T[e.type]},n.hasMutipleOfSameAgreement=function(){return"license"!==n.buyCard.type&&n.buyCard.options.count(function(e){return e.type===n.selectedOption.type})>1},n.multiAgreementOptions=function(){var e;return e=n.buyCard.options.findAll(function(e){return e.type===n.selectedOption.type&&!g(e)&&!v(e)}),e.each(function(e){var n;if("PremiumAccess"===e.type)return-1===(null!=(n=e.effectivePermissions)?n.indexOf("Download"):void 0)&&m.isActive("PAPermissions")?e.name=t("agreement_name_view_only",{agreement_name:e.friendlyName}):e.name=e.friendlyName}),e},n.selectAgreementLabel=function(e){var r;return"PremiumAccess"===e.type?(n.selectAgreementHeader="Select Agreement",-1===(null!=(r=e.effectivePermissions)?r.indexOf("Download"):void 0)&&m.isActive("PAPermissions")?e.name:e.friendlyName):(n.selectAgreementHeader=t("buy_card.select_ultrapack"),n.t("buy_card."+e.name+"_resolution_pack")+" ("+e.downloadCount+"/"+e.downloadCapacity+")")},n.hasMutipleFormats=function(e){return null==e&&(e=n.selectedSize),!l.isImage&&n.selectedOption.sizes.count(function(t){return t.definition===e.definition})>1},n.filmFormats=function(){return n.selectedOption.sizes.findAll(function(e){return e.definition===n.selectedSize.definition})},P=null,n.setHoveredSize=function(e){return o.cancel(P),n.hoveredSize=e},n.removeHoveredSize=function(){return o.cancel(P),P=o(function(){return n.hoveredSize=null},100)},n.filmExtension=function(e){return"lwf"===e?"MOV":"lws"===e?"MP4":void 0},_=function(){var e,t,r,i,o;if((o=n.selectedOption.sizes.findAll(function(e){return e.definition===n.hoveredSize.definition}))&&o.length>1){for(t="",e=0,r=o.length;e<r;e++)i=o[e],t+=i.codec+" | ";return t.slice(0,-2)}},M=function(e){return l.isImage?"eps"===e.name?t("scales_to_any_size"):e.pixels+" | "+e.localeUnits+" @ "+e.dpi+" dpi | "+e.megapixels:e.pixels+" | "+e.frameRate+" fps | "+e.codec},D=function(){return M(n.selectedSize)},x=function(){return M(n.hoveredSize)},n.sizeData=function(){var t;return n.hoveredSize&&n.hasMutipleFormats(n.hoveredSize)&&(t=n.hoveredSize,e.call(n.filmFormats(),t)<0)?_():n.hoveredSize&&!n.hasMutipleFormats(n.hoveredSize)?x():n.hasMutipleFormats()?void 0:D()},n.filmFormatDimensions=function(){return n.hoveredSize&&n.filmFormats().find(function(e){return e.name===n.hoveredSize.name})?x():D()},y=[],n.isPurchaseable&&(n.cartHasFinishedLoading=!1,(k=function(){return c.getCartItems(l.id).then(function(e){return y=e.data})["finally"](function(){return n.cartHasFinishedLoading=!0})})()),n.isSizeInCart=function(){return y.any(function(e){return e.IsPriced&&("creative"===l.family&&e.Product.SizeCode===n.selectedSize.name||"editorial"===l.family&&e.Product.Usage)})},n.isAssetPricedInCart=function(){return y.any(function(e){return e.IsPriced})},n.addPricedAssetToCart=function(){eventBus.trigger("AddToCartStarted"),i.trigger("buyCard.addToCart",[n.selectedSize.name,h.requiresTranscoding(n.selectedSize)]),c.addToCartPriced(n.selectedSize.name).then(function(){return n.trackAddToCart(n.selectedSize.rawPrice),eventBus.triggerAllWindows("addToCartSuccess"),eventBus.triggerAllWindows("priceCartItem"),k()})},n.addAssetToCart=function(){eventBus.trigger("AddToCartStarted"),c.addToCart().then(function(){return n.trackAddToCart(),eventBus.triggerAllWindows("addToCartSuccess"),eventBus.triggerAllWindows("addToFancyCart"),k()})},n.trackAddToCart=function(e){var t;return null==e&&(e=0),e>0&&(tracking_data.asset_details.price=e,tracking_data.asset_details.is_priced="priced"),t={products_string:tracking_data.products_string,added_items:[tracking_data.asset_details]},combinedGtmTracking.gtmPushTracking("addToCart",t)},$(document).on("addToCartSuccess",function(){return window.dataLayer.push({event:"addToCartSuccess",assetId:n.assetId})}),n.isAssetInCart=function(){return!y.any(function(e){return!e.IsPriced})},S=function(){var e;return e="/sign-in?ReturnUrl="+encodeURIComponent(window.location.pathname+window.location.search),r.location.href=e},n.download=function(e){return null==e&&(e=!0),r.user.isAuthenticated?!!e&&(A()?(i.trigger("buyCard.modalOpen",[n.selectedOption.type]),$.gettyModal.find("#buy-card-modal").open()):(i.trigger("buyCard.download",{agreementType:n.selectedOption.type,overage:n.overageReached(),assetSize:n.selectedSize.name,isToD:h.requiresTranscoding(n.selectedSize)}),h.requiresTranscoding(n.selectedSize)?(h.triggerPopup(),d.createSingleDownloadforTranscoding(n.selectedSize.downloadToken,n.selectedOption.notes,n.selectedOption.projectCode,n.assetId,n.selectedSize.name)):d.createSingleDownload(n.selectedSize.downloadToken,n.selectedOption.notes,n.selectedOption.projectCode,n))):S()},n.getPremiumPackSavings=function(){return n.selectedSize.premiumPackSavings.pricePerImage},n.$on("dropbox-enabled.asset-downloading",function(){return n.dropboxDownloadLocallyEnabled=!0}),n.downloadLocally=function(){return i.trigger("buyCard.dropbox_download_locally",{agreementType:n.selectedOption.type,overage:n.overageReached(),assetSize:n.selectedSize.name,isToD:h.requiresTranscoding(n.selectedSize)}),d.createSingleDownload(n.selectedSize.downloadToken,n.selectedOption.notes,n.selectedOption.projectCode,n,!0)},n.canSaveWithUltraPacks=function(){var e,t;return!(null==(e=n.selectedSize)||null==(t=e.premiumPackSavings)||!t.rawPricePerImage)&&(n.selectedSize.premiumPackSavings.rawPricePerImage<n.selectedSize.rawPrice&&!n.suppressUltraPackMessaging)},n.showEzaAgreement=function(){return!(!0===p.getItem("downloadPreferences.hideEzaAgreement")||"true"===p.getItem("downloadPreferences.hideEzaAgreement"))},n.showEzaMessaging=function(){return!(!0===p.getItem("downloadPreferences.hideEzaMessaging")||"true"===p.getItem("downloadPreferences.hideEzaMessaging"))},A=function(){return"EasyAccess"===n.selectedOption.type&&n.showEzaAgreement()},n.agreementsTemplateUrl=function(){return"/asset-detail/assets/EzaAccount.en-4458125731c3cd9ea68cae0729978c838479d1d51aebdc43de1aa95eab4999e0.html"},n.assetRestrictionText=function(e){return a.trustAsHtml(l.id+" - "+e.reason)},E=function(){return p.setItem("downloadPreferences.hideEzaAgreement","true"),f.hide_eza_messaging=!0,f.hide_eza_agreement=!0,d.saveDownloadPreferences(f)},n.downloadFromRestrictionsModal=function(){return E(),i.trigger("buyCard.download",{agreementType:n.selectedOption.type,overage:n.overageReached(),assetSize:n.selectedSize.name,isToD:h.requiresTranscoding(n.selectedSize)}),d.createSingleDownload(n.selectedSize.downloadToken,n.selectedOption.notes,n.selectedOption.projectCode),n.closeRestrictionModal()},n.closeRestrictionModal=function(){$.gettyModal.find("#buy-card-modal").close()},n.getTrackingData=function(){return{multipleAgreements:l.agreements.length>1,agreement:n.selectedOption}},n.showBuyDetailsCardAndTrack=function(){return n.showBuyDetailsCard(),n.trackLicenseThisAsset(),p.setItem("assetDetail.adDismissed","true")},n.showBuyDetailsCard=function(){return n.isBuyDetailsCardVisible=!0},n.trackLicenseThisAsset=function(){return s.events="event73",s.linkTrackEvents="event73",s.linkTrackVars="events",window.s.tl(!0,"o","LicenseImageCTA-ADP")},n.getAdDismissedStatus=function(){var e;try{e=JSON.parse(p.getItem("assetDetail.adDismissed"))}catch(t){t,e=!1}return e},n.isLicenseView=function(){return r.user.isAuthenticated||r.user.isRemembered||n.adDismissed},n.formatPrice=function(e){return e?e.replace(/[\,|\.]00(?=\s\W|$)/g,""):""},n.openCloseUltraPackSlide=function(e){return e?(n.openUpsellUltraModal(),b()):(combinedGtmTracking.gtmPushTracking("adpUltrapackModalClose",{ui_element_location:"adp_ultrapack_merch_close_x"}),w())},n.openUpsellUltraModal=function(){var e;n.setCheckoutSku(n.selectedSize.premiumPackSavings.fivePackPricing.sku),e={asset_size_selected:n.selectedSize.teeShirtSize,ui_element_location:"adp_ultrapack_merch_modal_open"},combinedGtmTracking.gtmPushTracking("adpUltrapackModalOpen",e),$.gettyModal.find(O).open()},w=function(){$.gettyModal.find(O).close()},n.getUltaSizeText=function(){var e,r,i,o,a,s;return"L"===(e=null!=(r=n.selectedSize)?r.label:void 0)||"4K"===e||"HD"===e?t("large_images_and_video"):"M"===(i=null!=(o=n.selectedSize)?o.label:void 0)||"SD"===i?t("medium_images_and_video"):"S"===(a=null!=(s=n.selectedSize)?s.label:void 0)||"Web"===a?t("small_images_and_video"):void 0},n.setCheckoutSku=function(e){return n.ultraSelectedSku=e},n.ultraUpsellRedirect=function(){var e,t;e=n.ultraSelectedSku.slice(-3).replace(/^0+/,""),t={ultrapack_sku:n.ultraSelectedSku,ultrapack_size:n.selectedSize.teeShirtSize,ultrapack_denomination:e+"-pack",ui_element_location:"adp_ultrapack_merch_buynow"},combinedGtmTracking.gtmPushTracking("adpUltrapackBuyNow",t)},n.pnpRedirectTracking=function(){return combinedGtmTracking.gtmPushTracking("adpUltrapackViewAllPricing",{ui_element_location:"adp_ultrapack_view_all_pricing"})},b=function(){return o(function(){return $(O).one("click",function(e){if($(e.target).is(".modal"))return combinedGtmTracking.gtmPushTracking("adpUltrapackModalClose",{ui_element_location:"adp_ultrapack_merch_close_outside_panel"}),w()})})}}])}.call(this),function(){angular.module("giBuyCard").factory("buyCardFactory",["$q","previewBuyCard","licenseBuyCard","downloadBuyCard","restrictedBuyCard",function(e,t,n,r,i){var o,a;return o={download:r,license:n,preview:t,restricted:i},a={},{getBuyCard:function(t){var n,r,i;return n=a[t],n?(r=e.defer(),r.resolve(n),r.promise):(i=o[t].create(),i.then(function(e){return a[t]=e}),i)}}}])}.call(this),function(){angular.module("AdpApp").directive("giBuyDetailsResponsiveHeight",["$window","asset","$document","$timeout",function(e,t,n,r){return{link:function(i){var o,a,s;s=t.isFilm?.75:.7,o=function(){var r,i,o,l,u,c;e.innerWidth>800?(o=n.find(".asset-description"),l=o.outerHeight(),r=n.find(".buy-details-card"),i=r.outerHeight(),t.isImage?(c=l+e.innerHeight*s,r.height(c)):(a(),u=n.find(".film-card"),l=o.outerHeight(),i=r.outerHeight(),u.outerHeight()+l+1>i?r.height(u.outerHeight()+l):(i>e.innerHeight*s&&(r.height(e.innerHeight*s+l),i=r.outerHeight()),u.height(i-l)))):(a(),n.find(".buy-details-card").height("auto"))},a=function(){return n.find(".film-card").removeAttr("style"),n.find(".buy-details-card").removeAttr("style")},i.$on("buyCardReady",r(o,300)),angular.element(e).on("resize",o),t.isOffline&&angular.element(e).on("collaboration.boardLoaded",o)}}}])}.call(this),function(){angular.module("giBuyCard").directive("giCalculatorPopup",["$window","asset",function(e,t){var n;return n={rr:{link:"/calculator/video/"+t.id,width:963,height:640},rm:{link:"/pricecalculator/"+t.id,width:960,height:900}},{link:function(r,i){return i.on("click",function(){var r;return r=n[t.license],e.open(r.link,"","width="+r.width+",height="+r.height+",top=50,left=50,alwaysRaised=yes,toolbar=0,directories=0,menubar=0,status=1,resizable=yes,location=0,scrollbars=yes,copyhistory=0")})}}}])}.call(this),function(){angular.module("giBuyCard").factory("cart",["$http","asset",function(e,t){var n;return n=function(){return"rf"===t.license?"/purchase/carts/add-rf-license.json":"/purchase/carts/add-simple-rm-license.json"},{addToCart:function(){return e.post("/purchase/carts/add-asset.json",{asset_id:t.id})},addToCartPriced:function(r){return e.post(n(),{asset_id:t.id,size_code:r})},getCartItems:function(){return e.get("/purchase/carts/item.json",{params:{asset_id:t.id}})}}}])}.call(this),function(){angular.module("giBuyCard").factory("downloadBuyCard",["$http","$q","asset",function(e,t,n){var r,i,o,a,s,l;return r={PA:"PremiumAccess",ED:"EditorialSubscription",EA:"EasyAccess",IP:"ImagePack",premium_pack:"ImagePack"},s=function(e){return e.map(function(e){return{name:e.teams_size,label:e.label,teeShirtSizeAbv:e.tee_shirt_size_abv,definition:e.definition,fileSize:e.file_size,codec:e.codec,frameRate:e.frame_rate,pixels:e.size_px,megapixels:e.size_megapixels,localeUnits:e.size_uom,dpi:e.dpi,downloadToken:e.download_token,uncompressedFileSize:e.uncompressed_file_size,availability:e.availability}})},a=function(e){return e.match(/hi/i)?"hi":e.match(/md/i)?"med":e.match(/lo/i)?"low":void 0},i=function(e){return e.map(function(e){return{type:e.type,id:e.id,downloadCount:e.agreement_details.download_count,downloadCapacity:e.agreement_details.download_capacity,notesRequired:e.agreement_details.notes_required,projectCodeRequired:e.agreement_details.project_code_required,projectCodes:e.agreement_details.project_codes?e.agreement_details.project_codes.unique():[],name:a(e.sku),sizes:s(e.authorized_sizes),restrictions:e.usage_restrictions,overageReached:l(e),overage:e.overage,friendlyName:e.custom_name,effectivePermissions:e.effective_permissions,unlimitedDownloads:e.agreement_details.has_unlimited_download}})},l=function(e){if(e.overage)return e.overage.overage_reached},o=function(){return e.get("/downloads/asset-agreements/"+n.id+".json")},{create:function(){var e;return e=t.defer(),o().then(function(t){var o,a;return a=[],o=[],n.agreementDetails.each(function(e){return o.push(e.Type)}),o.unique().each(function(e){var n;if(n=t.data.agreements.findAll(function(t){return t.type===r[e]}),!n.isEmpty())return a.push(i(n))}),e.resolve({type:"download",options:a.flatten(),restrictions:t.data.restrictions||[],userHasMultipulePaAgreements:t.data.user_has_multiple_pa_agreements})}),e.promise}}}])}.call(this),function(){angular.module("giBuyCard").factory("download",["$http","redirector","TodService","$rootScope",function(e,t,n,r){return{createSingleDownload:function(n,i,o,a,s){return null==s&&(s=!1),s||eventBus.trigger("buyCard.downloadStarted"),e.post("/downloads/create-download",{data:{tokens:[n],notes:i,project_code:o}}).then(function(e){return s||!e.data.download_destinations||0===e.data.download_destinations.length?(s||r.$broadcast("dropbox-intro-modal.asset-downloaded",{data:e.data,origin:"ADP|DropboxmodelOpen"}),t.goTo(e.data.single_downloads.first().url)):r.$broadcast("dropbox-enabled.asset-downloading",e.data)})},createSingleDownloadforTranscoding:function(t,r,i,o,a){return e.post("/downloads/create-download",{data:{tokens:[t],notes:r,project_code:i}}).then(function(e){return n.saveData(o,a,e.data.single_downloads.first().url,e.data.single_downloads.first().tod_job_id)})},saveDownloadPreferences:function(t){return e.post("/downloads/preferences",{preferences:t})}}}])}.call(this),function(){angular.module("giBuyCard").factory("licenseBuyCard",["$http","$q","asset",function(e,n,r){var i,o,a,s;return i="creative"===r.family&&("rm"===r.license||"rr"===r.license)||"editorial"===r.family,o="rf"===r.license||"editorial"===r.family&&"rm"===r.license,a=function(){return e.get("/purchase/"+r.license+"-prices/"+r.id+".json",{params:{includePPSavings:!0}})},s=function(e){var n,r,i,o;for(i=e.sizes,n=0,r=i.length;n<r;n++)switch(o=i[n],o.label){case"XS":o.teeShirtSize=t("extrasmall");break;case"S":o.teeShirtSize=t("small");break;case"M":o.teeShirtSize=t("medium");break;case"L":o.teeShirtSize=t("large")}return e},{create:function(){var e,t;return t=n.defer(),e={type:"license",options:[]},i&&e.options.push({sizes:[],type:"customlicense"}),o?a().then(function(n){var r;return n.data&&!n.data.isEmpty()&&(r={type:"standardlicense",sizes:n.data},e.options.insert(s(r),0)),t.resolve(e)}):t.resolve(e),t.promise}}}])}.call(this),function(){angular.module("giBuyCard").factory("previewBuyCard",["$http","$q","asset",function(e,t,n){return{create:function(){var e,r,i;return r=t.defer(),i=[{type:"PremiumAccess",sizes:n.imageSizes}],e={type:"preview",options:i},r.resolve(e),r.promise}}}])}.call(this),function(){angular.module("giBuyCard").factory("redirector",["$window",function(e){return{goTo:function(t){return e.location.href=t}}}])}.call(this),function(){angular.module("giBuyCard").factory("restrictedBuyCard",["$q",function(e){return{create:function(){var t,n;return n=e.defer(),t={type:"restricted",options:[{sizes:[],type:"restricted"}]},n.resolve(t),n.promise}}}])}.call(this),function(){angular.module("giBuyCard").directive("giSelectAgreement",["$parse","$document",function(e,t){return{link:function(e,n){return n.on("change",function(n){var r;return t.trigger("buyCard.selectAgreement"),r=e.multiAgreementOptions().find(function(e){return e.id.toString()===n.target.value}),e.$apply(function(){return e.setSelectedOption(r),e.setSelectedSize()})})}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("buy_card/size_guide_modal.html",'<a gi-track="buyCard.sizeGuideClick" href="#" ng-click="openSizeGuideModal()">{{t(\'size_guide.size_guide\')}}</a><div class="modal" id="size-guide-modal" ng="cloak"><div class="modalBox"><div><h3>{{t(\'size_guide.size_guide\')}}</h3></div><hr /><div class="thumbnail-container"><div><img ng-src="{{thumbUrl}}" />{{\'#\' + assetId}}</div><p>{{t(\'size_guide.size_guide_intro\')}}</p></div><div><table class="size-guide-table"><tr><th></th><th class="size-name">{{t(\'image_size\')}}</th><th>{{t(\'pixels\')}} | {{t(\'unit_of_length\')}}</th><th>{{t(\'dpi_abbreviation\')}}</th><th>{{t(\'file_size\')}} <br> {{t(\'uncompressed\')}}</th></tr><tr ng-click="updateSizeGuideSize(size)" ng-repeat="size in selectedOption.sizes"><td><input id="{{size.name}}" name="modal-size" ng-checked="sizeGuideSelectedSize.label == size.label" type="radio" /></td><td><div>{{blurbs[size.label].name}}</div><div class="blurb">{{blurbs[size.label].blurb}}</div></td><td>{{size.pixels}} ({{size.localeUnits}})</td><td ng-if="size.label != &#39;EPS&#39;">{{size.dpi}}</td><td ng-if="size.label == &#39;EPS&#39;"></td><td>{{size.uncompressedFileSize}}</td></tr></table></div><button gi-track="buyCard.sizeGuideApply" ng-click="applySize()">{{t(\'size_guide.apply\')}}</button><a class="modalClose" ng-click="closeSizeGuideModal()" title="Close"></a></div></div>')}]),function(){var e;e=angular.module("AdpApp"),e.directive("giSizeGuideModal",["$http","$window",function(){return{templateUrl:function(){return"/asset-detail/assets/buy_card/size_guide_modal-a5e789e00f21bf2f41250ca9e275258e199c1267792689ef84536792aa1ee7c7.html"},link:function(e){var n,r;return r=function(){return e.blurbs={},e.selectedOption.sizes.map(function(t){return e.blurbs[t.label]=n(t.label)})},n=function(e){switch(e){case"XS":return{name:t("size_guide.xsmall"),blurb:t("size_guide.xsmall_blurb")};case"S":return{name:t("size_guide.small"),blurb:t("size_guide.small_blurb")};case"M":return{name:t("size_guide.medium"),blurb:t("size_guide.medium_blurb")};case"L":return{name:t("size_guide.large"),blurb:t("size_guide.large_blurb")};case"EPS":return{name:t("size_guide.vector"),blurb:t("size_guide.vector_blurb")}}},e.updateSizeGuideSize=function(t){return e.sizeGuideSelectedSize=t},e.applySize=function(){return e.setSelectedSize(e.sizeGuideSelectedSize),e.closeSizeGuideModal()},e.openSizeGuideModal=function(){e.sizeGuideSelectedSize=e.selectedSize,r(),$.gettyModal.find("#size-guide-modal").open()},e.closeSizeGuideModal=function(){e.sizeGuideSelectedSize=e.selectedSize,$.gettyModal.find("#size-guide-modal").close()}}}}])}.call(this),function(){angular.module("AdpApp").directive("giTabLabels",["asset","$document",function(e){return{scope:!0,link:function(n){var r;return r=function(){if(1!==e.agreements.length)return"image"===e.type?t("download_image"):t("buy_card.download_video");switch(e.agreements[0]){case"EA":return t("buy_card.easy_access");case"premium_pack":return t("buy_card.ultrapack");case"PA":return t("buy_card.premium_access");case"ED":return t("editorial_subscription")}},function(){return n.tabLabel=r()}()}}}])}.call(this),function(){angular.module("giBuyCard").run(["$document","omnitureReady","trackingHelper","trackingService",function(e,t,n,r){var i,o,a,l;return a=function(e){return t.then(function(){return s.tl(!0,"o",e)})},e.on("buyCard.addToCart",function(e,t,r){var i;return s.eVar86="string"==typeof t?t:"none",s.eVar85=null!=(i=window.giLocalStorage)?i.getItem("target_search_mix"):void 0,r&&(s.eVar86+="|Transcode"),s.linkTrackVars=n.myPageVariablesAnd("events,eVar86,eVar85"),s.linkTrackEvents="scAdd",s.events="scAdd",a("AddToCart")}),e.on("buyCard.download",function(e,t){var i,l,u;return i="DownloadButton",t.isToD&&(i="ConvertToDownload"),s.events="event3",t.isToD&&(s.events+=",event171"),s.linkTrackEvents="event3",t.isToD&&(s.linkTrackEvents+=",event171"),s.event3="DownloadButton",s.prop37=s.eVar37=o(t.agreementType),t.overage&&(s.prop37=s.eVar37=s.prop37+"|Overage"),tracking_data.download_type=o(t.agreementType),t.overage&&(tracking_data.download_type=tracking_data.download_type+"|Overage"),s.eVar85=null!=(u=window.giLocalStorage)?u.getItem("target_search_mix"):void 0,s.linkTrackVars=n.myPageVariablesAnd("events,linkTrackEvents,event3,prop37,eVar37,eVar85"),s.eVar86=t.assetSize,t.isToD&&(s.eVar86+="|Transcode"),s.prop52="adp|button",tracking_data.ui_element_location="adp|button",l="events,linkTrackEvents,event3,prop37,eVar37,eVar86,prop52,eVar85",t.isToD&&(l+=",event171"),s.linkTrackVars=n.myPageVariablesAnd(l),a(i),r.singleDownload("buycard")}),e.on("buyCard.modalOpen",function(e,t){return s.events="event33",s.linkTrackEvents="event33",s.linkTrackVars=n.myPageVariablesAnd("events,linkTrackEvents,event33,prop37,eVar37"),s.prop37=s.eVar37=o(t),tracking_data.download_type=o(t),a("DownloadModal")}),e.on("buyCard.sizeGuideClick",function(){return s.events="event98",s.linkTrackEvents="event98",s.linkTrackVars=n.myPageVariablesAnd("events,linkTrackEvents,event98"),a("SizeGuide-LaunchModal")}),e.on("buyCard.sizeGuideApply",function(){return s.events="event99",s.linkTrackEvents="event99",s.linkTrackVars=n.myPageVariablesAnd("events,linkTrackEvents,event98"),a("SizeGuide-ApplySize")}),e.on("buyCard.packDiscountLinkClick",function(){return s.linkTrackVars=n.myPageVariablesAnd("events, eVar47, event84"),s.events=s.event84="event84",s.linkTrackEvents="event84",a("UltraPack-Modal|SaveNow")}),e.on("buyCard.selectAgreement",function(){return a("ADP-SelectAgreement")}),o=function(e){switch(e){case"EasyAccess":return"EZA";case"PremiumAccess":return"PA";case"EditorialSubscription":return"EdSub";case"ImagePack":return"RFPack"}},l=function(e){return s.events="event18",s.event18="event18",s.linkTrackVars=n.myPageVariablesAnd("event18,events"),s.linkTrackEvents="event18",a(e)},e.on("buyCard.downloadTabClick",function(e,t){return l(t.multipleAgreements?"LicenseToggle-Download":i(t.agreement))}),e.on("buyCard.licenseTabClick",function(){return l("LicenseToggle-Purchase")}),e.on("buyCard.overageReachedTooltip",function(){return s.linkTrackVars=n.myPageVariablesAnd("eVar47"),a("PA-OverageTooltip|adp")}),e.on("buyCard.downloadAgreementToggle",function(e,t){return l(i(t.agreement))}),e.on("buyCard.ultraUpsellModal",function(e,t){return s.events=t.event,s.linkTrackEvents=t.event,s.linkTrackVars=n.myPageVariablesAnd("events,linkTrackEvents"),s.pev2=t.pev2,a(s.pev2)}),e.on("buyCard.ultraUpsellBuyNow",function(e,t){return s.events="event198",s.linkTrackEvents="event198",s.eVar86=t.eVar86,s.linkTrackVars=n.myPageVariablesAnd("events,linkTrackEvents,eVar86,prop52"),s.prop52=t.prop52,s.pev2=t.pev2,a(s.pev2)}),e.on("buyCard.ultraUpsellPNP",function(){return s.events="event210",s.linkTrackEvents="event210",s.linkTrackVars=n.myPageVariablesAnd("events,linkTrackEvents"),s.pev2="adp_ultrapack_merch_view-all-pricing",a(s.pev2)}),i=function(e){var t;return t="DownloadMethodToggle-",t+=function(){switch(e.type){case"PremiumAccess":return"PA";case"ImagePack":return"Pack";case"EasyAccess":return"EZA";default:return data.type}}()},e.on("buyCard.dropbox_download_locally",function(e,t){var r,i,l,u;return r="Dropbox|savefilelocally",s.events="event176",s.linkTrackEvents="event176",s.event3="Dropbox|savefilelocally",s.prop37=s.eVar37=o(t.agreementType),t.overage&&(s.prop37=s.eVar37=s.prop37+"|Overage"),tracking_data.download_type=o(t.agreementType),t.overage&&(tracking_data.download_type=tracking_data.download_type+"|Overage"),s.eVar85=null!=(l=window.giLocalStorage)?l.getItem("target_search_mix"):void 0,s.linkTrackVars=n.myPageVariablesAnd("events,linkTrackEvents,event3,prop37,eVar37,eVar85"),s.eVar86=t.assetSize,s.prop52="adp|button",tracking_data.ui_element_location="adp|button",i="events,linkTrackEvents,event3,prop37,eVar37,eVar86,prop52,eVar85,event176",s.linkTrackVars=n.myPageVariablesAnd(i),a(r),null!=(u=window.combinedGtmTracking)?u.gtmPushTracking("Dropbox|savefilelocally"):void 0})}])}.call(this),function(){angular.module("AdpApp").directive("keywordsList",function(){return{restrict:"A",link:function(e,t,n){var r,i;return i=angular.element(t.find("li.show-all")),r=parseInt(n.keywordsList),t.find('li:not(".show-all")').length<r&&i.hide(),i.bind("click",function(e){e.preventDefault(),e.stopPropagation(),t.addClass("show-all")})}}})}.call(this),function(){angular.module("AdpApp").directive("giAccordion",["$document","giLocalStorage",function(e,t){return{scope:!0,link:function(e,n,r){var i,o,a,s;return a=r.giAccordion,s=function(){var n;return n=i(),n[a]=e.isOpen,t.setItem("assetDetail.accordionState",JSON.stringify(n))},i=function(){var e;try{e=JSON.parse(t.getItem("assetDetail.accordionState"))||{}}catch(t){t,e={}}return e},o=function(){var t;return t=i(),void 0===t[a]?e.isOpen=n.hasClass("open"):e.isOpen=t[a],n.removeClass("open")},n.find("header").on("click",function(){return e.isOpen=!e.isOpen,e.$apply(),s()}),o()}}}])}.call(this),function(){angular.module("AdpApp").directive("giAddToCartButton",["$http",function(e){return{link:function(t,n,r){var i,o;return eventBus.on("addToCartSuccess",function(){return o(!0)}),o=function(e){return e?n.addClass("in-cart"):n.removeClass("in-cart")},i=function(t){return e.get("/purchase/carts/item.json",{params:{asset_id:t}})},i(r.assetId).then(function(e){return o(e.data.length>0)})}}}])}.call(this),function(){angular.module("AdpApp").factory("assetHistoryStorage",["$window","giLocalStorage",function(e,t){var n;return n=100,{store:function(e){var r,i,o,a,s;return r=JSON.parse(t.getItem("search.assetsViewedData"))||[],r=r.filter(function(t){return t.id!==e.id}),r.length>=n&&r.pop(),s=null!=(o=e.imageSizes[0].pixels.split(" ").first())?o.trim():void 0,i=null!=(a=e.imageSizes[0].pixels.split(" ")[2])?a.trim():void 0,r.unshift({id:e.id,width:s,height:i,deliveryUrl:e.thumb612Url}),t.setItem("search.assetsViewedData",JSON.stringify(r))}}}])}.call(this),function(){var e,t,n,r,i,o;window.UniAdp||(window.UniAdp={}),n={
storedPagerData:function(){return window.carouselSearchResults},pagingArrows:function(){return $(".search-nav")},assetId:function(){return $.AssetDetail.currentAssetId()}},i=function(e,t){return e.map(function(e){return e.id}).indexOf(t)},o=function(e){var t,i,o;o=[];for(i in e)t=e[i],o.push(n.pagingArrows().find("a."+i).attr("href",r(t)).data("asset-id",t).on("click",function(){var e;return e=new UniPopupCookie(window.location.hostname),document.cookie=e.get()}));return o},r=function(e){var t;if(t=n.storedPagerData().linkFormat,e&&t)return t.replace("{id}",e)},t=function(){var e,t,r,a;return function(e){var t,r;return(t=null!=(r=n.storedPagerData())?r.items:void 0)&&(null!=t?t.some(function(t){return t.id===e}):void 0)}(n.assetId())?(e=n.storedPagerData().items,t=i(e,n.assetId()),o({previous:null!=(r=e[t-1])?r.id:void 0,next:null!=(a=e[t+1])?a.id:void 0})):n.pagingArrows().remove()},e=function(){return null!=n.storedPagerData()&&$.each(n.storedPagerData().items,function(e,t){return t.href=r(t.id)}),t()},$.AssetDetail||($.AssetDetail={}),$.AssetDetail.AssetPaging={pageElements:n,init:function(){return $(document).safeReady(function(){return e()})}},$(document).safeReady(function(){return $.AssetDetail.AssetPaging.init()})}.call(this),function(){this.BoardItemToggle=function(){function e(e,n,r){var i,o,a;e.boardReady=!1,$(document).one("collaboration.boardLoaded",function(){return e.boardReady=!0,e.$apply(),window.shimSvgForSafari()}),n.rootScope.$watch(function(){var t;try{return e.$apply()}catch(e){return t=e,console.debug("scope.$apply() failed: "+t.message)}}),o=n.getService("boardStorage"),e.boardHasItem=function(e){return o.hasItem(e)},e.toggleBoard=function(e,t){tracking_data.board_id=o.board.id,tracking_data.boardName=o.board.name,o.hasItem(e)?(o.removeItem(e,{showToaster:!0,thumbnail:r.thumbUrl}),eventBus.trigger("track.removeFromFavorites")):(o.addItem(e,{requestedAsset:r,showToaster:!0,thumbnail:r.thumbUrl}),eventBus.trigger("track.addToFavorites",t||"icon"))},e.textForToggleButton=function(e){return o.hasItem(e)?a(o.metadata.name):i(o.metadata.name)},i=function(e){return e&&currentSite.isiStock?t("save_to_board_with_name",{board_name:e}):t("save_to_board").replace(".","")},a=function(e){return e&&currentSite.isiStock?t("remove_from_board_with_name",{board_name:e}):t("remove_from_board").replace(".","")},e.titleForTogglingItem=function(e){var t;return t=o.metadata.name,o.hasItem(e)?a(t):i(t)}}return e}()}.call(this),function(){angular.module("AdpApp").controller("AdpCarouselController",["$scope","$document","carouselItemsService",function(e,t,n){var r,i,o;return e.init=function(n,r,i,a,s,l,u,c,d){return t.trigger("track.adp.AdpCarouselLoading"),e.assetId=n,e.assetType=r,e.mediaType=i,e.eventId=a,e.assetQuality=s,e.assetLicenseType=l,e.displaySimilarImages=u,e.displayEventCarousel=c,e.showEditorialIcon=d,o()},o=function(i){var o,a;if(null==i&&(i=0),a="",e.displaySimilarImages&&"lightbox"!==(null!=(o=window.carouselSearchResults)?o.category:void 0))a="/asset-detail/more-like/"+e.assetId+".json?quality="+e.assetQuality+"&assettype="+e.assetType+"&license="+e.assetLicenseType+"&media_type="+e.mediaType,e.carouselType="more-like-this";else{if(!e.displayEventCarousel||!e.asset.eventId)return void r();a="/asset-detail/assets-by-event/"+e.eventId+"?asset_type="+e.assetType,e.carouselType="event"}n.getItems(a,i).then(function(n){var i,o;return(null!=(i=n.data.carousel)&&null!=(o=i.items)?o.length:void 0)>1?(e.title=n.data.carousel.title,e.items=n.data.carousel.items,e.header_links=n.data.carousel.header_links,t.trigger("track.adp.AdpCarouselLoaded")):r()})["catch"](function(){return r()})},r=function(){window.carouselSearchResults&&window.carouselSearchResults.items.length>1&&(e.title=window.carouselSearchResults.title,e.items=window.carouselSearchResults.items,$.each(e.items,function(e,t){return t.href=i(t.id)}),e.carouselType=window.carouselSearchResults.category,t.trigger("track.adp.AdpCarouselLoaded"))},i=function(e){var t;if(t=window.carouselSearchResults.linkFormat,e&&t)return t.replace("{id}",e)}}])}.call(this),function(){angular.module("AdpApp").controller("AdpSecondaryCarouselController",["$scope","$http","$document",function(e,t,n){var r;return e.init=function(t,i,o,a){return n.trigger("track.adp.AdpSecondaryCarouselLoading"),e.assetType=t,e.assetQuality=i,e.assetFamily=o,e.photographer=a,e.carouselType="photographer",r()},r=function(i){var o;null==i&&(i=0),"film"!==e.assetType&&"elite"===e.assetQuality&&(o="/asset-detail/more-from-this-photographer?family="+e.assetFamily+"&photographer="+e.photographer,t({method:"GET",url:o,headers:{Accept:"application/json"}}).error(function(){if(0===i)return r(++i)}).success(function(t){if(t.carousel&&t.carousel.items&&t.carousel.items.length>1)return e.title=t.carousel.title,e.items=t.carousel.items,e.header_links=t.carousel.header_links,n.trigger("track.adp.AdpSecondaryCarouselLoaded")}))}}])}.call(this),function(){var e;e={primary:!1,secondary:!1},angular.module("AdpApp").run(["$document","$window","omnitureReady",function(t,n,r){var i,o;return t.on("track.adp.AdpCarouselLoading",function(){return e.primary=!0}),t.on("track.adp.AdpSecondaryCarouselLoading",function(){return e.secondary=!0}),t.on("track.adp.SameSeriesCarouselLoaded",function(){return e.sameSeriesLoaded=!0}),t.on("adpcarousel.track.carousel.same-series",function(){var e;return null!=(e=window.combinedGtmTracking)?e.setUIElementLocation("view_all_similar_adp"):void 0}),t.on("adpcarousel.track.carousel.more-like-this",function(){var e;return null!=(e=window.combinedGtmTracking)?e.setUIElementLocation("view_all_same_series_adp"):void 0}),t.on("adpcarousel.track.carousel.event",function(){var e;return null!=(e=window.combinedGtmTracking)?e.setUIElementLocation("view_all_event_adp"):void 0}),t.on("track.adp.AdpCarouselLoaded",function(){return r.then(function(){var t,n,r,a;return e.primary&&(n=$("#adp_carousel section.carousel").attr("carousel-type"),t=i(n)),e.secondary&&(a=$("#adp_secondary_carousel section.carousel").attr("carousel-type"),null!==t&&(t+="|"),t+=i(a)),e.sameSeriesLoaded&&(r=$("#adp_same_series_carousel section.carousel").attr("carousel-type"),null!==t&&(t+="|"),t+=i(r)),o(t)})}),t.on("click","#adp_carousel li a",function(){var e;return e=$("#adp_carousel section.carousel").attr("carousel-type"),$.storageQueueManager.localStore.set("omniture-prop-66","Carousel|"+i(e))}),t.on("click","#adp_secondary_carousel li a",function(){var e;return e=$("#adp_secondary_carousel section.carousel").attr("carousel-type"),$.storageQueueManager.localStore.set("omniture-prop-66","Carousel|"+i(e))}),i=function(e){var t;switch(t="",e){case"more-like-this":t="SimilarImages";break;case"event":t="MoreFromEvent";break;case"search":t="SearchResults";break;case"lightbox":t="CurrentLightbox";break;case"photographer":t="MoreFromPhotographer";break;case"same-series":t="SameSeries"}return t},o=function(e){return t.trigger("track.adp.carouselTrackingData",{carouselTitle:e})}}])}.call(this),function(){angular.module("AdpApp").controller("SameSeriesCarouselController",["$scope","$document","carouselItemsService",function(e,t,n){var r;return e.init=function(t,n,i,o){return e.assetId=t,e.stackId=n,e.assetType=i,e.displaySameSeries=!0,e.showEditorialIcon=o,r()},r=function(r){var i;if(null==r&&(r=0),e.displaySameSeries&&e.stackId)return t.trigger("track.adp.SameSeriesCarouselLoaded"),i="/asset-detail/same-series/"+e.stackId+"?assettype="+e.assetType,e.carouselType="same-series",n.getItems(i,r).then(function(t){var n;if(t.data.carousel&&t.data.carousel.items&&t.data.carousel.items.length>1)return e.title=t.data.carousel.title,e.items=function(){var r,i,o,a;for(o=t.data.carousel.items,a=[],r=0,i=o.length;r<i;r++)n=o[r],n.id!==e.assetId&&a.push(n);return a}(),e.header_links=t.data.carousel.header_links})}}])}.call(this),function(){angular.module("AdpApp").factory("carouselItemsService",["$http",function(e){var t;return t=function(n,r){return null==r&&(r=0),n=window.siteMap.cleanRelativePath(n),e({method:"GET",url:n,headers:{Accept:"application/json"}}).error(function(){return 0===r?t(n,++r):{}}).success(function(e){return e})},{getItems:t}}])}.call(this),function(){var e,t,n,r,i,o,a,s,l,u;t=function(){return $(".add-to-cart")},l=function(){return $("#update_cart")},u=function(){return $(".view-cart")},o=function(){return $(".price-in-cart")},n=function(e){var t;if(null==e&&(e=0),t=$.AssetDetail.currentAssetId())return $.ajax({url:"/purchase/carts/item?asset_id="+t,dataType:"json",success:function(e){if(e.length>0)return s(e),a()},error:function(){if(0===e)return n(++e)}})},a=function(){return t().addClass("hide"),l().addClass("hide"),u().removeClass("hide"),$("form.addSizeLicense").data("sizeInCart",$("form.addSizeLicense").data("initialSize"))},s=function(e){var t;if(e[0].Product&&(t=e[0].Product.SizeCode))return $("form.addSizeLicense tr[data-size="+t+"] input").attr("checked","checked"),$("form.addSizeLicense").data("initialSize",t)},e=function(){return $("form.addSizeLicense").on("submit",function(){return $(this).data("initialSize",$("input[name=size_code]:checked").val())}),$("form.addSizeLicense input[name=size_code]").on("change",function(){var e,n;if(t().hasClass("hide"))return e=$("input[name=size_code]:checked").val(),n=$("form.addSizeLicense").data("sizeInCart"),n===e?(l().addClass("hide"),u().removeClass("hide")):(l().removeClass("hide"),u().addClass("hide"))})},r=function(){return o().on("click",function(){return i()}),$("form.addToCart").on("ajax:success",function(e,t){if(!t||"Error"!==t.status)return a()})},i=function(){return $("#unpriced-add-to-cart").submit()},$.AssetDetail||($.AssetDetail={}),$.AssetDetail.Cart={init:function(){if(t().length>0)return n(),r(),e()}},$(document).safeReady(function(){return $.AssetDetail.Cart.init()})}.call(this),function(){var e;$.AssetDetail||($.AssetDetail={}),e={handleEmptySizeList:function(){var e;if(e=$(".image_sizes"),e.length>0&&0===e.find("tbody tr").length)return e.hide(),$.AssetDetail.disableActionButtons()},disableActionButtons:function(){var e,t,n,r,i;for(r=[$("#download_button"),$(".add-to-cart"),$("#easy_access_download")],i=[],t=0,n=r.length;t<n;t++)e=r[t],e.length>0?i.push(e.unbind().click(function(e){return e.preventDefault()}).removeClass("modalOpen").removeClass("enabled").attr("disabled","disabled")):i.push(void 0);return i},currentAssetId:function(){return $("h1.title").first().attr("data-asset-id")},currentAssetQuality:function(){return $(".search_results").first().attr("data-asset-quality")},primaryEditorialEventId:function(){return $("h1.title").first().attr("data-primaryEditorialEvent")},persistPopupCookieOnReload:function(){var e,t,n,r,i;e=null!=(r=UniAdp.captureOptOut)?r:{1:0},t=null!=(i=UniAdp.isPopup)?i:{1:0},(UniAdp.captureOptOut||UniAdp.captureOptOut)&&(n=new UniPopupCookie(window.location.hostname,e,t),document.cookie=n.get())}},$.extend($.AssetDetail,e),$.AssetDetail.currentAssetId(),$(document).safeReady(function(){return $.AssetDetail.handleEmptySizeList(),$(".toggle-checkbox").bind("click",function(){return $.post("/detail/preferences",{asset_detail_preferences:{show_metadata:$(".toggle-checkbox").prop("checked")}})}),$(document).on("contextmenu",".more-images .asset img",function(){return!1})}),$(window).on("beforeunload",$.AssetDetail.persistPopupCookieOnReload),$(document).ready(function(){1===$("#seo-carousel").length&&$.imagePager.register("#seo-carousel")})}.call(this),function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e=function(){function e(e,t){var n,r;null==e&&(e={}),null==t&&(t="/search/2/image"),this.params={},this.baseUrl=t;for(r in e)this.params["function"==typeof r.toLowerCase?r.toLowerCase():void 0]="function"==typeof(n=e[r]).toLowerCase?n.toLowerCase():void 0}return e.prototype.param=function(e,t){if(e&&t)return this.params[e.toLowerCase()]=t.toLowerCase()},e.prototype.removeNonFilterParameters=function(e){var n,r;n=e?["mediaformat","mediatype","family","excludenudity","orientation","whitebackgroundonly","collections"]:["family","license"];for(r in this.params)t.call(n,r)<0&&delete this.params[r];return null},e.prototype.url=function(){var e,t;t=this.baseUrl.match(/\?/)?"&":"?";for(e in this.params)this.params.hasOwnProperty(e)&&(this.baseUrl+=""+t+e+"="+encodeURIComponent(this.params[e]),t="&");return this.baseUrl},e}(),window.ContractUrlBuilder=e}.call(this),function(){angular.module("AdpApp").run(["$document","trackingHelper",function(e,t){return e.on("imageDetails.metadata",function(){var e;return e=!0===window.tracking_data.metadataDetails?"ADP-ShowDetails":"ADP-HideDetails",s.linkTrackVars=t.myPageVariablesAnd([]),s.linkTrackEvents="",s.tl(!0,"o",e)})}])}.call(this),function(){$("#facebook-button").length>0&&(window.fbAsyncInit=function(){return FB.init({appId:284407575061190})},function(e){var t,n,r;t="facebook-jssdk",e.getElementById(t)||(n=e.createElement("script"),n.id=t,n.async=!0,n.src="//connect.facebook.net/en_US/all.js",r=document.getElementsByTagName("script")[0],r.parentNode.insertBefore(n,r))}(document)),$("#facebook-button").click(function(){if(FB)return FB.getLoginStatus,FB.ui({method:"share",href:$(this).data().url},function(){})}),$("#twitter-button").click(function(){var e,t,n,r;return n=encodeURIComponent($(this).data().url),t=encodeURIComponent(window.location.href),r=encodeURIComponent($(this).data().caption),e="https://twitter.com/intent/tweet?original_referer="+t+"&text="+r+"&tw_p=tweetbutton&url="+n,window.open(e,"twitter_intent","width=550,height=450")}),$(".open-social-button").click(function(){return $(".social-buttons").toggle(),!1}),$("body").click(function(){return $(".social-buttons").hide()}),$("#tumblr-button, #twitter-button, #facebook-button").click(function(){return $(".social-buttons").hide()}),$(".social-buttons").click(function(e){return e.stopPropagation(),!1})}.call(this),function(){var e;e=function(){var e,t,n;return t=$.cookie("vis"),t&&(n=$.deparam(t).vid),e="",e=void 0===n?"?caller=getty-adp":"?visitor="+n+"&caller=getty-adp",$.gettyEmbed.open(".embed-modal",$(this).data("width")),$.gettyEmbed.show(""+$(this).data("endpoint")+e+"&uni=true",{assetFamily:$(this).data("asset-family"),assetId:$(this).data("asset-id")})},angular.module("AdpApp").directive("giEmbed",function(){return{link:function(t,n){return n.bind("click",e)}}}),$.AssetDetail||($.AssetDetail={}),$.AssetDetail.Embed={init:function(){return $(".embedButton").click(e),$("#tumblr-button").click(function(){return $.ajax({url:""+$(this).data("endpoint"),async:!1,success:function(e){return function(t){var n;return n=$(e).data("tumblr-share-url"),$(e).attr("href",n+encodeURIComponent($(t.embedTag)[0].outerHTML))}}(this)})})}},$(document).safeReady(function(){return $.AssetDetail.Embed.init()})}.call(this),function(){angular.module("AdpApp").directive("giFancyCartAddToCartButton",["$timeout","$window",function(e,t){return{link:function(n,r){var i;return i=function(){var r;return r=!n.isSizeInCart()&&!n.isAssetPricedInCart(),e(n.stationaryizeElement),eventBus.on("addToCartSuccess",function(){return e(n.stationaryizeElement),r=!1}),angular.element(t).bind("scroll",function(){r&&(n.scrollLocationReached()&&n.scrollingAddToCartButton?e(n.stationaryizeElement):n.scrollLocationReached()||n.scrollingAddToCartButton||e(n.scrollifyElement))})},n.scrollifyElement=function(){return n.scrollingAddToCartButton=!0},n.stationaryizeElement=function(){return n.scrollingAddToCartButton=!1},n.scrollLocationReached=function(){var e,n,i;return n=null!=(e=$(".more-images").offset())?e.top:void 0,i=angular.element(t).height(),t.pageYOffset>n-i-r.height()},i()}}}])}.call(this),function(){angular.module("AdpApp").directive("giFancyCartAdpDropdown",function(){return{link:function(e){var t;return t=function(){},eventBus.on("addToCartSuccess",function(){return $(".fancy-cart-adp-dropdown").show()}),e.closeDropdown=function(){return $(".fancy-cart-adp-dropdown").hide(),!0},t()}}})}.call(this),function(){angular.module("FirehoseApp",["giMosaic"])}.call(this),function(){angular.module("FirehoseApp").controller("FirehoseController",["$scope","$http","$timeout",function(e,t,n){var r,i,o,a,s,l,u,c;return window.$scope=e,c={},e.assets=[],e.inTray=[],e.inTraySize=0,u=120,e.lastSearchTime=30,e.statsState=Number(localStorage.firehoseStatsState)||0,l=20,o=null,s=null,r=$("*[data-firehose-channel]").data("firehose-channel"),a=function(){var o,l;return l=new Date,o="/galleries/firehose.json",r&&(o+="?channel="+r),t.get(o).success(function(t){var r,o,d;for(e.lastSearchTime=(new Date-l)/1e3,o=0,d=t.length;o<d;o++)r=t[o],c[r.asset_id]||(c[r.asset_id]=!0,e.inTray.unshift(r));return e.inTraySize=e.inTray.length,e.dripInterval=Math.max(u/e.inTraySize,1.5),e.inTraySize>0?(i(),e.nextRefresh=Math.max(u-1.2*e.lastSearchTime,30)):e.nextRefresh=30,e.nextRefreshCountdownStart=new Date,s&&n.cancel(s),s=n(function(){return a()},1e3*e.nextRefresh)}).error(function(){return s&&n.cancel(s),s=n(function(){return a()},6e4)})},i=function(){var t;if(o&&n.cancel(o),!e.paused)for(l+=1;l>0;){if(l-=1,!(t=e.inTray.pop()))return;e.assets.unshift(t),e.assets=e.assets.slice(0,100)}return o=n(i,1e3*e.dripInterval)},e.nextRefreshIn=function(){return Math.floor(e.nextRefresh+(e.nextRefreshCountdownStart-new Date)/1e3)},e.select=function(t,n){return console.log("select!",t),n&&n.preventDefault(),e.selectedAsset=t},e.statsClick=function(){return e.statsState+=1,e.statsState>2&&(e.statsState=0),localStorage.firehoseStatsState=e.statsState},e.togglePause=function(){if(e.paused=!e.paused,!e.paused)return i()},a()}]),angular.module("FirehoseApp").filter("round",function(){return function(e){return Math.round(100*Number(e))/100}})}.call(this),angular.module("giMosaic",[]),function(e){function t(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function n(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height}function r(e){var r=this;t(this),this.__resizeRAF__&&u(this.__resizeRAF__),this.__resizeRAF__=l(function(){n(r)&&(r.__resizeLast__.width=r.offsetWidth,r.__resizeLast__.height=r.offsetHeight,r.__resizeListeners__.forEach(function(t){t.call(r,e)}))})}function i(){if(!a){var e=(b||"")+".resize-triggers { "+(w||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),a=!0}}var o=document.attachEvent,a=!1,s=e.fn.resize;if(e.fn.resize=function(e){return this.each(function(){this==window?s.call(jQuery(this),e):addResizeListener(this,e)})},e.fn.removeResize=function(e){return this.each(function(){removeResizeListener(this,e)})},!o){var l=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(t){return e(t)}}(),u=function(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}(),c=!1,d="",p="animationstart",f="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m="",g=document.createElement("fakeelement");if(g.style.animationName!==undefined&&(c=!0),!1===c)for(var v=0;v<f.length;v++)if(g.style[f[v]+"AnimationName"]!==undefined){m=f[v],m+"Animation",d="-"+m.toLowerCase()+"-",p=h[v],c=!0;break}var y="resizeanim",b="@"+d+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",w=d+"animation: 1ms "+y+"; "}window.addResizeListener=function(e,n){o?e.attachEvent("onresize",n):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),i(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),t(e),e.addEventListener("scroll",r,!0),p&&e.__resizeTriggers__.addEventListener(p,function(n){n.animationName==y&&t(e)})),e.__resizeListeners__.push(n))},window.removeResizeListener=function(e,t){o?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",r),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}(jQuery),function(){angular.module("giMosaic").directive("giMosaic",["$document","$window","$timeout",function(e,t,n){return{restrict:"A",link:function(r,i,o){var a,s,l,u,c,d;return u=!1,this.imgSelector=o.giMosaic||"a > img",this.minRatio=o.giMosaicMinRatio||.825,this.maxRatio=o.giMosaicMaxRatio||1.65,this.paddingSize=o.giMosaicPaddingSize||20,o.giMosaicMaxRows&&(this.maxRows=Number(o.giMosaicMaxRows)),this.resizeOnContentAdded=null==o.giResizeOnContentAdded||"true"===o.giResizeOnContentAdded,this.timeout=null!=o.giMosaicTimeout?Number(o.giMosaicTimeout):100,s=function(){return this.resizeOnContentAdded&&$(i).on("DOMNodeInserted DOMNodeRemoved",function(){return $(i).find(this.imgSelector).one("load",function(){return d()}),d()}),d(this.timeout),$(t).on("resize",function(){return d()}),$(i).resize(function(){return d()}),r.$watch(o.ngShow,function(e){if(e)return d()})},l=function(e,t){var n,r,i,o,s,l,u,c,p,f,h,m,g,v,y,b,w,_,k,x,C,T,S,E,D,A,M,P,O,j,I,L;for(null==t&&(t=null),o=$(e).find(this.imgSelector),D=!1,c=0,m=o.length;c<m;c++)r=o[c],r&&r.src?D=!0:$(r).one("load",function(){return d()});if(D){for(L=$(e).width(),P=a(o[0]),M=P*this.minRatio,_=this.maxRatio/this.minRatio,p=0,g=o.length;p<g;p++)l=o[p],$(l).height(M),t&&$(l).parents(t).css("width","");for(h=0,E=[],T=[],f=0,v=o.length;f<v;f++)l=o[f],j=l.getBoundingClientRect().top,j!==h&&T.length>0&&(E.push(T),T=[]),h=j,T.push(l);for(E.push(T),C=[],n=w=0,y=E.length;w<y;n=++w){for(T=E[n],s=0,k=0,b=T.length;k<b;k++)l=T[k],s+=$(l).width();I=T.length*this.paddingSize,A=L-I,x=A/s,O=x<_?x*M:_*M,u=function(){return n===E.length-1},S=function(){return s===A},C.push(function(){var e,t,r,o,a;for(a=[],r=0,e=T.length;r<e;r++)if(l=T[r],this.maxRows&&n>=this.maxRows)a.push($(l).hide());else{for(i=u()&&!S()?M:O,o=0,t=T.length;o<t;o++)l=T[o],$(l).height(i);a.push($(l).show())}return a}.call(this))}return C}},a=function(e){var t,n,r;return t=$(e),r=t.attr("style","")[0],n=Number($(e).css("height").match(/(\d+)px/)[1]),t.attr("style",r),n},d=function(e){if(null==e&&(e=0),!u)return u=!0,n(function(){return c(),u=!1},e)},c=function(){return l(i,o.giMosaic),e.trigger("mosaicResizeFinished")},s()}}}])}.call(this),function(){var e,t;e={mobileCaptionToggle:function(){return $(".meta .image_caption .toggle")},mobileCaption:function(){return $(".meta .image_caption")}},t=function(){return e.mobileCaptionToggle().click(function(){return e.mobileCaption().toggleClass("revealed")})},$.AssetDetail||($.AssetDetail={}),$.AssetDetail.ImageCaption={pageElements:e,init:function(){return t()}},$(document).safeReady(function(){return $.AssetDetail.ImageCaption.init()})}.call(this),function(){var e,t,n,r,i,o;n={tableContainer:function(){return $("#pricingTable")},sizeTable:function(){return $(".image_sizes")},priceSlot:function(e){return $("[data-size="+e+"] .pricing")},priceSlots:function(){return $(".image_sizes .pricing")},units:function(){return $(".image_sizes td.units span")},unitToggler:function(){return $(".image_sizes th.toggle_units")},addToCartButton:function(){return $(".add-to-cart")},viewCartButton:function(){return $(".view-cart")}},r=function(){var e;return $("body").on("transitionend",n.tableContainer().selector,function(){if(n.tableContainer().removeClass("animated").removeAttr("style"),n.tableContainer().attr("style"))return n.tableContainer().removeAttr("style")}),e=n.sizeTable().outerHeight(),n.tableContainer().css("height",e),$.AssetDetail.handleEmptySizeList()},e=function(e){var t;return t=[],e.forEach(function(e){return t.push({Price:e.price,DiscountPrice:e.discountPrice,RawPrice:e.rawPrice,SizeCode:e.name})}),t},t=function(t){return $.AssetDetail.ImageSizes.all=t,t[0]&&t[0].price&&(t=e(t)),t.forEach(function(e){var t;if(t=$('<span class="price" />').text(e.Price),n.priceSlot(e.SizeCode).find("label").append(t).parent().data("priced",!0),e.DiscountPrice&&e.DiscountPrice!==e.Price)return t.addClass("discounted").after($('<span class="price" />').text(e.DiscountPrice))}),$.each(n.priceSlots(),function(e,t){if(!$(t).data("priced"))return $(t).parent().remove()}),$("#simple-rm-editorial").show()},i=function(e){return null==e&&(e=0),$.ajax({url:"/purchase/"+n.tableContainer().data("table-type")+"-prices/"+$.AssetDetail.currentAssetId(),dataType:"json",success:t,error:function(){return 0===e?i(++e):($("#general-case-add-to-board").hide(),$(".custom-editorial-cta-small").hide(),$(".custom-editorial-cta-large").show())}}).always(r)},o=function(){return $(".image_sizes th .px").addClass("selected"),$(".dimensionsByUoM").addClass("hidden"),$("body").on("click touchstart",n.unitToggler().find("a").selector,function(){return n.units().toggleClass("hidden"),n.unitToggler().find("a").toggleClass("selected")})},$.AssetDetail||($.AssetDetail={}),$.AssetDetail.ImageSizes={all:[],elem:n,init:function(){if(n.unitToggler().length>0&&o(),n.priceSlots().length>0)return i()}},$(document).safeReady(function(){return $.AssetDetail.ImageSizes.init()})}.call(this),function(){angular.module("AdpApp").directive("giImageLoaded",["$document",function(e){return{link:function(t,n){return n.bind("load",function(){return e.trigger("image_loaded")})}}}])}.call(this),function(){angular.element(".adp-show-full-title-button").on("click",function(){return angular.element(".adp-show-full-title-button").hide(),angular.element(".title-keywords").show()})}.call(this),function(){var e,t,n,r;e={addToLightbox:function(){return $("#add_to_lightbox")},removeFromLightbox:function(){return window.UniAdp.anonymousLightboxes?$("#remove_from_lightbox"):$("#view_lightbox")},lightbox_status_url:function(){return $("form:has(#remove_from_lightbox)").attr("action")}},n=function(){return $(document).bind("lightboxItemSaved",function(){return e.addToLightbox().hide(),e.removeFromLightbox().show()})},r=function(){return $(document).bind("lightboxItemRemoved",function(){return e.addToLightbox().show(),e.removeFromLightbox().hide()})},t=function(){if(e.lightbox_status_url())return $.get(e.lightbox_status_url(),"",null,"script")},$.AssetDetail||($.AssetDetail={}),$.AssetDetail.Lightbox={pageElements:e,init:function(){return t(),n(),r()}},$(document).safeReady(function(){if($.AssetDetail.Lightbox.pageElements.addToLightbox().length>0)return $.AssetDetail.Lightbox.init()})}.call(this),function(){angular.module("AdpApp").run(["$document","trackingHelper",function(e){return e.on("pager.leftClick",function(){return $.storageQueueManager.localStore.set("adp-link","ADP|PageLeft")}),e.on("pager.rightClick",function(){return $.storageQueueManager.localStore.set("adp-link","ADP|PageRight")})}])}.call(this),function(){angular.module("AdpApp").directive("plainTextCopy",["$window",function(e){return{restrict:"A",scope:{},link:function(t,n){return t.init=function(){return n.on("copy",t.unformatText)},t.unformatText=function(t){var n;return n=e.getSelection().toString(),t.originalEvent.clipboardData.setData("text/plain",n),t.preventDefault()},t.init()}}}])}.call(this),function(){angular.module("AdpApp").directive("giPrestigeEditorialOnlyLabels",["$window","$document",function(e,t){return{link:function(n,r){return n.showPrestigeAndEditorialOnlyLabels=function(){return r.css("top",(angular.element(".image-wrapper").outerHeight(!0)-angular.element(".zoom-wrapper img").height())/2),r.css("left",(angular.element(".image-wrapper").outerWidth(!0)-angular.element(".zoom-wrapper img").width())/2),n.prestigeAndEditorialOnlyLabelsVisible=!0},t.on("image_loaded",n.showPrestigeAndEditorialOnlyLabels),angular.element(e).on("resize",n.showPrestigeAndEditorialOnlyLabels)}}}])}.call(this),function(){this.Query=function(){function e(e){var t,n,r,i,o,a,s;if("string"==typeof e)for(this.params={},o=e.toLowerCase().split("&"),t=0,n=o.length;t<n;t++)i=o[t],a=i.split("="),r=a[0],s=a[1],this.params[r]=decodeURIComponent(s);else this.params=e}return e.prototype.addParam=function(e,t){return this.params[e]=t},e.prototype.removeParam=function(e){if(void 0!==this.params&&null!==this.params&&void 0!==this.params[e])return delete this.params[e]},e.prototype.toQueryString=function(){var e,t,n,r;t=[],n=this.params;for(e in n)r=n[e],t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.join("&")},e}()}.call(this),function(){$(window).load(function(){var e,t;return t=window.location.href.split("/"),e=t[t.length-1],$(document).trigger("ad.royalties",e)})}.call(this),function(){var e,t,n,r,i,o,a,l;window.UniAdp||(window.UniAdp={}),a={api:function(){}},n=function(){return $.getScript("//p.socialstudio.radian6.com/lib/sfdc.js/dist/sfdc.min.js").then(function(){return a=new window.SFDC(window,1)})},l=window,r=JSON.parse(l.sessionStorage.previous_search_query||"{}"),o=function(){if(null!=r?r.params:void 0)return $(".backto a").attr("href","/salesforce/search?"+$.param(r.params)+"#"+$(".meta").data("asset-id"))},i=function(){return"bestpix"!==r.phrase&&$("input[name=phrase]").val(r.phrase),$.each(r,function(e,t){if("phrase"!==e)return $(".search form .search_fields").append("<input name="+e+" type=hidden>").find("input[name="+e+"]").val(t)})},e=function(){return $("body").on("click","a#SFcompUrl",function(e){var t;return e.preventDefault(),t="event54",s.events=t,s.tl(!0,"o",t),s.t(),a.api("/setComposeImage",{url:$(e.target).data("comp-url")})})},t=function(){return $("body").on("click","a#SFsubscriptionUrl",function(e){var t,n,r;return e.preventDefault(),r=$(e.target).data("download-token"),r||(t=$("#ultrapack-agreement-selector")[0])&&(r=t.value),n="event56",s.events=n,s.tl(!0,"o",n),s.t(),$.ajax({url:"/download/create.json",contentType:"application/json",data:{download_token:r},success:function(e){return a.api("/setComposeImage",{url:e.download_url}),$.gettyModal.find("#download_modal").close()}})}),$("#SFlicenseandinsert").on("click",function(){var e;return e="event55",s.events=e,s.tl(!0,"o",e),s.t()})},$.AssetDetail||($.AssetDetail={}),$.AssetDetail.Salesforce={init:function(){return n(),e(),t(),i(),o()}},$(document).safeReady(function(){if(window.UniAdp.salesforceEnabled)return $.AssetDetail.Salesforce.init()})}.call(this),function(){angular.module("AdpApp").directive("giScaleIframe",["$window",function(){return{scope:!0,link:function(e,t){var n;return n=t.find("iframe"),$(window).resize(function(){return n.height(t.height())})}}}])}.call(this),function(){var e,t,n,r,i,o;e={form:function(){return $(".sub-header .search_box")},container:function(){return this.form().find(".search_fields")},input:function(){return this.form().find("input:text")},submit:function(){return this.form().find("input:submit")}},r=function(){return"mobile"!==window.viewportSize},n=function(){return r()?e.input().attr("placeholder",e.input().data("desktop-placeholder")):e.input().attr("placeholder",e.input().data("mobile-placeholder")).removeClass("revealed")},i=function(){return $("#search_phrase").gettyAutosuggest(),$("body").focus()},t=function(t){var n,i,a;return a=e.input().val().trim(),n=e.input().hasClass("revealed"),i=n&&!r(),(r()||i)&&a?o(t):(t.preventDefault(),r()?void 0:(e.input().toggleClass("revealed"),e.submit().toggleClass("active")))},o=function(e){return function(e){if(e)return $.storageQueueManager.enqueue("search-link","keyword","localStore")}($("[data-outside-in]").length||$(e.target).parents(".outside-in").length)},$.AssetDetail||($.AssetDetail={}),$.AssetDetail.SearchBox={pageElements:e,init:function(){return n(),i(),$(window).on("resize",n),e.form().on("submit",t)}},$(document).safeReady(function(){return $.AssetDetail.SearchBox.init()})}.call(this),function(){var e,t,n,r,i;t={keyword:function(){return $(".keywords")},moreLikeThis:function(){return $("a.more_like")},searchByEvent:function(){return $("#viewAllLink a.by_event_id")},assetId:function(){
return $.AssetDetail.currentAssetId()},storedSearch:function(){var e;if(e=window,e.sessionStorage&&"undefined"!==e.sessionStorage.getItem("previous_search_query"))return e.sessionStorage.getItem("previous_search_query")}},e=function(){var e,t;return t={},e=tracking_data.asset_details,e&&"image"===e.asset_type&&!tracking_data.creative_search_includes_rm&&(t.family=e.asset_family,t.license=e.license_type,"elite"===e.quality&&(t.quality=e.quality)),t},i=function(n,r,i){var o;return t.storedSearch()?(o=new ContractUrlBuilder($.parseJSON(t.storedSearch()),i),o.removeNonFilterParameters(window.UniAdp.persistSearchFilters),o.param(n,String(r)),o.url()):(o=new ContractUrlBuilder(e(),i),o.param(n,String(r)),o.url())},n=function(){return $("body").on("click",t.keyword().selector+" a",function(e){var t,n,r;return n=$(e.target).clone().children().remove().end().text(),t=$(e.target).closest("a").attr("href"),currentSite.isiStock||"Bot"===$(e.target).data("search-bot")||("KeywordLink"===$(e.target).data("search-link")?t=i("phrase",n):"FilmKeywordLink"===$(e.target).data("search-link")&&(t=i("phrase",n,"/search/2/film"))),t=window.siteMap.cleanRelativePath(t),null!=(r=window.combinedGtmTracking)&&r.setUIElementLocation("keyword_button_adp"),$.popupWindow.close_and_redirect_parent(t,e)})},r=function(){return $("body").on("click",t.moreLikeThis().selector,function(e){var t,n;return t=$(e.target).closest("a").attr("href"),n=window,n.sessionStorage&&(t=i(null,null,t)),$.popupWindow.close_and_redirect_parent(t,e)})},$.AssetDetail||($.AssetDetail={}),$.AssetDetail.SearchFilter={pageElements:t,init:function(){return n(),r()}},$(document).safeReady(function(){var e;if(!(null!=(e=window.UniAdp)?e.salesforceEnabled:void 0))return $.AssetDetail.SearchFilter.init()})}.call(this),function(){var e,t,n,r,i,o,a,s,l,u,c,d;angular.module("giSpectrum",["giEvents"]).directive("giSpectrumView",["$http","$window","$timeout",function(e,t,n){return{link:function(){return $(t).load(function(){return n(function(){var t;if(u())return t=i(tracking_data),s(e,t,"Asset Details Viewed")})})}}}]),angular.module("giSpectrum").run(["eventBus","$http","$window","visitorExperiences","giLocalStorage","queryBuilder",function(e,t){var n,r;return $("body").on("click",".add-to-cart",function(){return r("Asset Added To Cart")}),$("body").on("click","#comp_modal .download_button",function(){return r("Asset Comp Downloaded")}),$("body").on("click",".main_image_wrapper img",function(){return r("Asset Left Clicked")}),$("body").on("contextmenu",".main_image_wrapper img",function(){return r("Asset Right Clicked")}),$("body").on("contextmenu",".main_film_wrapper video",function(){return r("Asset Right Clicked")}),e.on("galleryAppPageUpdate",function(){return r("Asset Details Viewed")}),e.on("track.singleDownload",function(e){return r("Asset Downloaded",{agreementType:e.agreementType})}),e.on("track.addToFavorites",function(){return r("Asset Added To Board"),combinedGtmTracking.gtmPushTracking("addToBoard")}),e.on("gallery.addToLightbox",function(e){return r("Asset Added To Lightbox",e)}),["Embed","Facebook","Pinterest","Tumblr","Twitter"].forEach(function(t){return["Adp","Gallery","GalleryTile"].forEach(function(n){return e.on(t.toLowerCase()+"Share"+n,function(e){var i;return i="embed"===t.toLowerCase()?"Asset Embedded":"Asset Shared",r(i,{asset:null!=e?e.asset:void 0,source:n,destination:t,is360Image:$(e.currentTarget).data().is360Image,assetType:$(e.currentTarget).data().assetType})})})}),e.on("galleryViewed",function(e){return n("Gallery Viewed",{gallery:o(e)})}),e.on("heroImageClicked",function(){return n("Hero Image Clicked")}),e.on("celebrityCarouselLeftArrowClicked",function(){return n("Celebrity Carousel Left Arrow Clicked",{ab_tests:[{name:"Celebrity Pivot Carousel",experience:tracking_data.celeb_pivot_experience}]})}),e.on("celebrityCarouselRightArrowClicked",function(){return n("Celebrity Carousel Right Arrow Clicked",{ab_tests:[{name:"Celebrity Pivot Carousel",experience:tracking_data.celeb_pivot_experience}]})}),$(document).on("celebrityCarouselImageClicked",function(e){return n("Celebrity Carousel Image Clicked",{celbrity_gallery_name:e.target.activeElement.title,ab_tests:[{name:"Celebrity Pivot Carousel",experience:tracking_data.celeb_pivot_experience}]})}),e.on("ribbonViewed",function(e){return n("Gallery Ribbon Viewed",{variation:e.variation})}),e.on("ribbonClicked",function(e){return n("Gallery Ribbon Clicked",{variation:e.variation,href:e.href})}),e.on("galleryShowTile",function(e){return e.asset.gallery,n("Gallery Card Viewed",{asset:e.asset,gallery:o(e.asset.gallery)})}),e.on("galleryTileWindowBreak",function(e){return n("Gallery Card Closed",{asset:e.asset,gallery:o(e.asset.gallery)})}),e.on("galleryTileClickOff",function(e){return n("Gallery Card Clicked Off",{asset:e.asset,gallery:o(e.asset.gallery)})}),e.on("galleryTileYouMayLikeClicked",function(e){var t;return t={asset:e.asset,gallery:o(e.asset.gallery),href:e.href},tracking_data.celeb_pivot_gallery&&(t.ab_tests=[{name:"Celebrity Pivot Carousel",experience:tracking_data.celeb_pivot_experience}]),n("Gallery Card Related Clicked",t)}),e.on("galleryTileRelatedThumbnailClicked",function(e){return n("Gallery Card Related Thumbnail Clicked",{asset:e.asset,gallery:o(e.asset.gallery),href:e.href})}),e.on("captionPersonalityLinkClicked",function(e){return n("Caption Personality Link Clicked",{asset:e.asset,name:e.text,href:e.href})}),e.on("embedCodeClicked",function(e){return n("Embed Code Clicked",{asset_id:e.assetId.toString()})}),e.on("topPhotosLinkClicked",function(e){return n("Top Photos Link Clicked",{href:e.currentTarget.href})}),n=function(e,n){var r;if(u())return r=a(tracking_data),(null!=n?n.asset:void 0)&&($.extend(r,i(tracking_data,n.asset)),delete n.asset),$.extend(r.properties,n),l(t,r,e)},r=function(e,n){var r;if(u())return r=i(tracking_data,null!=n?n.asset:void 0),null!=(null!=n?n.agreementType:void 0)&&(r.properties.agreement_type=n.agreementType),"Added To Board"===(null!=n?n.eventName:void 0)&&(r.properties.board_id=tracking_data.board_id),null!=(null!=n?n.destination:void 0)&&(r.properties.shared_destination=n.destination),null!=(null!=n?n.source:void 0)&&(r.properties.shared_source=n.source),(null!=n?n.gallery:void 0)&&(r.properties.gallery=n.gallery),(null!=n?n.href:void 0)&&(r.properties.href=n.href),"Asset Embedded"===e&&(r.properties.version="2","image"===n.assetType&&(r.properties.content_type=n.is360Image?"three-sixty image":"still image")),s(t,r,e)}}]),u=function(){return"undefined"!=typeof tracking_data&&null!==tracking_data&&c()},c=function(){return tracking_data.supports_spectrum},n=function(){return $.parseJSON(giLocalStorage.getItem("queried_keywords_by_clause"))},t=function(){var e;if(e=n())return e.length},o=function(e){var t;return t={title:e.title,asset_count:e.assetCount,type:e.type,type_id:e.category,related_celeb:$(".celeb-navigator").length,top_gallery_link:$("article.top-photo-link").length},e.assetPos&&(t.asset_pos=e.assetPos),t},i=function(e,r){var i,o,s;return r||(r=e.asset_details),s=d(r.is_search_by_assetid),o=giLocalStorage.getItem("prior_search_phrase"),i={properties:{asset_id:r.asset_id,station_linked:r.channels,queried_keywords_by_clause:s?n():void 0,number_of_concepts:s?t():void 0,phrase:s?giLocalStorage.getItem("current_search_phrase"):void 0,prior_search_phrase:s&&o?o:void 0,target_search_mix:s?giLocalStorage.getItem("target_search_mix"):void 0,asset_metadata:{editorial_products:r.editorial_products,asset_family:r.asset_family,asset_type:r.asset_type,has_nudity:r.has_nudity}}},tracking_data["adp-link-source"]&&(i.properties.adp_link_source=tracking_data["adp-link-source"]),e.gallery&&(i.properties.gallery=e.gallery),$.extend(!0,a(e),i)},e=function(e){return e.billing_country?e.billing_country:e.geolocation_country?e.geolocation_country:"USA"},a=function(t){return{source:t.site_nickname,properties:{url:location.href,referer:document.referrer,correlation_id:t.request_id,visitor_id:t.visitor_id,user_id:t.userid,country_code:e(t)}}},s=function(e,t,n){return t.event=n,t.properties.session_id=tracking_data.spectrum_session_id,visitorExperiences.isActive("GalleryThumbnailPivot")&&(t.properties.ab_test="KeywordsThumbsTest"),e.post(tracking_data.spectrum_host_three+"signals",JSON.stringify([t]))},l=function(e,t,n){return t.event=n,t.properties.session_id=tracking_data.spectrum_session_id,visitorExperiences.isActive("GalleryThumbnailPivot")&&(t.properties.ab_test="KeywordsThumbsTest"),e.post(tracking_data.spectrum_host_three+"signals",JSON.stringify([t]))},d=function(e){return!e&&r()},r=function(){var e,t,n;return t=new QueryBuilder,e=t.normalizeUrl(document.referrer)[1],n=t.parseQuery(e)[0],null!=n.phrase}}.call(this),function(){var e;e={subHeader:".sub-header",messaging:".sub-header .messaging"},$.AssetDetail||($.AssetDetail={}),$.AssetDetail.SubHeader={init:function(){if($(e.messaging).text().trim().length>0)return $(e.messaging).on("click","a",function(t){var n;if(n=$(this).attr("href"),$(e.messaging).data("close-popup"))return $.popupWindow.close_and_redirect_parent(n,t)})}},$.AssetDetail.SubHeader.init()}.call(this),function(){var e,t,n,r,i,o,a,s;r={downloadContent:function(){return $("#download_content")},imageSizeList:function(){return $(".image_sizes")},imageSize:function(){return $('input[name="image[size]"]')},downloadButton:function(){return $("#download_button")},downloadModal:function(){return $("aside#download_modal")},downloadForm:function(){return $("#downloadForm")},downloadToken:function(){return $(".option-selected input[name='download_token']").val()},selectedImageSize:function(){return $("form.download input[name='image[size]']:checked").val()},compModalDownloadButton:function(){return $("#comp_modal .download_button")},easyAccessButton:function(){return $("#easy_access_download")},premiumAccessButton:function(){return $("#premium_access_download")}},a=function(){return r.downloadContent().on("change",'input[name="download_token"]',function(){return $('input[name="download_token"]').each(function(){return function(e,t){return $(t).closest("tr").toggleClass("option-selected",t.checked)}}())})},s=function(){return r.imageSize().on("change",function(){return r.imageSize().each(function(e,t){return $(t).closest("tr").toggleClass("option-selected",t.checked)})})},e=function(){return r.compModalDownloadButton().click(function(){return $.gettyModal.find($(this).parents(".modal")).close(),!0})},o=function(){return $("body").on("submit",r.downloadForm().selector,function(e){return e.preventDefault(),$("body").trigger("track.download",{selected_image_size:r.selectedImageSize(),download_type:r.downloadForm().find("tr[class=option-selected]").data("downloadtype")}),r.downloadForm().attr("disabled","disabled"),n(r.downloadToken())})},t=function(){return $.gettyModal.find("#download_modal").close()},n=function(e,o){return null==o&&(o=0),$.ajax({url:"/download/create.json",contentType:"application/json",data:{download_token:e},success:function(a){return window.Navigation.ajaxError(a)||!a.download_url?o<1?n(e,++o):i(a):(r.downloadForm().removeAttr("disabled"),t(),setTimeout(function(){return window.location=a.download_url},100))},error:function(t,r,a){var s;return s=JSON.parse(t.responseText).message,o<1?n(e,++o):i(r+": "+a+" - "+s)}})},i=function(){return $.gettyModal.find("#download_modal").close(),$("#download_button").trigger("click")},$.AssetDetail||($.AssetDetail={}),$.AssetDetail.Download={pageElements:r,init:function(){return a(),s(),o(),e()}},$(document).safeReady(function(){if("getty"!==tracking_data.site_nickname)return $.AssetDetail.Download.init()})}.call(this),function(){angular.module("giTodPopup",["giTodHelper","giLocalStorage","giAdp"])}.call(this),function(){angular.module("giTodPopup").directive("emailNotification",["$window","giLocalStorage","TodStorageService","TranscodingService",function(e,n,r,i){return{restrict:"E",replace:!0,templateUrl:"transcoding_progress/_email_notification.html",scope:{defaultEmail:"@"},link:function(e){return e.t=window.t,e.localStorageKey="tod-service.emailForNotification",eventBus.on("tod-service.tod-added",function(){return e.$apply(function(){if(e.savedOperations=r.getTods(),e.isRegisteredForEmailNotification())return i.registerEmailForNotification()})}),eventBus.on("todFinished",function(){if(e.savedOperations=r.getTods(),e.savedOperations.length<1)return n.removeItem(e.localStorageKey),e.email=e.defaultEmail}),e.registerEmailForNotification=function(){var t,n;if(t=function(){var t,r,i,o;for(i=e.savedOperations,o=[],t=0,r=i.length;t<r;t++)n=i[t],o.push(n.tod_job_id);return o}(),t.length>0)return i.registerEmailForNotification(e.email,t).then(function(){return e.saveEmailForNotification(e.email)})},e.saveEmailForNotification=function(t){return n.setItem(e.localStorageKey,t)},e.isRegisteredForEmailNotification=function(){return!!n.getItem(e.localStorageKey)},e.canOptInForNotifications=function(){var t;return t=/(^([^@\s<>]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$)(?!(\r|\n))/,!n.getItem(e.localStorageKey)&&e.savedOperations.length>0&&!!e.email.match(t)},e.postRegistrationMessage=function(){return t("post_notification_registration_message",{email:e.email})},e.init=function(){var t;return e.savedOperations=r.getTods(),e.savedOperations.length<1&&n.removeItem(e.localStorageKey),e.email=null!=(t=n.getItem(e.localStorageKey))?t:e.defaultEmail},e.init()}}}])}.call(this),function(){angular.module("giTodPopup").directive("transcoding",["$window","TodStorageService","TranscodingService",function(e,t,n){return{restrict:"E",replace:!0,templateUrl:"transcoding_progress/_transcoding.html",scope:{},link:function(r){return r.init=function(){return r.loadData()},r.loadData=function(){var e;return r.isLoading=!0,r.shouldShowErrorMessage=!1,r.transcodeOperations=[],e=t.getTods(),n.getTodsDetails(e).then(function(e){return r.addTods(e.data)})["catch"](function(){return r.shouldShowErrorMessage=!0})["finally"](function(){return r.isLoading=!1})},r.showNoResultsMessage=function(){return!r.isLoading&&0===r.transcodeOperations.length&&!r.shouldShowErrorMessage},r.todAlreadyBeingShown=function(e){return r.transcodeOperations.filter(function(t){return e.id===t.id&&e.size_id===t.size_id}).length>0},eventBus.on("tod-service.tod-added",function(e){return n.getTodsDetails([e]).then(function(e){return r.addTod(e.data[0])})["catch"](function(){return r.error=!0})}),r.addTods=function(e){var t,n,i,o;for(i=[],t=0,n=e.length;t<n;t++)o=e[t],i.push(r.addTod(o));return i},r.addTod=function(e){if(!r.todAlreadyBeingShown(e))return r.transcodeOperations.push(e)},r.openWindow=function(t){return null!==e.opener?e.opener.location=t:e.open("//"+e.location.host+t)},r.openPopup=function(t){return t.preventDefault(),e.open(t.target.href,"_blank","width=1060,height=600,top=50,left=50,alwaysRaised=yes,toolbar=0,directories=0,menubar=0,status=1,resizable=yes,location=0,scrollbars=1,copyhistory=0"),!1},r.init()}}}])}.call(this),angular.module("giTodHelper",["giTracking"]),function(){angular.module("giTodHelper").directive("bestQualityMessage",["t","visitorExperiences",function(e){return{restrict:"E",replace:!0,template:"<span>{{message}}</span>",scope:{size:"=",sizes:"=",buyCard:"=",impl:"=",sort:"="},link:function(t){var n,r;return t.message="",r={getSizeText:function(e){return null!=(null!=e?e.label:void 0)?e.label:""},isHD:function(){return void 0!==t.size&&void 0!==t.sizes&&t.sizes.filter(function(e){return r.getSizeText(e).startsWith("4K")||r.getSizeText(e).startsWith("HD")}).length>0},getBestQualitySize:function(){return"smallest-to-biggest"===t.sort?t.sizes[t.sizes.length-1]:t.sizes[0]},isMasterSize:function(){return r.getBestQualitySize()===t.size},getMessage:function(){if(r.isHD()){if(r.getSizeText(t.size).startsWith("4K")&&void 0!==t.buyCard&&"license"===t.buyCard.type)return e("four_k_for_the_price_of_hd");if(r.isMasterSize(t.size))return e("best_quality")}return""}},n=function(){return"rr-calc"===t.impl&&(r.getSizeText=function(e){return null!=(null!=e?e.Description:void 0)?e.Description:""}),r},t.Init=function(){return r=n(),t.message=r.getMessage()},t.Init()}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("unisporkal_engine/tod/tod_progress_bar.html",'<div class="progress-bar-container"><div class="meter" ng-if="!conversionDone"><span class="bar"></span><span class="converting">{{convertingLabel}}</span></div><button asset-id="{{assetId}}" ng-class="{&#39;download-complete&#39;: downloadComplete}" ng-click="downloadFile()" ng-if="conversionDone"><span>{{downloadLabel}}</span></button></div>')}]),function(){angular.module("giTodHelper").directive("transcodingProgressBar",["TodStorageService","$http","$interval","$window","$timeout","TranscodingService","omnitureReady","trackingHelper",function(e,n,r,i,o,a,l,u){return{restrict:"E",replace:!0,templateUrl:"/asset-detail/assets/unisporkal_engine/tod/tod_progress_bar-d44c3adab1036086daac93e9f5de274ca5968d7df65b8802a581ef6a731ca47e.html",scope:{assetId:"@",sizeId:"@"},link:function(n,c){return n.init=function(){return n.todOperation=e.getTod(n.assetId,n.sizeId),eventBus.trigger("todInitiated",n.todOperation),n.convertingLabel=t("site_specific."+tracking_data.site_nickname+".converting"),n.downloadLabel=t("download"),n.conversionDone=!1,n.estimatedTime=210,n.timeBetweenChecks=15,n.fakeDuration=n.estimatedTime,o(n.calculateAndSetProgress,0),n.stop=r(n.checkConversionStatus,1e3*n.timeBetweenChecks),l.then(function(){return n.track()})},n.track=function(){if("TranscodingProgress"!==s.pageName)return s.events="event173",s.linkTrackEvents="event173",s.linkTrackVars=u.myPageVariablesAnd("events,event173"),window.s.tl(!0,"o","TOD-ConvertingModal")},n.checkConversionStatus=function(){return a.isConversionDone(n.assetId,n.sizeId).then(function(t){return t.data.is_conversion_done?(r.cancel(n.stop),n.progress=100,n.todOperation=e.getTod(n.assetId,n.sizeId),e.removeTod(n.assetId,n.sizeId),eventBus.trigger("todFinished",n.todOperation),n.conversionDone=!0):n.calculateAndSetProgress()})["catch"](function(e){return console.log(e)})},n.fakeDurationIsOver=function(){return n.getElapsedTime()>n.fakeDuration},n.downloadFile=function(){return n.trackDownload(),n.download(n.todOperation.download_url),n.downloadComplete=!0},n.trackDownload=function(){return"undefined"!=typeof s&&null!==s&&(s.events="event3,event174",s.event3="Download",s.products="",tracking_data.products_string="",window.tracking_data.download_type=s.prop37=s.eVar37="purchase",s.linkTrackVars=u.myPageVariablesAnd("prop37,eVar37,events"),s.linkTrackEvents="event3,event174",s.tl(!0,"o","DownloadAfterConversion"))},n.download=function(e){return i.location.href=e},n.calculateAndSetProgress=function(){var e,t;return e=n.getElapsedTime(),t=e/n.estimatedTime*100,t>90&&(t=90),t<10&&(t=0),n.progress=10*Math.floor(t/10),n.updateProgressBar()},n.getElapsedTime=function(){var e;return n.createdDate=new Date(n.todOperation.created_date),e=new Date,(e.getTime()-n.createdDate.getTime())/1e3},n.updateProgressBar=function(){return c.find(".bar").css("width",n.progress+"%")},n.init()}}}])}.call(this),function(){angular.module("giTodHelper").factory("TodService",["$window","TodStorageService","visitorExperiences","eventBus",function(e,t,n,r){var i,o,a,l,u;return u=function(){if(e.user.isAuthenticated)return i()},i=function(){var t;return(void 0===e.todPopup||e.todPopup.closed)&&(t="/transcoding/progress",e.todPopup=e.open(t,"transcoding-popup","width=615,height=800,top=20,left=300,toolbar=no,scrollbars=yes,menubar=0,status=1,resizable=yes,status=no")),e.todPopup.focus()},o=function(e){return void 0!==e&&void 0!==e.availability&&"Immediately"!==e.availability&&n.isActive("TranscodeOnDemand")},a=function(n,i,o,a){var s;if(e.user.isAuthenticated&&n&&i&&o&&a)return t.existsTod(n,i)?t.updateUrl(n,i,o,a):(s=t.addTod(n,i,o,a),r.triggerAllWindows("tod-service.tod-added",s))},l=function(){var t;if("undefined"!=typeof s)return s.events="event172",s.linkTrackEvents="event172",s.event172="TOD-Message",t=e.pageTrackingVariables,void 0===t&&(t=e.opener.pageTrackingVariables),s.linkTrackVars="events,linkTrackEvents,event3,"+t,s.tl(!0,"o","TOD-Message")},{triggerPopup:function(){return u()},saveData:function(e,t,n,r){return a(e,t,n,r)},requiresTranscoding:function(e){return o(e)},trackHoverTriggered:function(e){return l(e)}}}])}.call(this),function(){angular.module("giTodHelper").factory("TodStorageService",["$window","giLocalStorage",function(e,t){var n,r,i,o,a,s,l,u,c,d,p,f;return n="tod_assets",r={},i=function(t,n,i,a){var s;return p(),s={},o(t,n)||(s.asset_id=t,s.size_id=n,s.created_date=new Date(e.Date()).toISOString(),s.download_url=i,s.tod_job_id=a,r.tods.push(s)),c(),s},o=function(e,t){return-1!==l(e,t)},f=function(e,t,n,i){var o;return p(),o=l(e,t),-1!==o?(r.tods[o].tod_job_id=i,r.tods[o].download_url=n,c(),r.tods[o]):null},s=function(e,t){var n;return p(),n=l(e,t),-1!==n?r.tods[n]:null},a=function(e,t){return p(),-1!==l(e,t)},d=function(e,t){var n;return p(),-1!==(n=l(e,t))&&(r.tods.splice(n,1),c(),!0)},p=function(){var i,o,a,s;o=0,s=e.tracking_data.userid,i=[];try{i=JSON.parse(t.getItem(n))||[]}catch(e){e}for(;o<i.length;){if(i[o].user_id===s)return void(r=i[o]);o++}return a={},a.user_id=s,a.tods=[],r=a},c=function(){var e,i,o,a;i=0,a=tracking_data.userid,o=[],e=!1;try{o=JSON.parse(t.getItem(n))||[]}catch(e){e}for(;i<o.length;){if(o[i].user_id===a){o[i].tods=r.tods,e=!0;break}i++}return e||o.push(r),t.setItem(n,JSON.stringify(o))},u=function(){return p(),r.tods},l=function(e,t){var n;for(n=0;n<r.tods.length;){if(r.tods[n].asset_id===e&&r.tods[n].size_id===t)return n;n++}return-1},{addTod:function(e,t,n,r){return i(e,t,n,r)},updateUrl:function(e,t,n,r){return f(e,t,n,r)},removeTod:function(e,t){return d(e,t)},getTod:function(e,t){return s(e,t)},getTods:function(){return u()},existsTod:function(e,t){return a(e,t)}}}])}.call(this),function(){angular.module("giTodHelper").service("TranscodingService",["$http",function(e){return{isConversionDone:function(t,n){return e.get("/transcoding/is-conversion-done",{headers:{Accept:"application/json"},params:{asset_id:t,size_id:n}})},getTodsDetails:function(t){return e.post("/transcoding/progress.json",{headers:{Accept:"application/json"},user_tods:t})},registerEmailForNotification:function(t,n){return e.post("/transcoding/notifications/register",{headers:{Accept:"application/json"},email:t,job_ids:n})}}}])}.call(this),function(){angular.module("AdpApp").directive("giTrackCompDownload",["$document",function(e){return{scope:{trackEvar:"@",trackProp:"@"},link:function(t,n){return null==t.trackEvar&&(t.trackEvar="eVar37"),null==t.trackProp&&(t.trackProp="prop37"),n.on("contextmenu",function(){return e.trigger("comp.saveToDesktopRight",{evar:t.trackEvar,prop:t.trackProp})}),n.on("mousedown",function(n){if(0===n.button)return e.trigger("comp.saveToDesktopLeft",{evar:t.trackEvar,prop:t.trackProp})})}}}]),angular.module("AdpApp").run(["$document","trackingHelper","trackingService",function(e,t,n){var r;return r=function(e,r){return s.linkTrackVars=t.myPageVariablesAnd(r.prop+","+r.evar+",event9,events"),s.linkTrackEvents="event9",s[r.evar]=s[r.prop]=e,"eVar62"!==r.evar&&"prop37"!==r.prop&&"eVar37"!==r.evar||(tracking_data.download_type=e),s.event9="Download",s.events="event9",s.tl(!0,"o",e),s.eVar37?window.tracking_data.download_type=s.eVar37:s.prop37&&(window.tracking_data.download_type=s.prop37),n.singleDownload("comp")},e.on("comp.saveToDesktopRight",function(e,t){return"istock"===tracking_data.site_nickname?r("comp download",t):r("SaveToDesktopRight",t)}),e.on("comp.saveToDesktopLeft",function(e,t){return"istock"===tracking_data.site_nickname?r("comp download",t):r("SaveToDesktopLeft",t)}),e.on("comp.previewImage",function(){return r("preview image",{evar:"eVar37",prop:"prop37"})}),e.on("comp.previewFilm",function(){return r("preview film",{evar:"eVar37",prop:"prop37"})})}])}.call(this),function(){var e,t,n,r,i,o,a,l,u,c,d,p,f,h,m;f=function(e){var t,n,r,i,o,a;if(i=$.siteCatalyst.pageTrackingVariables(),t=$.extend({},i),e&&e.length>0)for(o=e.split(","),n=0,r=o.length;n<r;n++)a=o[n],t[a]=!0;return $.map(t,function(e,t){return t}).join(",")},i={imageContainer:function(){return $(".main_image_wrapper img")},addToCart:function(){return $(".add-to-cart")},compModalButton:function(){return $("#comp_modal .download_button")},assetId:function(){return $.AssetDetail.currentAssetId()},printOnDemandBanner:function(){return $("section.print_on_demand a")},printOnDemandAnonCallToAction:function(){return $("div#anon_print_on_demand a")}},h=function(){var e,t;if(t=window,t.sessionStorage&&window.JSON&&(e=t.sessionStorage.getItem("previous_search_query")),i.assetId()&&e&&"undefined"!==e)return window.tracking_data.keyword_searched=$.parseJSON(e).phrase},l=function(){return $("body").on("click","#add_to_lightbox",function(){return"undefined"!=typeof s&&null!==s&&(s.linkTrackVars=f("events"),s.linkTrackEvents="event5",s.events="event5",s.event5="LightboxAdd",s.tl(!0,"o","LightboxAdd"))}),$("body").on("click","a[data-messaging=getty_sign_in]",function(){return"undefined"!=typeof s&&null!==s&&(s.linkTrackVars=f("prop52"),s.linkTrackEvents="event39",s.events="event39",s.prop52="adp|msgBanner",tracking_data.ui_element_location="adp|msgBanner",tracking_data,s.tl(!0,"o","adp|msgBanner"))})},r=function(){var e,t;return t=function(e){var t;return s.linkTrackVars=f("prop37,eVar37,events,eVar85"),s.linkTrackEvents="event9",s.eVar85=null!=(t=window.giLocalStorage)?t.getItem("target_search_mix"):void 0,s.eVar37=s.prop37=e,tracking_data.download_type=e,s.event9="Download",s.events="event9",s.tl(!0,"o",e)},$("body").on("contextmenu",".main_image_wrapper img",function(){return t("SaveToDesktopRight")}),$("body").on("contextmenu",".main_film_wrapper video",function(){return t("SaveToDesktopRight")}),$("body").on("mousedown",".main_image_wrapper img",function(e){if(0===e.button)return t("SaveToDesktopLeft")}),$("body").on("click","#comp_modal.image .download_button",function(){return t("preview image")}),$("body").on("click","#comp_modal.film .download_button",function(){return t("preview clip")}),$("body").on("ajax:success","form.download",function(){return $(document).trigger("track.downloadModalOpen",{download_type:$("#download_type").data("downloadType")})}),$(".edit-this-photo-cta").on("track.edit_this_photo",function(){return s.pev2="Editor-Open",s.linkTrackVars=f("events,eVar5,prop7,eVar7,pev2"),s.events="event201",s.tl(!0,"o",s.pev2),window.combinedGtmTracking.gtmPushTracking("Edit the image")}),$(".adp-editor .new-feature-tooltip .close-icon").on("track.editor_message_modal_closed",function(){return s.pev2="Editor-Message-Close-Modal",s.linkTrackVars=f("events,eVar5,prop7,eVar7,pev2"),s.events="event207",s.tl(!0,"o",s.pev2)}),$("#download-button").on("track.istock_download_initiated",function(e,t,n,r){var i;return"undefined"!=typeof s&&null!==s&&(s.linkTrackEvents="event45",s.events="event45",i="events,prop65",r&&(s.eVar62=n?"Leader Download":"Member Download",tracking_data.download_type=n?"Leader Download":"Member Download",i+=",eVar62",s.events+=",event198",s.linkTrackEvents+=",event198"),s.linkTrackVars=f(i),s.tl(!0,"o",t.replace(/\s/g,"")))}),$("#download-button").on("track.istock_download_confirmed",function(t,n,r,i,o,a,l,u,c,d){var p,h,m;return"undefined"!=typeof s&&null!==s&&(p=o&&0===a,o=o&&!p,s.linkTrackEvents="event4",s.events="event4",h="events,products,prop7,eVar7,eVar13,eVar39,prop39,prop56,prop59,eVar62",s.eVar13=$.AssetDetail.Tracking.eVar13(r),s.prop39=s.eVar39=null!=(m=window.giLocalStorage)?m.getItem("target_search_mix"):void 0,s.prop56=r.asset_id,s.prop59="adp|download",tracking_data.ui_element_location="adp|download",p||l?(s.products=";;;;event23=0;;",tracking_data.products_string=";;;;event23=0;;",s.linkTrackEvents+=",event23,event33",s.events+=",event23,event33",l&&(h+=",eVar62",s.eVar62="redownload",tracking_data.download_type="redownload")):o?(s.products=";;;;event23="+a+";;",tracking_data.products_string=";;;;event23="+a+";;",s.linkTrackEvents+=",event23",s.events+=",event23",h+=",eVar62",s.eVar62="Credits",tracking_data.download_type="Credits"):(s.products=";SUBISTOCK1M",tracking_data.products_string=";SUBISTOCK1M",h+=",eVar62,prop24",s.eVar62="Subscription",tracking_data.download_type="Subscription",s.prop24=e(i)),c&&(s.eVar62+=u?" | Leader Download":" | Member Download",tracking_data.download_type+=u?" | Leader Download":" | Member Download"),c&&!u&&(window.tracking_data.download_with_team_credits=d),s.linkTrackVars=f(h),s.tl(!0,"o",n.replace(/\s/g,"")))}),$("#download-button").on("track.confirm_download",function(e,t,n){return"undefined"!=typeof s&&null!==s&&(s.linkTrackEvents+=",event198",s.events+=",event198",s.linkTrackVars+=f("eVar62"),n&&(s.eVar62=t?"Leader Download":"Member Download",tracking_data.download_type=t?"Leader Download":"Member Download"),s.tl(!0,"o","Download Image"))}),e=function(e){var t;return t=e.autoRenews?"on":"off",[e.remainingCount,e.downloadedCount,e.daysUntilExpiry,t].join("|")},$(document).on("track.download",function(e,t){var n,r;return"undefined"!=typeof s&&null!==s&&(r=t.selected_image_size,s.linkTrackEvents="event3",s.events="event3",s.event3="Download",s.prop31=s.eVar31=r,s.prop37=s.eVar37=t.download_type,tracking_data.download_type=t.download_type,(tracking_data.site_nickname="getty")?(s.eVar85=null!=(n=window.giLocalStorage)?n.getItem("target_search_mix"):void 0,s.linkTrackVars=f("eVar31,prop31,prop37,eVar37,eVar85, events")):s.linkTrackVars=f("eVar31,prop31,prop37,eVar37,events"),s.tl(t.asset_url,"d","Download this image"))}),$("#download-button").on("track.choose_account",function(e,t){return"undefined"!=typeof s&&null!==s&&(s.linkTrackVars=f("eVar77"),s.linkTrackEvents="event197",s.events="event197",s.eVar77="personalAccount"===t?"MyAccount":"SharedCreditAccount",s.tl(!0,"o","Choose Account"))}),function(e){return"pricing"===e?"event141":"event140"},$(document).on("track.downloadModalOpen",function(e,t){return"undefined"!=typeof s&&null!==s&&(s.linkTrackVars=f("prop32,eVar32"),s.linkTrackEvents="",s.events="",s.prop32=s.eVar32=$.tagManager.mapDownloadType(t),s.tl(!0,"o","DownloadModal"))})},u=function(){return $("body").on("click",".image_pager_left",function(){return $(document).trigger("track.pagerClick",{direction:"left"})}),$("body").on("click",".image_pager_right",function(){return $(document).trigger("track.pagerClick",{direction:"right"})})},m=function(){return $("body").on("click",".image_sizes th.toggle_units .px",function(){var e;return e="px",s.linkTrackVars="prop51,events",s.linkTrackEvents="event18",s.events="event18",s.prop51=e,s.tl(!0,"o","ADPSizeToggle"+e.toUpperCase())}),$("body").on("click",".image_sizes th.toggle_units .UoM",function(){var e;return e="in",s.linkTrackVars="prop51,events",s.linkTrackEvents="event18",s.events="event18",s.prop51=e,s.tl(!0,"o","ADPSizeToggle"+e.toUpperCase())})},d=function(){return $(".toggle-checkbox").on("click",function(){var e;return e="Hide",$(".toggle-checkbox").is(":checked")&&(e="Show"),s.tl(!0,"o","ADP-"+e+"MetaData")})},o=function(){return $(".twitter-share-button").on("click",function(){return"undefined"!=typeof s&&null!==s&&(s.linkTrackVars=f("prop52"),s.linkTrackEvents="",s.events="event44",s.prop52="adp",tracking_data.ui_element_location="adp",s.tl(!0,"o","TwitterIconAdp"),!1)}),$(".facebook-share-button").on("click",function(){return"undefined"!=typeof s&&null!==s&&(s.linkTrackVars=f("prop52"),s.linkTrackEvents="",s.events="event44",s.prop52="adp",tracking_data.ui_element_location="adp",s.tl(!0,"o","FacebookIconAdp"),!1)}),$("body").on("click",".embedButton, .embed-share-button",function(){return"undefined"!=typeof s&&null!==s&&(s.linkTrackVars=f("events,event44,prop52"),s.linkTrackEvents="event44",s.events="event44",s.events44="EmbedIconAdp",s.prop52="adp",tracking_data.ui_element_location="adp",s.tl(!0,"o","EmbedIconAdp"))}),$(".shareButton").on("click",function(){return"undefined"!=typeof s&&null!==s&&(s.linkTrackVars=f("events,event44,prop52"),s.linkTrackEvents="event44",s.events="event44",s.events44="ShareIconAdp",s.prop52="adp",tracking_data.ui_element_location="adp",s.tl(!0,"o","ShareIconAdp"))})},n=function(){return $(".sub_fold section.categories .category").on("click",function(){return s.linkTrackVars="events",s.linkTrackEvents="c_c",s.events="c_c",s.c_c=$(this).find("a").text(),s.tl(!0,"o","Category")})},c=function(){return $(document).on("track.inlinePurchase",function(e,t){return"undefined"!=typeof s&&null!==s&&null!=t&&(s.linkTrackEvents="purchase,event67",s.events="purchase,event67",t.products&&(s.linkTrackVars="products",s.products=t.products,tracking_data.products_string=t.products),
!1===t.hasPurchasedBefore&&(s.linkTrackEvents+=",event11",s.events+=",event11"),t.isNewlyCreated&&(s.linkTrackEvents+=",event21",s.events+=",event21"),t.orderId&&(s.linkTrackVars?s.linkTrackVars+=",purchaseID,eVar18":s.linkTrackVars="purchaseID,eVar18",s.purchaseID=s.tempeVar18=t.orderId),s.tl(!0,"o","InlinePurchase"))})},t=function(){var e,t;return $(document).on("track.pagerClick",function(e,t){var n,r;if("undefined"==typeof s||null===s)return!1;if(!e.handled)return r="thinkstock"===window.tracking_data.site_nickname?"prop33":"prop66",n=t.direction.charAt(0).toUpperCase()+t.direction.slice(1),s.linkTrackVars=f(r),s[r]="Carousel"+n,null!=s.prop66&&(window.tracking_data.carousel_interaction="Carousel"+n),s.linkTrackEvents="",s.events="",s.tl(!0,"o","Arrow "+n),e.handled=!0}),$(document).on("track.adp.carouselTrackingData",function(n,r){if("undefined"==typeof s||null===s)return!1;if(!n.handled)return s.linkTrackEvents="",s.events="","getty"===window.tracking_data.site_nickname&&e(r),"istock"===window.tracking_data.site_nickname&&t(r),n.handled=!0}),e=function(e){return s.linkTrackVars=f("prop54"),null!=s.prop66&&(delete s.prop66,window.tracking_data.carousel_interaction=""),s.prop54=e.carouselTitle,s.tl(!0,"o","ADPCarouselLoad-"+e.carouselTitle)},t=function(e){return s.linkTrackVars="prop62",tracking_data.more_results=s.prop62=e.carouselTitle,s.tl(!0,"o","ADPCarouselLoad-"+e.carouselTitle)}},a=function(){return $(document).on("track.addToFavorites",function(e,t){var n,r;return"undefined"!=typeof s&&null!==s&&(s.linkTrackVars=f("events,prop52,eVar85"),"getty"===window.tracking_data.site_nickname&&(s.eVar85=null!=(r=window.giLocalStorage)?r.getItem("target_search_mix"):void 0),s.linkTrackEvents="event47",s.events="event47",n="adp",t&&(n+="|"+t),tracking_data.adp_is_zoomed&&(n+="|"+tracking_data.adp_is_zoomed),s.prop52=n,tracking_data.ui_element_location=n,s.tl(!0,"o",n),combinedGtmTracking.gtmPushTracking("addToBoard"))}),$(document).on("track.removeFromFavorites",function(){return"undefined"!=typeof s&&null!==s&&(s.linkTrackVars=f("events,prop52"),s.linkTrackEvents="event48",s.events="event48",s.prop52="adp",tracking_data.adp_is_zoomed&&(s.prop52=s.prop52+"|"+tracking_data.adp_is_zoomed),tracking_data.ui_element_location="adp",tracking_data.adp_is_zoomed&&(tracking_data.ui_element_location=tracking_data.ui_element_location+"|"+tracking_data.adp_is_zoomed),s.tl(!0,"o",s.prop52),combinedGtmTracking.gtmPushTracking("removeFromBoard"))})},p=function(){var e,t,n,r,i,o;return r=function(e){return"undefined"!=typeof s&&null!==s&&(s.linkTrackVars="prop57,eVar57",s.linkTrackEvents="",s.prop57=s.eVar57=e,s.tl(!0,"o",e))},$(document).on("track.billingAddress",function(){return r("BillingAddress")}),$(document).on("track.paymentInformation",function(){return r("PaymentInformation")}),$(document).on("track.referenceInformation",function(){return r("ReferenceInformation")}),$(document).on("track.gettyToIStockBanner",function(e){if("undefined"==typeof s||null===s)return!1;if(!e.handled)return s.linkTrackVars=f("prop52,prop65,eVar65"),s.linkTrackEvents="event39",s.events="event39",s.prop52="adp|msgBanner",tracking_data.ui_element_location="adp|msgBanner",s.prop65=s.eVar65="exit_adp_istock",s.tl(!0,"o","adp|msgBanner"),e.handled=!0}),t=function(){var e;return e=document,Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight)},n=!0,e=!1,i=!1,o=!1,$(document).on("scroll",function(){var r,a,s,l;return n?setTimeout(function(){n=!1},1e3):(a=t(),r=$(window).scrollTop()+$(window).height()===a,s=$(window).scrollTop()+$(window).height()>=Math.round(a*(1/3)),l=$(window).scrollTop()+$(window).height()>=Math.round(a*(2/3)),r&&!e&&(e=!0,$(document).trigger("track.galleryScrollBottom",event)),s&&!i&&(i=!0,$(document).trigger("track.galleryScrollHalfway",event)),l&&!o?(o=!0,$(document).trigger("track.galleryScrollTwoThirds",event)):void 0)})},$.AssetDetail||($.AssetDetail={}),(e=$.AssetDetail).Tracking||(e.Tracking={}),$.AssetDetail.Tracking.EventBindings={pageElements:i,init:function(){if(p(),t(),a(),h(),l(),"getty"!==tracking_data.site_nickname&&r(),u(),m(),d(),window.embedEnabled&&o(),"istock"===tracking_data.site_nickname&&n(),"istock"===tracking_data.site_nickname)return c()}},$(document).safeReady(function(){return $.AssetDetail.Tracking.EventBindings.init()})}.call(this),function(){var e,t;$(document).on("track.galleryScrollBottom",function(){var n;return n=e()+"Mark Bottom",t(n)}),$(document).on("track.galleryScrollHalfway",function(){var n;return n=e()+"Mark 1/3",t(n)}),$(document).on("track.galleryScrollTwoThirds",function(){var n;return n=e()+"Mark 2/3",t(n)}),e=function(){return"Asset Viewed Mosaic Scrolled: "},t=function(e,t){var n;return n={source:"getty",event:e,properties:{referer:document.referrer,url:window.tracking_data.url,visitor_id:window.tracking_data.visitor_id,gallery_tile:window.gallery_title}},t&&angular.extend(n.properties,{height:t}),$.post(window.tracking_data.spectrum_host_three+"signals",JSON.stringify([n]))}}.call(this),function(){var e,t,n,r,i,o;t=function(e){return{eVar29:e.asset_id,prop29:e.asset_id,referrer:e.referrer}},r=function(e){var t,n,r,i;r={},n=JSON.parse(e);for(t in n)i=n[t],r[t]=i;return r},i={getty:function(e,t){var n,r,i,o,a,l,u,c,d,p,f,h,m,g,v,y;if(y={},!0===t.embeddable&&(y.prop47="embed"),"remove"===window.tracking_data["trk-adp-capture"]&&(s.events="event64",y.event64="event64"),y.prop32="",window.tracking_data.gallery_event_id&&(y.prop32=window.tracking_data.gallery_event_id,window.tracking_data.editorial_event_id=window.tracking_data.gallery_event_id),t.active_experiences&&(i=t.active_experiences.split("|"),"undefined"!=typeof s.prop49&&null!==s.prop49&&(r=s.prop49.split("|")),void 0!==r&&null!==r&&(i=i.concat(r)),n=i.filter(function(e,t,n){return n.indexOf(e)===t}),y.eVar49=y.prop49=n.join("|"),tracking_data.ecommerce_test_variation=n.join("|")),y.prop52="",tracking_data.ui_element_location="",window.tracking_data.gallery_location_click?(y.prop52=window.tracking_data.gallery_location_click.source_page+"|"+window.tracking_data.gallery_location_click.click_location,tracking_data.ui_element_location=window.tracking_data.gallery_location_click.source_page+"|"+window.tracking_data.gallery_location_click.click_location,delete window.tracking_data.gallery_location_click):window.tracking_data["flyout-link"]&&(y.prop52=window.tracking_data["flyout-link"],tracking_data.ui_element_location=window.tracking_data["flyout-link"]),y.prop54="","adp"===window.tracking_data.gallery_page_type&&window.tracking_data.gallery_previews&&(y.prop54="Gallery|"+window.tracking_data.gallery_previews.split(",").join("|")),null!=t.date_submitted?y.prop74=t.date_submitted:y.prop74="","gallery"===e.gallery_page_type&&(s.events=""),!tracking_data["omniture-prop-66"])for(y.prop66="",l=["adp-link","carousel-image","search-nav","gallery_title","carousel-click"],o=0,u=l.length;o<u;o++)if(a=l[o],e[a]){tracking_data.carousel_interaction=y.prop66=e[a];break}return"true"===(null!=(p=window.giLocalStorage)?p.getItem("search.recently_viewed_tracking_data"):void 0)&&(tracking_data.ui_element_location="search_bar_assist_window",window.giLocalStorage.removeItem("search.recently_viewed_tracking_data")),tracking_data.gallery_tile_yml&&(y.prop52="gallery|tile|YML",tracking_data.ui_element_location="gallery|tile|YML"),tracking_data["carousel-click"]&&delete tracking_data["carousel-click"],t.tee_shirt_sizes&&(y.prop69=t.tee_shirt_sizes.join("|")),"film"===t.asset_type&&t.available_sizes&&(y.prop69=function(){var e,n,r,i;for(r=t.available_sizes,i=[],e=0,n=r.length;e<n;e++)c=r[e],i.push(c.name);return i}().join("|")),y.eVar96=null!=(f=t.has_nudity)?f.toString():void 0,y.eVar97=((null!=(h=t.content_warnings)?h.length:void 0)>0).toString(),y.prop7=y.eVar7=tracking_data.page_name,s.eVar85=null!=(m=window.giLocalStorage)?m.getItem("target_search_mix"):void 0,y.eVar87=(null!=(g=window.giLocalStorage)?g.getItem("assetDetail.adDismissed"):void 0)||window.user.isAuthenticated||window.user.isRemembered?"adp|LicenseOptionsView":"adp|ConsumerView",y.eVar84=/\/license\//.test(tracking_data.url)?"LicenseMode":"ConsumerMode",tracking_data.page_mode=/\/license\//.test(tracking_data.url)?"LicenseMode":"ConsumerMode",d=$.AssetDetail.Tracking.ProductStringMap(t),tracking_data.gallery?(y.eVar74=d,y.pageName="Gallery-"+tracking_data.gallery.type):(y.products=d,tracking_data.products_string=d,y.pageName={inside_in:function(e){return"InsideDetail-"+(e?"Popup":"Tabbed")}(null!=(v=window.sessionStorage)?v.pager_items:void 0),outside_in:"OutsideDetail"}[t.viewer_origin]),tracking_data.page_name=y.pageName,window.giLocalStorage.setItem("previous_page_name",y.pageName),collaborationTracking.setOmnitureVars(y),"transcoding_progress"===tracking_data.controller_name&&(y.pageName="TranscodingProgress",y.events="event173"),y},salesforce:function(e,t){var n;return n={},n.events="event53",n.prop60=n.eVar60=t.asset_id,n.prop64=n.eVar64=t.license_type,n.prop65=n.eVar65=t.collection_name,n.prop66=n.eVar66=t.photographer,n.pageName=e.page_name,n},thinkstock:function(e,t){var n,r;return r={},e["carousel-image"]&&(r.prop33=e["carousel-image"]),e["search-nav"]&&(r.prop34=e["search-nav"]),t.available_sizes&&(r.prop30=function(){var e,r,i,o;for(i=t.available_sizes,o=[],e=0,r=i.length;e<r;e++)n=i[e],o.push(n.teams_size);return o}().join("|")),r.prop26=[t.asset_id,t.collection_code,t.media_type,t.asset_usage].join("|"),r.pageName={inline:"thinkstock - image detail",popup:"thinkstock - image detail (popup)"}[t.layout_type],r},istock:function(e,t){var n,r,i,a;return a={},n=""+location.host+window.siteMap.cleanRelativePath("/"),"/"===n.slice(-1)&&(n=n.slice(0,-1)),a.eVar6=a.server=n,r=t.media_type,"film"===t.asset_type?a.pageName="iStock|Product|VideoFCP":r&&(a.pageName=function(){switch(!1){case"illustration"!==r:case"photo_and_illustration"!==r:case"photography_and_illustration"!==r:return"iStock|Product|VectorFCP";case"photo"!==r:case"photography"!==r:return"iStock|Product|PhotoFCP";case"film"!==r:return"iStock|Product|VideoFCP";default:return""}}()),tracking_data.page_name=a.pageName,window.giLocalStorage.setItem("previous_page_name",a.pageName),a.prop29=a.eVar29="",a.eVar13=$.AssetDetail.Tracking.eVar13(t),a.prop26=t.date_submitted,null!=(null!=(i=window.giLocalStorage)?i.getItem("target_search_mix"):void 0)&&(a.prop39=a.eVar39=window.giLocalStorage.getItem("target_search_mix")),a.prop56=t.asset_id,o(e),e.is_search_by_assetid?(a.eVar81="asset id search",a.events="event2,event3"):a.events="event3",e.order_id&&(a.events+=",purchase"),e.fast_checkout_test&&e.pricing_clarity&&("checkout"===e.pricing_clarity&&(a.eVar61="FC"),"pricing"===e.pricing_clarity&&(a.eVar61="PnP"),e.authenticated?e.has_purchased?e.has_subscription?e.has_subs_downloads||(a.eVar65="ADP FC-NoDLs-PrevPurchase",tracking_data.nav="ADP FC-NoDLs-PrevPurchase"):(a.eVar65="ADP FC-NoSub-PrevPurchase",tracking_data.nav="ADP FC-NoDLs-PrevPurchase"):(a.eVar65="ADP FC-NoSub-NoPrevPurchase",tracking_data.nav="ADP FC-NoDLs-PrevPurchase"):e.remembered?e.has_purchased||(a.eVar65="ADP FC-Logged Out-Remembered",tracking_data.nav="ADP FC-NoDLs-PrevPurchase"):(a.eVar65="ADP FC-Logged Out-NotRemembered",tracking_data.nav="ADP FC-NoDLs-PrevPurchase")),a}},o=function(e){var t,n,r;return n=!1,e.active_agreements&&e.active_agreements.length>0&&((n=e.active_agreements.some(function(e){if(e)return"Active"===e.status}))||(t=e.active_agreements.filter(function(e){return"Expired"===e.status}).first())&&(r=/prem/.test(t.sku.toLowerCase()))),{activeSubscription:n,hasExpiredSignatureSub:r}},n=function(e){return $(document).on("track.siteCatalystBeforeSend",function(){return function(n,o){var a,s,l,u;return l={},u=o.tracking_data,a=o.tracking_data.asset_details||{},s=o.tracking_data.gallery||{},o.tracking_data["carousel-link"]&&(o.tracking_data.more_results=tracking_data.carousel_interaction=l.eVar66=l.prop66=o.tracking_data["carousel-link"]),o.tracking_data.mosaic_asset_type&&(l.eVar66=l.prop66=o.tracking_data.mosaic_asset_type),o.tracking_data["carousel-link"]&&(window.tracking_data.nav=o.tracking_data["carousel-link"]),$.extend(l,t(a,e)),$.extend(l,i[u.site_nickname](u,a,s)),e&&$.extend(l,r(e)),$.extend(o.s,l),$.extend(o.pageTrackingVariables,l)}}())},$.AssetDetail||($.AssetDetail={}),(e=$.AssetDetail).Tracking||(e.Tracking={}),$.AssetDetail.Tracking.eVar13=function(e){var t,n;return n=("editorial_use_only"===e.allowed_use_code?"Editorial":void 0)||"Creative",t=e.media_type,"unknown"!==t&&void 0!==t||(t=e.asset_type),t&&("film"===t&&(t="video"),"photography"===t&&(t="photo"),"illustration"!==t&&"photo_and_illustration"!==e.media_type&&"photography_and_illustration"!==e.media_type||(t="vector"),t=t.charAt(0).toUpperCase()+t.slice(1)),[n,t,e.istock_collection].join("|")},$.AssetDetail.Tracking.ProductStringMap=function(e){var t;if(e.asset_family)return";"+[e.asset_family,e.asset_type,null!=(t=e.license_type)?t.toUpperCase():void 0,e.collection_code,"elite"===e.quality?"Prestige":e.quality,e.release_info].join("|")},$.AssetDetail.Tracking.OmniMap=function(e){return n(e)},$(document).safeReady(function(){var e;return e=window,e.sessionStorage&&e.sessionStorage.omniture_search_vars?$.AssetDetail.Tracking.OmniMap(e.sessionStorage.omniture_search_vars):$.AssetDetail.Tracking.OmniMap()})}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("AdpApp").factory("trackingService",function(){var t,n;return t=["credits","subscription","free_download","redownload"],n=function(n,r){var i,o,a,s,l,u,c,d,p,f,h;return e.call(t.concat(null),n)<0&&console.log("Unexpected payment_source '"+n+"'"),n&&(tracking_data.payment_source=n),r&&(tracking_data.extended_licenses=r),null!=(i=window.combinedGtmTracking)?i.gtmPushTracking("download",{download_payment_source:tracking_data.payment_source,download_type:tracking_data.download_type,products_string:tracking_data.products_string,downloaded_items:[{asset_family:null!=(o=tracking_data.asset_details)?o.asset_family:void 0,asset_id:null!=(s=tracking_data.asset_details)?s.asset_id:void 0,asset_type:null!=(l=tracking_data.asset_details)?l.asset_type:void 0,asset_usage:null!=(u=tracking_data.asset_details)?u.asset_usage:void 0,collection_code:null!=(c=tracking_data.asset_details)?c.collection_code:void 0,istock_collection:null!=(d=tracking_data.asset_details)?d.istock_collection:void 0,license_type:null!=(p=tracking_data.asset_details)?p.license_type:void 0,media_type:null!=(f=tracking_data.asset_details)?f.media_type:void 0,quality:null!=(h=tracking_data.asset_details)?h.quality:void 0,release_info:null!=(a=tracking_data.asset_details)?a.release_info:void 0}]}):void 0},{singleDownload:n}})}.call(this),function(){window.inViewport=function(e,t){var n,r;return null==t&&(t=0),e="undefined"!=typeof $&&null!==$?$(e)[0]:e,n=e.getBoundingClientRect(),(r=n.top+n.height*t)>=0&&r<=window.innerHeight},window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}())}.call(this),function(){!function(){"use strict";var e;e=angular.module("AdpApp"),e.directive("weTransfer",["$document","$rootScope","$timeout","weTransferService","$filter","$window","$templateCache","$sce","t",function(e,t,n,r,i,o,a,s,l){return{restrict:"E",require:"?ngModel",templateUrl:"_wetransfer_index.html",transclude:!0,scope:{downloadToken:"=",fileType:"@",assetId:"@",locale:"@?"},link:function(e,n){var i,a;return i=5,255,"#tags-input-field","input-filled","reduce-width",e.modalTitle=s.trustAsHtml(l("we_transfer_modal_title_"+e.fileType,{logo:"<span class=we-transfer-logo></span>"})),angular.element(o),e.emails=[],e.form={},e.model={},e.origModel=angular.copy(e.model),e.loadingState=!1,e.showSuccessfulModal=!1,e.showWeTransferRequestError=!1,e.shortLocale=e.locale.substr(0,2),e.t=l,a=["en","fr","es","de","pt","it"],e.init=function(){var t;return a.indexOf(e.shortLocale)>-1?(t='<iframe width="100%" height="50" frameborder="0" src="//we.tl/send/'+e.shortLocale+'"></iframe>',angular.element(".we-transfer-iframe").append(t)):angular.element(n).hide()},e.showWeTransferModal=function(t){t.stopPropagation(),e.showSuccessfulModal&&e.resetForm(),e.closeDropboxModal()},e.validateEmailsPattern=function(){var t;return t=/^([^@\s\x3c\x3e]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/,{test:function(n){var r,i,o,a;if(n){for(e.emails=n.split(/[\s,;]+/),e.emails=e.emails.filter(function(e){return!!e}),a=e.emails,i=0,o=a.length;i<o;i++)if(r=a[i],!t.test(r))return!1;return!0}}}}(),e.validateNumberOfEmails=function(t){var n,r;return n=t.$viewValue.split(/[\s,;]+/),n=n.filter(function(e){return!!e}),r=e.emailTagsUnderMaxLimit(n),e.form.weTransferForm.emailField.$setValidity("numberOfEmails",!0),!!r||(console.log("not under limit"),e.form.weTransferForm.emailField.$setValidity("numberOfEmails",!1),!1)},e.emailTagsUnderMaxLimit=function(t){var n;return n=t.length<=i,e.invalidMaxLimitMessageShown=!n,n},e.closeDropboxModal=function(){t.$broadcast("closeDropboxModal")},e.sendFileToWeTransfer=function(t){var n;if(!t)return e.loadingState=!0,n={downloadToken:e.downloadToken,toEmails:e.emails,emailMessage:e.model.messageData},r.sendToWeTransfer(n).then(function(t){e.loadingState=!1,e.showSuccessfulModal=!0,e.showWeTransferRequestError=!1,e.email=t.data.email})["catch"](function(){e.loadingState=!1,e.showWeTransferRequestError=!0})},e.resetForm=function(){e.showSuccessfulModal=!1,e.model=angular.copy(e.origModel),e.form.weTransferForm.$setPristine(),e.form.weTransferForm.$setUntouched()},e.init()}}}])}()}.call(this),function(){!function(){"use strict";angular.module("AdpApp").factory("weTransferService",["$q","$http",function(e,t){var n,r;return n="/downloads/wetransfer.json",void 0,r=void 0,r=function(e){return t({method:"POST",url:n,data:e})},{sendToWeTransfer:r}}])}()}.call(this),function(){angular.module("giSearchBox",["giLocalStorage"])}.call(this),function(){var e;e=function(){function e(){}return e.prototype.get=function(){return localStorage.getItem("search.lastSearchParameters")||null},e}(),angular.module("giSearchBox").service("lastSearchStorage",e)}.call(this),function(){this.QueryBuilder=function(){function e(){}var t,n,r;return e.prototype.parseQuery=function(e){return r(e)},e.prototype.normalizeUrl=function(e){var t,r,i,o,a;return r=e.split("?"),t=r[0],r.length>1?(o=r[1],a=n(o),i=a[0],a[1],[t+"?"+i,o]):[t,""]},e.prototype.normalizeUrlFromQuery=function(e){var t,r,i;return i=n(e),r=i[0],t=i[1],["/search/2/"+t+"?"+r,t]},r=function(e){var n,r,i,o,a,s,l,u,c;for(s={},n="image",l=e.toLowerCase().split("&"),r=0,i=l.length;r<i;r++)a=l[r],u=a.split("="),o=u[0],c=u[1],"assettype"===o&&(n=c),t(s,o,decodeURIComponent(c));return s.assettype||t(s,"assettype",n),[s,n]},t=function(e,t,n){return e[t]||(e[t]={}),e[t][n]=n,!0},n=function(e){var t,n,i,o,a,s,l,u,c;u=r(e),a=u[0],t=u[1],s=["language","contracturl","assettype"],l=[];for(o in a)if(i=a[o],!s.contains(o))for(n in i)""!==(c=i[n])&&l.push(o+"="+encodeURIComponent(c));return[l.join("&"),t]},e}(),angular.module("giSearchBox").service("queryBuilder",QueryBuilder)}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("unisporkal_engine/search_box_fancy/search_box_fancy.html",'<div gi-scroll-to-fixed="" id="search-container-fancy"><form action="{{actionUrl()}}" class="search-box-fancy" data-search-event="keyword" gi-search-box-istock="" method="GET"><fieldset class="search_box"><a class="prestige_logo" data-nav="nav_PrestigeLogo" href="/" style="display:none;" target="_self"><img alt="Getty Images Prestige" id="logo-prestige" src="/asset-detail/assets/unisporkal_engine/images/logo-prestige-810469c61a4f585bdb66b60cb22fd711beb9cfe987691a32ad576fa82189470c.svg" /></a><a class="site_logo" data-nav="nav_HomeLogo" href="/" target="_self"><img alt="Getty Images" id="search-logo" src="/landing/assets/unisporkal_engine/images/getty-logo.svg#black" viewBox="0 0 432 76" /></a><section class="media-filter" ng-class="{ &#39;sbi-media-filter&#39; : searchByImageEnabled }" ng-show="!pageIsPrestige &amp;&amp; !pageIsCreative &amp;&amp; !pageIsRF"><span class="media-filter-label" ng-class="{ &#39;open&#39; : mediaFiltersOpen }" ng-click="showMediaFilter(!mediaFiltersOpen)" ng-cloak="">{{mediaFilterLabel}}</span><div class="media-types" ng-class="{ &#39;open&#39; : mediaFiltersOpen, &#39;sbi-media-filter-open&#39; : searchByImageEnabled }"><ul><li><input class="media-checkbox asset-type-images" id="category-creative-image" name="family" ng-click="setAssetType(&#39;image&#39;); setSearchFlow()" ng-model="isCreativeImage" type="checkbox" value="creative" /><label for="category-creative-image">{{t("search_box.creative_images")}}</label><fieldset id="creative_image_licenses" ng-disabled="!isCreativeImage"><ul><li><input checked="checked" class="media-checkbox" id="creative-image-rm" name="license" ng-model="isCreativeImageRM" type="checkbox" value="rm" /><label for="creative-image-rm">{{t("search_box.rights_managed")}}</label></li><li><input checked="checked" class="media-checkbox" id="creative-image-rf" name="license" ng-if="!pageIsPrestige" ng-model="isCreativeImageRF" type="checkbox" value="rf" /><label for="creative-image-rf">{{t("search_box.royalty_free")}}</label></li></ul></fieldset></li></ul><ul><li><input class="media-checkbox asset-type-images" id="category-editorial-image" name="family" ng-click="setAssetType(&#39;image&#39;); setSearchFlow()" ng-model="isEditorialImage" type="checkbox" value="editorial" /><label for="category-editorial-image">{{t("search_box.editorial_images")}}</label><fieldset id="editorial_filters" ng-disabled="!isEditorialImage"><select name="editorialproduct" ng-model="editorialProducts" title="{{t(&quot;search_box.select_editorial_product&quot;)}}"><option value="">{{t("search_box.all_editorial")}}</option><option value="News">{{t("search_box.news")}}</option><option value="Sport">{{t("search_box.sport")}}</option><option value="Entertainment">{{t("search_box.entertainment")}}</option><option value="Contour">{{t("search_box.contour")}}</option><option value="Travel">{{t("search_box.travel")}}</option><option value="Publicity">{{t("search_box.publicity")}}</option><option value="Royalty">{{t("search_box.royalty")}}</option><option value="Archival">{{t("search_box.archival")}}</option></select><select name="recency" ng-model="recency" title="{{t(&quot;search_box.select_recency&quot;)}}"><option value="">{{t("search_box.any_date")}}</option><option value="last24hours">{{t("search_box.last_twenty_four_hours")}}</option><option value="last7days">{{t("search_box.last_seven_days")}}</option><option value="last30days">{{t("search_box.last_thirty_days")}}</option><option value="last12months">{{t("search_box.last_twelve_months")}}</option></select></fieldset></li></ul><ul ng-if="paAgreement"><li><input class="media-checkbox" id="paAgreement" ng-click="saveAgreement(&#39;pe&#39;)" ng-model="includedAgreements.pa" type="checkbox" value="" /><label for="paAgreement">{{t("search_box.premium_access_only")}}</label></li></ul><ul ng-if="edAgreement"><li><input class="media-checkbox" id="edSubAgreement" ng-click="saveAgreement(&#39;ed&#39;)" ng-model="includedAgreements.ed" type="checkbox" value="" /><label for="edSubAgreement">{{t("search_box.editorial_subscription_only")}}</label></li></ul><ul><li><input class="media-checkbox asset-type-video" id="category-creative-video" name="family" ng-click="setAssetType(&#39;film&#39;)" ng-model="isCreativeFilm" type="checkbox" value="creative" /><label for="category-creative-video">{{t("search_box.creative_video")}}</label><fieldset id="creative_film_licenses" ng-disabled="!isCreativeFilm"><ul><li><input checked="checked" class="media-checkbox" id="creative-film-rr" name="license" ng-model="isCreativeFilmRR" type="checkbox" value="rr" /><label for="creative-film-rr">{{t("search_box.rights_ready")}}</label></li><li><input checked="checked" class="media-checkbox" id="creative-film-rf" name="license" ng-model="isCreativeFilmRF" type="checkbox" value="rf" /><label for="creative-film-rf">{{t("search_box.royalty_free")}}</label></li></ul></fieldset></li></ul><ul><li><input class="media-checkbox asset-type-video" id="category-editorial-video" name="family" ng-click="setAssetType(&#39;film&#39;)" ng-model="isEditorialFilm" type="checkbox" value="editorial" /><label for="category-editorial-video">{{t("search_box.editorial_video")}}</label><fieldset id="editorial_film_licenses" ng-disabled="!isEditorialFilm"><ul><li><input checked="checked" class="media-checkbox" id="editorial-film-raw" name="segment" ng-model="isEditorialFilmRaw" type="checkbox" value="raw" /><label for="editorial-film-raw">{{t("search_box.raw")}}</label></li><li><input checked="checked" class="media-checkbox" id="editorial-film-produced" name="segment" ng-model="isEditorialFilmProduced" type="checkbox" value="pro" /><label for="editorial-film-produced">{{t("search_box.produced")}}</label></li></ul></fieldset></li></ul></div></section><input autocomplete="off" class="phrase" data-autosuggest-from="{{autoSuggestEndpoint}}" gi-auto-suggest="" id="search-phrase" name="phrase" placeholder="{{getSearchPlaceholderText()}}" type="text" /><input name="clarifications" type="hidden" /><input name="agreements" type="hidden" value="{{agreements()}}" /><input name="quality" ng-if="pageIsPrestige || (isElite &amp;&amp; isCreativeImageRM)" type="hidden" value="elite" /><input name="alloweduse" ng-if="isCreativeImageRFOnly()" type="hidden" value="availableforalluses" /><input name="autocorrect" ng-if="pageIsRF || pageIsCreative" type="hidden" value="phrase,assetids" /><div class="search-bar__camera" ng-cloak="" ng-show="searchByImageEnabled &amp;&amp; !(pageIsPrestige)"><a class="search-camera-icon" ng-class="{ &#39;shown&#39; : isCreativeImageOnly() }"><img src="/asset-detail/assets/unisporkal_engine/images/istock/istock_global-d7e401f19e6c19a9675205710664aae57336b66879fca2e2f55bdd926ea590f1.svg#camera-icon-sbi" viewBox="0 0 100 100" /></a></div><button type="submit"><img alt="Submit" src="/landing/assets/unisporkal_engine/images/search-icon.svg" /><span>{{t("search")}}</span></button></fieldset></form></div>')}]),function(){angular.module("giSearchBox").controller("SearchBoxFancyController",["$scope","lastSearchStorage","queryBuilder",function(e,t,n){var r,i,o,a,s,l,u,c,d,p,f,h,m,g,v,y,b,w;s=t.get()||"assettype=image&family=creative",l=n.parseQuery(s),o=l[0],i=l[1],e.assetType=i,e.isCreativeImage="image"===i&&(null!=(null!=(u=o.family)?u.creative:void 0)||null==o.family),e.isEditorialImage="image"===i&&(null!=(null!=(f=o.family)?f.editorial:void 0)||null==o.family),e.isCreativeFilm="film"===i&&(null!=(null!=(h=o.family)?h.creative:void 0)||null==o.family),e.isEditorialFilm="film"===i&&(null!=(null!=(m=o.family)?m.editorial:void 0)||null==o.family),e.pageIsPrestige=$("body.home-fancy").hasClass("elite"),e.pageIsCreative=$("body.home-fancy").hasClass("creative-images"),e.pageIsRF=$("body.home-fancy").hasClass("royaltyfree"),e.includedAgreements={},o.agreements&&(r=Object.keys(o.agreements)[0],e.includedAgreements.pa=r.indexOf("pa")>=0,e.includedAgreements.ed=r.indexOf("ed")>=0),null!=(null!=(g=o.quality)?g.elite:void 0)&&(e.isElite=null!=(v=o.quality)?v.elite:void 0,e.isCreativeImageRM=!0,e.isCreativeImageRF=!1),e.isCreativeImageRF=e.isCreativeImage&&(null!=(null!=(y=o.license)?y.rf:void 0)||null==o.license)||e.pageIsRF,e.isCreativeImageRM=e.isCreativeImage&&(null!=(null!=(b=o.license)?b.rm:void 0)||null==o.license)&&!e.pageIsRF,e.isCreativeFilmRR=e.isCreativeFilm&&(null!=(null!=(w=o.license)?w.rr:void 0)||null==o.license),e.isCreativeFilmRF=e.isCreativeFilm&&(null!=(null!=(c=o.license)?c.rf:void 0)||null==o.license),e.isEditorialFilmRaw=e.isEditorialFilm&&(null!=(null!=(d=o.filmsegments)?d.raw:void 0)||null==o.filmsegments),e.isEditorialFilmProduced=e.isEditorialFilm&&(null!=(null!=(p=o.filmsegments)?p.produced:void 0)||null==o.filmsegments),o.editorialproducts?(a=Object.keys(o.editorialproducts)[0],e.editorialProducts=a.charAt(0).toUpperCase()+a.substr(1)):e.editorialProducts="",e.mediaFiltersOpen||(e.mediaFiltersOpen=!1),e.agreements=[],e.saveAgreement=function(){var e,t;return $.cookie.raw=!0,$.cookie("sp")||$.cookie("sp","sf="),e=$.deparam($.cookie("sp")),t=e.sf?$.deparam(e.sf):{},t.agreements=this.agreements,e.sf=$.param(t),$.cookie("sp",$.param(e))},e.agreements=function(){return r=[],e.includedAgreements.pa&&r.push(e.paAgreement),e.includedAgreements.ed&&r.push(e.edAgreement),r.join()},e.actionUrl=function(){return visitorExperiences.isActive("SearchUrlBuilder")?"/search/url-builder/"+e.assetType:"/search/2/"+e.assetType},e.setAssetType=function(t){return"image"===t&&(e.isCreativeFilm=!1,e.isEditorialFilm=!1),"film"===t&&(e.isCreativeImage=!1,e.isEditorialImage=!1,e.isCreativeFilmRR=!0,e.isCreativeFilmRF=!0,e.isEditorialFilmRaw=!0,e.isEditorialFilmProduced=!0),e.assetType=t},e.setSearchFlow=function(){if(!t.get()&&!e.fullSearchOptions&&!0===e.isCreativeImage&&!1===e.isEditorialImage)return e.isCreativeImageRF=!0,e.isCreativeImageRM=!1},e.isCreativeImageOnly=function(){return e.isCreativeImage&&!e.isEditorialImage&&"image"===e.assetType},e.isCreativeImageRFOnly=function(){return e.isCreativeImageRF&&!e.isCreativeImageRM&&!e.isEditorialImage&&"image"===e.assetType||e.pageIsRF},e.showMediaFilter=function(t){return e.mediaFiltersOpen=t,!1},e.getSearchPlaceholderText=function(){return e.pageIsPrestige?e.t("search_box.search_prestige_images"):e.pageIsCreative||e.pageIsRF?e.t("search_box.search_creative_images"):e.t("search_box.search_placeholder")},$("body").on("click",function(t){$(t.target).closest(".media-filter").length||(e.mediaFiltersOpen=!1,e.$digest())})}])}.call(this),function(){angular.module("giSearchBox").directive("giSearchBoxFancy",["$http","$timeout","$window","visitorExperiences",function(e,n,r,i){return{restrict:"A",templateUrl:"/asset-detail/assets/unisporkal_engine/search_box_fancy/search_box_fancy-8fc291a69536205b35d05b9be89abfd1f1606dc591a4f7751ca05b429e87b1d3.html",link:function(o,a,s){var l,u;if("istock"!==tracking_data.site_nickname)return void a.css("display","none");o.searchByImageEnabled=i.isActive("SearchByImage"),o.mediaFilterLabel="",e.get("/search-box/search-box-data.json").then(function(e){o.autoSuggestEndpoint=e.data.autoSuggestEndpoint,o.searchBoxAgreements=e.data.searchBoxAgreements,e.data.searchBoxAgreements.length>0&&e.data.searchBoxAgreements.forEach(function(e){if(e.indexOf("pa")>=0&&(o.paAgreement=e),e.indexOf("ed")>=0)return o.edAgreement=e}),o.fullSearchOptions=e.data.fullSearchOptions,l()}),u=function(){n(function(){var e,n;return e=a.find("input.asset-type-images"),n=a.find("input.asset-type-video"),o.mediaFilterLabel=function(){switch(!1){case 2!==e.filter(":checked").length:return t("search_box.all_images");case!a.find("#category-creative-image").is(":checked"):return t("search_box.creative_images");case!a.find("#category-editorial-image").is(":checked"):return t("search_box.editorial_images");case 2!==n.filter(":checked").length:return t("search_box.all_video");case!a.find("#category-creative-video").is(":checked"):return t("search_box.creative_video");case!a.find("#category-editorial-video").is(":checked"):return t("search_box.editorial_video");default:return t("search_box.all_images")}}()},10)},l=function(){var e;(o.pageIsCreative||o.pageIsPrestige||o.pageIsRF)&&(o.isCreativeImage=!0,o.isEditorialImage=!1,o.setAssetType("image")),"allFilm"===s.defaultAssetType&&(o.isCreativeFilm=!0,o.isEditorialFilm=!0,o.setAssetType("film")),o.setSearchFlow(),u(),a.find("label").on("click",function(){return u()}),s.customInit&&(e=JSON.parse(s.customInit),o.setAssetType(e.assetType),"image"===e.assetType?(o.isCreativeImage=!1,o.isEditorialImage=!0,o.editorialProducts="All"===e.editorialProduct?"":e.editorialProduct):(o.isCreativeFilm=!1,o.isEditorialFilm=!0))},r.shimSvgForSafari&&r.shimSvgForSafari(a)}}}])}.call(this),function(){angular.module("giLocationEncoder",[]).config(["$provide",function(e){if("undefined"!=typeof history&&null!==history?history.pushState:void 0)return e.decorator("$location",["$delegate",function(e){var t;return t=e.url,e.url=function(){var n;return n=arguments[0],angular.isString(n)&&(arguments[0]=n.replace(/\+/g,"%20")),t.apply(e,arguments)},e}]),e.decorator("$browser",["$delegate",function(e){var t;return t=e.url,e.url=function(){var n;return n=t.apply(e,arguments),angular.isString(n)&&(n=n.replace(/\+/g,"%20")),n},e}])}])}.call(this),
angular.module("giCarousel",[]),angular.module("templates").run(["$templateCache",function(e){e.put("unisporkal_engine/carousel/carousel.html",'<div class="image_pager"><div class="std_nav"><div class="image_pager_left" gi-track="{{trackClickLeft}}"></div><div class="image_pager_right" gi-track="{{trackClickRight}}"></div></div><div class="scroll_area"><ul><li carousel-loaded="" data-asset-id="{{ item.id }}" ng-repeat="item in items track by item.id"><span ng-include="itemTemplate"></span><a data-asset-id="{{item.id}}" data-carousel-link="{{carouselLinkValue}}" gi-adp="{{adp}}" gi-track="carouselImageClick" ng-href="{{item.href}}" ng-if="!itemTemplate" target="{{adpTarget}}" title="{{item.title}}"><img alt="{{item.title}}" gi-carousel-src="{{item.thumb}}" /><div class="editorial-icon-overlay" ng-if="item.alloweduse == &quot;EditorialUseOnly&quot; &amp;&amp; showEditorialIcon"></div></a></li></ul></div><div class="alt_nav"><div class="image_pager_left" gi-track="{{trackClickLeft}}"></div><div class="image_pager_right" gi-track="{{trackClickRight}}"></div></div></div>')}]),function(){angular.module("giCarousel").directive("carouselLoaded",["$timeout",function(e){return{restrict:"A",link:function(t){if(t.$last)return e(function(){return t.$emit("CarouselLoaded")})}}}])}.call(this),function(){angular.module("giCarousel").directive("giCarousel",function(){return{restrict:"E",replace:!1,scope:!0,templateUrl:"/asset-detail/assets/unisporkal_engine/carousel/carousel-b8542b3873622e6175b5bac9c66a8ccaad18fa03b63226e70f1828084b5d22a7.html",link:function(e,t,n){var r,i,o,a,s,l;if(n.source&&(r=t.injector().get(n.source),r.getCarouselData().then(function(t){return e.items=t.items,e.title=t.title,e.trackClickLeft=t.trackClickLeft,e.trackClickRight=t.trackClickRight})),n.title&&(e.title=e.$eval(n.title)),n.items&&(e.items=e.$eval(n.items)),n.adp&&(e.adp=n.adp),n.adpTarget&&(e.adpTarget=n.adpTarget),n.itemTemplate&&(e.itemTemplate=e.$eval(n.itemTemplate)),n.carouselLinkValue&&(e.carouselLinkValue=n.carouselLinkValue),n.trackClickLeft&&(e.trackClickLeft=n.trackClickLeft),n.trackClickRight&&(e.trackClickRight=n.trackClickRight),e.trackClickLeft||(e.trackClickLeft="carouselArrowClickLeft"),e.trackClickRight||(e.trackClickRight="carouselArrowClickRight"),l=null!=(o=n.togglePagers)&&null!=(a=o.toString())?a.toLowerCase():void 0,s=-1!==["true","toggle-pagers"].indexOf(l),i=$.imagePager.register(t,s),e.registerPager)return e.registerPager(i)}}})}.call(this),function(){angular.module("giCarousel").directive("giCarouselSrc",["imageLoader",function(e){return{restrict:"A",link:function(t,n,r){return e.load(r.giCarouselSrc).then(function(){var e,i;if(n.attr("src",r.giCarouselSrc),t.$emit("CarouselImageLoaded"),null!=n[0].naturalHeight&&(i=n[0].naturalHeight,e=n[0].naturalWidth/n[0].naturalHeight,i<120&&i>0&&e>=2))return n.addClass("panorama")})}}}])}.call(this),function(){var e;e=function(){function e(e){this.q=e}return e.prototype.load=function(e){var t,n;return t=this.q.defer(),n=angular.element("<img/>"),n.on("load",function(){t.resolve(),n.remove()}),n.on("error",function(){t.reject("Image '"+e+"' failed to load"),n.remove()}),n.attr("src",e),t.promise},e}(),angular.module("giCarousel").factory("imageLoader",["$q",function(t){return new e(t)}])}.call(this),angular.module("iStockLightbox",[]),angular.module("templates").run(["$templateCache",function(e){e.put("unisporkal_engine/lightbox/istock/_add_to_lightbox.html",'<section class="lightbox-add-wrapper" ng-class="{&#39;lightbox-right&#39; : shouldDisplayOnRight()}"><header class="lightbox-title"><div class="lightbox-close" ng-click="toggleMenuOpen(false)"></div><strong>{{yourLightboxes}}</strong><div class="lightbox-close-btn close" ng-click="toggleMenuOpen(false)" ng-if="savePage"><span class="shape-group"><span class="shape shape1"></span><span class="shape shape2"></span></span></div></header><div class="lightbox-list"><div ng-include="appTemplatePath(&#39;unisporkal_engine/lightbox/istock/_create_lightbox.html&#39;)"></div></div><div class="lightbox-list-wrapper"><div ng-repeat="lightbox in lightboxes | limitTo: maxLightboxes"><div class="lightbox-row" data-lightbox-id="{{ lightbox.id }}" ng-class="{selected: isCheckboxSelected(lightbox.assets)}" ng-click="toggleLightbox($index)"><div class="lb-info" id="lightbox-name-{{lightbox.name}}">{{lightbox.name}} ({{lightbox.count}})</div><div class="lb-row-checkmark nothing" ng-class="{checked: isCheckboxSelected(lightbox.assets), nothing: !isCheckboxSelected(lightbox.assets)}"><span class="shape-group"><span class="shape shape1"></span><span class="shape shape2"></span></span></div></div></div><div class="lightbox-seemore" ng-click="extendLightboxList()" ng-show="hideExcessBoxes"><a><span>{{seeAllLightboxes}}</span><span class="lightbox-chevron"></span></a></div></div></section>')}]),angular.module("templates").run(["$templateCache",function(e){e.put("unisporkal_engine/lightbox/istock/_create_lightbox.html",'<form ng-submit="addNewLightbox()"><div class="lightbox-new-name-wrapper"><input id="lightbox-new-name" ng-model="editing.newLightboxName" placeholder="{{lightboxPlaceholder}}" type="text" /></div><div class="lightbox-create-btn-wrapper"><button class="primary-cta" id="lightbox-create-btn" type="submit">{{lightboxCreate}}</button></div></form>')}]),function(){"use strict";angular.module("iStockLightbox").factory("arrayHelperService",[function(){var e,t,n,r;return e=function(e){var t={},n=[],r=0;for(r;r<e.length;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n},t=function(e,t){var n=!0,r=0;if(0===t.length)n=!1;else if(e.length<t.length)n=!1;else for(r;r<t.length;r++)if(e.indexOf(t[r])<0){n=!1;break}return n},n=function(e,t){angular.forEach(t,function(t){var n=e.indexOf(t);n>=0&&e.splice(n,1)})},r=function(e,t){var n="";for(var r in e)(e[r]||0===e[r])&&(n=n+(""!==n?t:"")+e[r]);return n},{unique:e,containsArray:t,removeFromArray:n,smartJoin:r}}])}(),istock={},"undefined"!=typeof tracking_data&&"istock"==tracking_data.site_nickname&&tracking_data.is_authenticated&&(istock.siteLang=tracking_data.language),function(){"use strict";angular.module("iStockLightbox").factory("languageService",[function(){var e,t,n;return e=function(e,t){return!t&&e.indexOf("PT_BR")>-1?e:e.indexOf("_")>-1?e.split("_")[0]:e},t=function(t,n){var r="";return angular.isString(n)&&angular.isString(t)&&t&&n&&(r=e(t.toLowerCase(),!0)+"_"+n.toUpperCase()),r},n=function(t,n){var r="";return angular.isString(n)&&angular.isString(t)&&t&&n&&(-1!==t.toLowerCase().indexOf("pt")&&(t="pt"),r=n.toUpperCase()+"/"+e(t.toLowerCase(),!0)),r},{getIETFCode:e,formatRegionLanguageCode:t,formatCountryLanguage:n}}])}(),angular.module("templates").run(["$templateCache",function(e){e.put("unisporkal_engine/lightbox/istock/lightbox_button.html",'<div class="lightbox-wrapper" ng-class="{&#39;lightbox-open&#39;: menuOpen, &#39;lightbox-created&#39;: lightboxCreated, &#39;save-multiple-files&#39;: savePage}"><div class="lightbox-btn" id="lightbox-btn" ng-class="{close: menuOpen, plus: !lightboxCreated &amp;&amp; !alreadySaved &amp;&amp; !menuOpen, checked: lightboxCreated || (alreadySaved &amp;&amp; !menuOpen), expanding: (iconHover &amp;&amp; !menuOpen)}" ng-click="displayMenu()" title="{{ (menuOpen || iconHover) ? &#39;&#39; : lightboxTooltip }}"><span class="shape-group" ng-class="{slide: iconHover &amp;&amp; !menuOpen}"><span class="shape shape1"></span><span class="shape shape2"></span></span><span class="boards-text" ng-if="iconHover &amp;&amp; !menuOpen">{{lightboxTooltip}}</span></div><div class="lb-content-animation-fade" ng-if="menuOpen"><div class="lightbox-create-wrapper" ng-class="{&#39;lightbox-right&#39; : shouldDisplayOnRight()}" ng-if="lightboxes.length == 0"><header class="lightbox-title"><div class="lightbox-close" ng-click="toggleMenuOpen(false)"></div><strong>{{yourLightboxes}}</strong></header><div ng-include="appTemplatePath(&#39;unisporkal_engine/lightbox/istock/_create_lightbox.html&#39;)"></div></div><div ng-if="lightboxes.length != 0"><div ng-include="appTemplatePath(&#39;unisporkal_engine/lightbox/istock/_add_to_lightbox.html&#39;)"></div></div></div><div class="lb-content-animation-fade" ng-if="lightboxCreated &amp;&amp; !menuOpen"><div class="lightbox-added" id="lightbox-added-id">{{lightboxUpdatedText}}</div><div class="shape-group-wrapper checked"><span class="shape-group" ng-if="savePage"><span class="shape shape1"></span><span class="shape shape2"></span></span></div></div></div>')}]),function(){var e,n;e=3,n=angular.module("iStockLightbox"),n.directive("lightbox",["$timeout","$window","$document","lightboxService","arrayHelperService","$location","$rootScope",function(n,r,i,o,a,l,u){return{restrict:"E",scope:{assetType:"=",mediaType:"=",assetCollection:"=",gettyIds:"=",fileIds:"=?",assetLicense:"=",appId:"=",user:"=",error:"=?",iconHover:"=?"},templateUrl:"/asset-detail/assets/unisporkal_engine/lightbox/istock/lightbox_button-6774f5f5bc72ee053038fd4e00b71353433079859b3ce803d5eec256717648c2.html",link:function(c,d){return c.maxLightboxes=e,c.lightboxCreated=!1,c.lightboxUpdatedText="",c.seeAllLightboxes=t("see_all_lightboxes"),c.yourLightboxes=t("your_lightboxes"),c.lightboxTooltip=t("add_to_lightbox"),c.lightboxPlaceholder=t("lightbox_name"),c.lightboxCreate=t("lightbox_create"),c.menuOpen=!1,c.hideExcessBoxes=!1,c.lightboxes=[],c.editing={newLightboxName:""},c.error={showErrorMessage:!1,errorMessage:""},c.appTemplatePath=function(e){return""+e},c.alreadySaved=!1,c.isCheckboxSelected=function(e){return a.containsArray(e,c.gettyIds)},c.toggleLightbox=function(e){var n,r,s;return n=c.lightboxes[e],r=void 0,s="",a.containsArray(n.assets,c.gettyIds)?(r=o.removeFromLightbox(n.id,c.gettyIds),c.error.showErrorMessage=!1,a.removeFromArray(n.assets,c.gettyIds),n.count-=c.gettyIds.length,s=t("removed_from_lightbox_name",{lightbox_name:n.name})):(r=o.addToLightbox(n.id,c.gettyIds).then(function(){var e,t;return i.trigger("gallery.addToLightbox",{assetId:c.gettyIds[0]}),c.addToLightboxOmnitureEvent(n.name,"event5","AddToLightbox"),t=n.assets.length,c.error.showErrorMessage=!1,n.assets=a.unique(n.assets.concat(c.gettyIds)),e=n.assets.length,n.count+=e-t}),s=t("added_to_lightbox",{lightbox_name:n.name})),c.toggleMenuOpen(!1,!0),c.showLightboxUpdated(s),r["catch"](function(){return c.displayError()})},c.clearLightboxCache=function(){var e,t,n,r;for(r=[],e=t=0,n=localStorage.length;0<=n?t<n:t>n;e=0<=n?++t:--t)localStorage.key(e).indexOf("lightbox-")>-1?r.push(localStorage.removeItem(localStorage.key(e))):r.push(void 0);return r},c.processLightboxes=function(t,n,r,i,a){return c.lightboxes=angular.copy(t.favorites),c.error.showErrorMessage=!1,c.hideExcessBoxes=!1,t.totalResults>e&&(c.hideExcessBoxes=!0),o.searchLightboxes(n,r,i,a).then(function(e){return c.lightboxes=angular.copy(e.favorites),c.alreadySaved=!1,c.lightboxes.length>0&&c.lightboxes[0].assets.length>0&&(c.alreadySaved=!0),c.error.showErrorMessage=!1})["catch"](function(){return c.displayError()})},c.retrieveLightboxes=function(e,t,n,r){var i;return i="lightbox-"+JSON.stringify({pageNumber:t,itemsPerPage:n,includeAll:r,assets:e}),localStorage.getItem(i)?c.processLightboxes(angular.fromJson(localStorage.getItem(i)),e,t,n,r):o.searchLightboxes([],t,n,r).then(function(i){return c.processLightboxes(i,e,t,n,r)})["catch"](function(){return c.displayError()})},c.displayMenu=function(){var e,t,n,i;return t="u_s",$.cookie(t)&&"1"===$.cookie(t)?c.menuOpen?c.toggleMenuOpen(!1,!0):c.toggleMenuOpen(!0,!1):(n=""!==l.url()?l.url():r.location.pathname+r.location.search,e=new Date,e.setMinutes(e.getMinutes()+5),$.cookie("lightbox_referrer",!0,{path:"/",expires:e,secure:!0}),i="join",tracking_data&&"remembered"===tracking_data.auth_state&&(i="sign-in"),r.location="/"+i+"?returnurl="+encodeURIComponent(n))},c.addNewLightbox=function(){var e,n,r;return n=c.editing.newLightboxName,""===n&&(e=c.generateLightboxName(),n=t("my_favorites_lightbox_name",{lightbox_name:e}),c.editing.newLightboxName=n),c.createLightboxReq(n).then(function(e){return c.lightboxAddReq(e,n)["catch"](function(){return c.displayError()})})["catch"](function(){return c.displayError()}),c.clearLightboxCache(),c.toggleMenuOpen(!1,!0),r=t("saved_to_lightbox_name",{lightbox_name:n}),c.showLightboxUpdated(r)},c.createLightboxReq=function(e){return o.createLightbox(e).then(function(e){return c.error.showErrorMessage=!1,e})},c.lightboxAddReq=function(e,t){return o.addToLightbox(e,c.gettyIds).then(function(){return i.trigger("gallery.addToLightbox",{assetId:c.gettyIds[0]}),c.addToLightboxOmnitureEvent(t,"event6","AddCreateLightbox")})},c.generateLightboxName=function(){var e,t;return e=new Date,t=[e.getMonth()+1,e.getDate(),e.getFullYear()],"("+t.join("/")+")-"+o.incrementDefaultNameCount()},c.extendLightboxList=function(){return c.hideExcessBoxes=!1,o.searchLightboxes([],1,3,!0).then(function(e){return c.hideAddDialog(),c.lightboxes=angular.copy(e.favorites),c.error.showErrorMessage=!1,c.maxLightboxes=e.totalResults,c.savePage&&n(c.positionRelativeToTop,0),o.searchLightboxes(c.gettyIds,1,3,!0).then(function(e){return c.lightboxes=angular.copy(e.favorites),c.error.showErrorMessage=!1})["catch"](function(){return c.displayError()})})["catch"](function(){return c.displayError()})},c.toggleMenuOpen=function(t,r){return c.menuOpen=void 0!==t?t:!c.menuOpen,r||c.retrieveLightboxes(c.gettyIds,1,3,!1),c.menuOpen?(c.openLightboxModalOmnitureEvent(),c.setupModalOutClick(),c.editing.newLightboxName="",u.$broadcast("lightbox-opened",{fileId:c.fileIds}),c.savePage?n(c.positionRelativeToTop,0):void 0):(c.maxLightboxes=e,c.hideExcessBoxes=!1,c.clearModalOutClick())},c.lightboxOmnitureEventData=function(){var e,t,n,r,i,o;return n="Creative","editorialuseonly"===c.assetLicense.toString()&&(n="Editorial"),i=c.mediaType.toString().toLowerCase(),t=c.assetType.toString().toLowerCase(),o="illustration"===i?c.mediaType.toString():"film"===t?"Video":"Photo",e=c.assetCollection.toString().toLowerCase(),r="signature"===e?"Signature":"signatureplus"===e?"Signature+":"Essentials",[n,o,r].join("|")},c.openLightboxModalOmnitureEvent=function(){if("srp"===c.appId)return s.eVar13=c.lightboxOmnitureEventData(),s.prop56=c.gettyIds[0],s.linkTrackVars="prop56,eVar13",s.events="event74",s.linkTrackEvents="event74",s.tl(!0,"o","SRP-LightboxModalOpen")},c.addToLightboxOmnitureEvent=function(e,t,n){var i;return s.prop10=s.eVar10=e,s.events=t,s.prop72=s.prop56=c.gettyIds[0],s.eVar13=c.lightboxOmnitureEventData(),s.linkTrackVars="events,prop10,prop72,eVar10,eVar13,prop65,prop56,eVar39",s.linkTrackEvents=t,null!=(null!=(i=r.giLocalStorage)?i.getItem("target_search_mix"):void 0)&&(s.eVar39=r.giLocalStorage.getItem("target_search_mix")),"srp"===c.appId&&(n="SRP-"+n),s.tl(!0,"o",n)},c.hideAddDialog=function(){return d.find(".lightbox-wrapper.save-multiple-files .lightbox-add-wrapper")},c.positionRelativeToTop=function(){var e,t,n;return t=d.find(".lightbox-wrapper.save-multiple-files .lightbox-add-wrapper"),e=d.find(".lightbox-btn"),n=10,-e.height()-t.height()-n},c.shouldDisplayOnRight=function(){var e,t;return t=d.find(".lightbox-add-wrapper,.lightbox-create-wrapper"),e=d.find(".lightbox-btn"),e.offset().left-t.width()<0},c.showLightboxUpdated=function(e){var t;return c.lightboxUpdatedText=e,c.lightboxCreated=!0,t=function(){return c.lightboxCreated=!1,c.alreadySaved=!0},n(t,2e3)},c.displayError=function(){return c.error.showErrorMessage=!0,c.error.errorMessage=t("can_not_complete_lb_request")},c.setupModalOutClick=function(){return n(function(){return r.onclick=function(e){var t,n,r;if(r=angular.element(e.target),n=angular.element(".lightbox-add-wrapper"),t=angular.element(".lightbox-create-wrapper"),!n.is(r)&&0===n.has(r).length&&!t.is(r)&&0===t.has(r).length&&c.menuOpen)return c.toggleMenuOpen(!1,!0),c.$apply()}})},c.clearModalOutClick=function(){return r.onclick=null}}}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("iStockLightbox").factory("lightboxService",["$q","RestConfigService","arrayHelperService",function(t,n,r){var i,o;return"favorites","assets","search",i={},o={searchedBoxes:{favorites:[]},defaultNameCount:0,incrementDefaultNameCount:function(){return++o.defaultNameCount},searchLightboxes:function(e,r,i,a){var s,l,u,c;return l=t.defer(),s={pageNumber:r,itemsPerPage:i,includeAll:a,assets:e},u=document.referrer,c=istock.restUrl+"/favorites/search",n.getJavaRestConfig(c,"POST",u,s).then(function(e){if(l.resolve(e.data),a)return o.searchedBoxes=e.data},function(e){return l.reject(e)}),l.promise},createLightbox:function(r){var a,s,l;return a={name:r},s=document.referrer,l=istock.restUrl+"/favorites",e.call(i,r)>=0||(i[r]=t.defer(),o.searchLightboxes([],1,1,!0).then(function(){return n.getJavaRestConfig(l,"POST",s,a).then(function(e){var t,n;return n=e.headers("Location"),t=parseInt(n.substr(n.lastIndexOf("/")+1)),o.searchedBoxes.favorites.unshift({name:r,id:t,assets:[]}),i[r].resolve(t)},function(){return i[r].reject()})})["catch"](function(){return i[r].reject()})),i[r].promise},addToLightbox:function(e,i){var a,s,l;return a=t.defer(),s=document.referrer,l=istock.restUrl+"/favorites/"+e+"/assets",o.searchLightboxes([],1,1,!0).then(function(){return n.getJavaRestConfig(l,"POST",s,i).then(function(){var t,n,s,l;for(n=s=0,l=o.searchedBoxes.favorites.length;0<=l?s<l:s>l;n=0<=l?++s:--s)if(t=o.searchedBoxes.favorites[n].id,t.id===e&&!r.containsArray(t.assets,i)){o.searchedBoxes.favorites[n].assets=r.unique(o.searchedBoxes.favorites[n].assets.concat(i)),o.searchedBoxes.favorites.unshift(o.searchedBoxes.favorites.splice(n,1)[0]);break}return a.resolve()},function(){return a.reject(response)})}),a.promise},removeFromLightbox:function(e,i){var a,s,l,u;return s=t.defer(),l=document.referrer,u=istock.restUrl+"/favorites/"+e+"/assets",a={toRemove:i},o.searchLightboxes([],1,1,!0).then(function(){return n.getJavaRestConfig(u,"PUT",l,a).then(function(){var t,n,a;for(t=n=0,a=o.searchedBoxes.length;0<=a?n<a:n>a;t=0<=a?++n:--n)if(o.searchedBoxes[t].id===e&&!r.containsArray(o.searchedBoxes.favorites[t].assets,i)){r.removeFromArray(o.searchedBoxes.favorites[t].assets,i);break}return s.resolve()},function(){return s.reject(response)})}),s.promise}}}])}.call(this),function(){"use strict";angular.module("iStockLightbox").factory("RestConfigService",["resultsService","languageService","$http",function(e,t,n){var r={getQueryString:function(e){var t=window.location.href,n=new RegExp("[?&]"+e+"=([^&#]*)","i"),r=n.exec(t);return r&&r[1]?r[1]:null},getJavaRestConfig:function(i,o,a,s){var l={method:o,url:i,headers:{"Content-Type":"application/json","Accept-Language":t.getIETFCode(istock.siteLang),"X-Istock-Search-Token":r.getQueryString("st")||e.getSearchToken(),"X-Search":!1},data:s,cache:!0,ignoreLoadingBar:!0};return istock.token&&(l.headers.Authorization="Bearer "+istock.token,l.headers["X-Istock-Auth"]=istock.token),a&&(l.headers["X-Previous-Url"]=a),n(l)}};return r}])}(),function(){"use strict";angular.module("iStockLightbox").factory("resultsService",[function(){var e={searchResponse:"",searchId:"",searchToken:"",setSearchToken:function(t){e.searchToken=t},getSearchToken:function(){return e.searchToken},setSearchResponse:function(t){e.searchResponse=t},getSearchId:function(){return e.searchId},setSearchId:function(t){e.searchId=t},getResults:function(){return e.searchResponse.results},getTotalResults:function(){var t=e.searchResponse.totalResults;return void 0===t||null===t?0:t}};return e}])}(),angular.module("giRemoting",[]),function(){angular.module("giRemoting",["giSiteMap"]).directive("giRemoteApp",["remoteApps","siteMap",function(e,t){return{link:function(n,r,i){var o,a,s;return o=n.$eval(i.giRemoteApp),s=t.cleanRelativePath(n.$eval(i.giRemoteManifest)),a=angular.element("<div ng-non-bindable><div class='"+o+"-container'></div></div>"),r.append(a),a.data("$injector",null),e.bootstrap(a.children(),o,s)}}}])}.call(this),function(){var e,t,n;t=function(){function e(e,t){this.rootScope=e,this.injector=t}return e.prototype.getService=function(e){return this.injector.get(e)},e.prototype.refresh=function(){return this.rootScope.$apply()},e}(),n=function(){function n(e,t,n,r,i,o){this.scriptLoader=e,this.stylesheetLoader=t,this.q=n,this.parentRootScope=r,this.http=i,this.location=o,this.appDeferred={},this.appRoot={}}return n.prototype.get=function(e){return this._appDeferred(e).promise.then(function(n){return function(){var r,i,o;return i=n.appRoot[e],o=i.scope(),r=i.injector(),new t(o,r)}}(this))},n.prototype.bootstrap=function(t,n,r){if(this.appRoot[n])return void console.log("The remote app '"+n+"' has already been bootstrapped");this.appRoot[n]=t,this.http.get(r).then(function(r){return function(i){var o,a,s,l,u;for(s=i.data,l=s.stylesheets||[],o=0,a=l.length;o<a;o++)u=l[o],r.stylesheetLoader.load(u);return r.scriptLoader.load(s.scripts||[]).then(function(){return r.http.get(s.templateUrl).then(function(i){var o,a,s,l;for(angular.module(n).value("$location",new e(r.parentRootScope,r.location)),l=["$locationChangeStart","$locationChangeSuccess"],a=0,s=l.length;a<s;a++)o=l[a],r.parentRootScope.$on(o,function(e,t,i){return r.appRoot[n].scope().$broadcast(o,t,i)});return t.append(i.data),angular.bootstrap(t,[n]),r._appDeferred(n).resolve()})})}}(this))},n.prototype._appDeferred=function(e){return this.appDeferred[e]||(this.appDeferred[e]=this.q.defer())},n.prototype._finishBootstrap=function(e){var t;return t=this.appRoot[e],angular.bootstrap(t,[e]),this._appDeferred(e).resolve()},n}(),angular.module("giRemoting").factory("remoteApps",["scriptLoader","stylesheetLoader","$q","$rootScope","$http","$location",function(e,t,r,i,o,a){return new n(e,t,r,i,o,a)}]),e=function(){function e(e,r){var i,o,a,s,l,u,c;for(o=function(t,n){var i;return i=r[n],t[n]=function(){var t,n;return arguments.length>0&&!e.$$phase?(t=null,n=arguments,e.$apply(function(){return function(){return t=i.apply(r,n)}}()),t):i.apply(r,arguments)}},i=function(e,t){var n;return n=r[t],e[t]=function(){return n.apply(r,arguments)}},a=0,l=n.length;a<l;a++)c=n[a],o(this,c);for(s=0,u=t.length;s<u;s++)c=t[s],i(this,c)}var t,n;return n=["path","search","hash","url","replace"],t=["absUrl","protocol","host","port"],e}()}.call(this),function(){angular.module("giRemoting").factory("scriptLoader",["$document","$q",function(e,t){var n;return n=function(n){var r,i;return r=t.defer(),i=e[0].createElement("script"),i.async=!0,i.type="text/javascript",i.readyState?i.onreadystatechange=function(){if("loaded"===i.readyState||"complete"===i.readyState)return i.onreadystatechange=null,r.resolve()}:i.onload=function(){return r.resolve()},i.src=n,e[0].getElementsByTagName("head")[0].appendChild(i),r.promise},{load:function(){var e,r;return r=arguments,1===arguments.length&&angular.isArray(arguments[0])&&(r=arguments[0]),e=$.makeArray(r).map(function(e){return n(e)}),t.all(e)}}}])}.call(this),function(){angular.module("giRemoting").factory("stylesheetLoader",["$document",function(e){return{load:function(t){var n;return document.createStyleSheet?document.createStyleSheet(t):(n=e[0].createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=t,angular.element("head").append(n))}}}])}.call(this),angular.module("giAnalog",[]),function(){angular.module("giAnalog").directive("giPreviewRequest",["$window",function(e){return{restrict:"A",link:function(t,n,r){return n.on("click",function(t){var n,i;if(t.preventDefault(),i=r.href,n=e.open("","Request","width=1378,height=970,status=no,scrollbars=no"))return n.location.href=i,n.focus()})}}}])}.call(this),angular.module("giFancyHeader",["giEvents"]),function(){angular.module("giFancyHeader").factory("cartService",["$timeout","$http",function(e,t){return{getCart:function(){var e;return e={sortBy:"DateAddedToCart",totals:!1,count:10,start:1},t({method:"GET",url:"/purchase/cart",params:e,headers:{Accept:"application/json"}})},getCount:function(){return t({method:"GET",url:"/purchase/carts/item-count",headers:{Accept:"application/json"}})},removeFromCart:function(e){if(e)return t({method:"DELETE",url:"/purchase/cart/items/"+e,headers:{Accept:"application/json"}})}}}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("unisporkal_engine/fancy_header/fancy-cart.html",'<a data-nav="nav_Cart" href="/purchase/cart" target="_self" title="{{t(&#39;GettyImages.Header.CartTooltip&#39;)}}"><img class="fancy-cart-icon" gi-cart-icon="" height="18px" ng-class="{full: cartItemCount &gt; 0}" width="24" /><span class="action-label">{{t(\'GettyImages.Header.Cart\')}}</span><span class="cart-item-count" id="cart-item-count" ng-cloak="" ng-show="cartItemCount &gt; 0">{{cartItemCount}}</span></a>')}]),function(){angular.module("giFancyHeader").directive("giFancyCart",["$window","$timeout","cartService","t",function(e,t,n,r){return{templateUrl:"/asset-detail/assets/unisporkal_engine/fancy_header/fancy-cart-a54d7fc25e8da9a2fb7763db6c0ef7799c73879f1891c8c7cad467fb4b9d566c.html",link:function(e){var t,i,o;return e.t=r,e.cartInitialized=!1,t=function(){return angular.element("#cart-item-count").addClass("adding-item"),e.cartItemCount=e.cartItemCount+1,setTimeout(function(){return angular.element("#cart-item-count").removeClass("adding-item")},250),e.cartContents(),eventBus.triggerAllWindows("addToCartSuccess")},i=function(){return angular.element("#cart-item-count").addClass("adding-item"),e.cartItemCount=e.cartItemCount-1,setTimeout(function(){return angular.element("#cart-item-count").removeClass("adding-item")},250),e.cartContents(),eventBus.triggerAllWindows("addToCartSuccess")},o=function(){return e.cartContents()},eventBus.on("addToFancyCart",t),eventBus.on("removeFromFancyCart",i),eventBus.on("priceCartItem",o),e.cartContents=function(){return n.getCart().then(function(t){if(null!==t.data)return e.cartItemCount=t.data.total_items_count,e.cartItemsRequirePrice=t.data.total_items_count-t.data.items_for_checkout_count,t.data.totals&&(e.cartSubtotal=t.data.totals.formatted_subtotal),e.cartItems=t.data.products})},e.removeFromCart=function(t){return n.removeFromCart(t.id).then(function(){return e.cartContents()}),e.cartItemCount=e.cartItemCount-1,e.cartItems=e.cartItems.filter(function(e){return t.id!==e.id})},e.calculateLink=function(e){switch(combinedGtmTracking.gtmPushTracking("startPrice",e),e.type){case"rights_ready":window.open("/purchase/price-calculator/rights-ready/"+e.asset_id,"_blank","width=760,height=560,top=50,left=50,alwaysRaised=yes,toolbar=0,directories=0,menubar=0,status=1,resizable=yes,location=0,scrollbars=yes,copyhistory=0");break;case"rights_managed":window.open("/purchase/price-calculator/"+e.asset_id+"?cid="+e.id,"_blank","width=1000,height=900,top=50,left=50,alwaysRaised=yes,toolbar=0,directories=0,menubar=0,status=1,resizable=yes,location=0,scrollbars=yes,copyhistory=0");break;case"royalty_free":window.open("/license/"+e.asset_id,"_blank","width=830,height=680,top=50,left=50,alwaysRaised=yes,toolbar=0,directories=0,menubar=0,status=1,resizable=yes,location=0,scrollbars=yes,copyhistory=0")}return!0},e.canBePriced=function(t){return t.is_self_serve&&!t.is_priced&&!t.is_pulled&&!e.isBlocked(t)},e.isBlocked=function(e){var t,n,r,i,o;if(!e.notifications)return!1;for(o=e.notifications,t=0,r=o.length;t<r;t++)i=o[t],!0===i.is_blocking&&(n=!0);return null!=n},e.setCount=function(){return n.getCount().then(function(t){var n,r;if(n=null!=t&&null!=(r=t.data)?r.ItemCount:void 0,e.cartItemCount=n,n>0&&!isMobile)return e.initializeCart()})},e.initializeCart=function(){if(!1===e.cartInitialized)return e.cartInitialized=!0,e.cartContents()},e.setCount()}}}])}.call(this),angular.module("giFancyHeader").directive("loginLink",function(){return{link:function(e,t,n){e.$watch(function(){return"/sign-in?returnurl="+encodeURIComponent(window.location.pathname+window.location.search)},function(e,t){e&&e!==t&&n.$set("href",e)})}}}),angular.module("giSuperStrip",[]),function(){angular.module("giSuperStrip").directive("superStrip",function(){return{link:function(){return function(){if(!$("html").hasClass("pa-super-strip-visible"))return $("html").addClass("pa-super-strip-visible")}()}}})}.call(this);var namespace,__slice=[].slice;namespace=function(e,t,n){var r,i,o,a,s,l;for(arguments.length<3&&(s=["undefined"!=typeof exports?exports:window].concat(__slice.call(arguments)),e=s[0],t=s[1],n=s[2]),i=e,l=t.split("."),o=0,a=l.length;o<a;o++)r=l[o],e=e[r]||(e[r]={});return n(e,i)},function(){var e;e=function(){function e(){this.film_wrapper=$(".videoWrapper"),this.film_wrapper.length>0&&(this.film=this.film_wrapper.find("video"),this.height="376px",this.width="480px",this.film_wrapper.hasClass("SixteenByNine")&&(this.width="640px"),0===this.film.height()&&this.setHeight(this.film),this.src=this.film.attr("src"),this.parser=document.createElement("a"),this.parser.href=this.src,this.buildTag())}return e.prototype.setHeight=function(e){var t,n,r,i,o;for(o=[$(".main_film_wrapper"),$("#videoContainingBlock"),e],i=[],n=0,r=o.length;n<r;n++)t=o[n],i.push(t.height(this.height));return i},e.prototype.setWidth=function(e){return this.setBestWidths(),e.width(this.width),this.film_wrapper.width(this.width),this.film_wrapper.css("margin","0 auto")},e.prototype.setBestWidths=function(){var e;return e=window.innerWidth,e<532?(this.width="325px",this.height="254px"):e<800?(this.width="364px",this.height="285px"):void 0},e.prototype.useObjectTag=function(){return!Modernizr.video||!(navigator.userAgent.contains("Safari")&&!navigator.userAgent.contains("Chrome")&&this.parser.pathname.contains(".mov"))&&(!this.parser.pathname.contains(".mp4")||!this.film[0].canPlayType("video/mp4"))},e.prototype.buildTag=function(){var e;return this.useObjectTag()?(this.film.remove(),e='<object id="objQTPlayer" name="emQTPlayer" style="behavior:url(#BinaryBehaviorID)" codebase="//www.apple.com/qtactivex/qtplugin.cab" classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B">\n<param name="autoplay" value="true"/>\n<param name="scale" value="ToFit"/>\n<param name="src" value="'+this.src+'"/>\n<param name="controller" value="true"/>\n<param name="type" value="video/quicktime"/>\n<param name="wmode" value="opaque"/>\n<embed id="emQTPlayer" wmode="opaque" name="emQTPlayer" type="video/quicktime" autoplay="true" scale="ToFit" align="top" border="0" controller="true" postdomevents="true" pluginspage="//www.apple.com/quicktime/download/" src="'+this.src+'"/>\n</object>',e=$(e),this.film_wrapper.hasClass("FourByThree")&&(this.setWidth(e),this.setHeight(e)),this.film_wrapper.prepend(e)):this.film.css("display","inline")},e}(),$(function(){return namespace("Getty.Film",function(t){return t.FormatSelector=new e})})}.call(this),function(){var e;e=function(){function e(){$(document).on("modal.open",function(){return $(".videoWrapper").css({visibility:"hidden"})}),$(document).on("modal.close",function(){return $(".videoWrapper").css({visibility:"visible"})})}return e}(),$(function(){return namespace("Getty.Film",function(t){return t.Events=new e})})}.call(this),function(e,t){e.fn.gettyAutosuggest=function(n){function r(t){var n=t.language;if(void 0!==n){var r=["pt-br","ko"],i=n.toLowerCase();return-1==e.inArray(i,r)}}var i=38,o=40,a=13,l=32,u=9,c=27,d=8,p=8,f=[],h=(Search.AutoSuggestSpectrum(),e(this).parents("form:first")),m=Search.AutoSuggestSearchInterface(h),g={SearchTermLength:1,SearchTermMaxLength:150,SuggestionsContainerIdFormat:"suggestions-container-{0}",SuggestionsContainerClass:"suggestions-container",SuggestionsListIdFormat:"suggestions-list-{0}",SuggestionsListClass:"suggestions-list",SuggestionsContainerParentSelector:"body"};n&&e.extend(g,n);var v=m.getFilterData(),y=!1;if(r(v))return this.each(function(){function n(t,n){if(""==t||ne===t)return void(ne="");ne=t;var i=J.data("autosuggest-from"),o=n;i=i.format(o.bundleId,o.language,o.assetType,t,o.assetFamily),clearTimeout(ae),setTimeout(function(){e.ajax({url:i,type:"GET",dataType:"jsonp",jsonpCallback:"as_cb_"+t.sterilizeForMethodName(),cache:!0,contentType:"application/json; charset=utf-8",success:function(e){r(e)}})},200)}function r(n){var r=J.val(),i=r.normalize();if(null!==n.SearchTerm&&n.SearchTerm!==undefined&&n.SearchTerm.toLowerCase()===i.toLowerCase()){X.html("");var o=0;if(n.CompletedKeywords!==undefined){n.CompletedKeywords.length>p&&n.CompletedKeywords.splice(7,n.CompletedKeywords.length-p),E()&&(n.CompletedKeywords=I(n.CompletedKeywords));var a=new RegExp(i,"i"),s=/\(.*\)$/;e.map(n.CompletedKeywords,function(t){var n=e("<a href='#'></a>").addClass("suggestion");n.attr("type","main");var r=t.DisplayText.match(a),l=t.DisplayText;if(r){var u=t.DisplayText.substring(0,r.index);n.append(document.createTextNode(u));var c=e("<em />").text(i);n.append(c)
;l=t.DisplayText.substring(r.index+i.length)}var d=l.match(s);if(d){var p=l.substring(0,d.index);n.append(document.createTextNode(p));var f=l.substring(d.index),h=e("<span />").addClass("hint").text(f);n.append(h)}else n.append(document.createTextNode(l));var g=e("<li></li>");g.attr("data-termId",t.TermId),g.attr("data-listId",o+1),t.Type&&g.addClass(t.Type);var v=e("<div></div>").addClass("suggestion-icon").addClass(t.Icon);g.append(v);var y=!1;if(n.bind("click",function(t){y=!0,t.preventDefault(),V(e(this),m.triggerSearch),oe(e(this))}),g.append(n),t.Link){var b=e("<a href='#'></a>").addClass("suggestion-link").addClass("suggestion-icon").addClass(t.LinkIcon);b.bind("click",function(e){e.preventDefault(),t.Link(t.LinkParams)}),g.append(b)}X.append(g),g.bind("keydown",function(e){$(e)}),g.bind("mouseenter",function(){Y.find(".hovered").removeClass("hovered"),se=e(this).find(".suggestion")}),g.hover(function(){e(this).addClass("hovered")},function(){e(this).removeClass("hovered"),se=undefined}),o++})}o>0||t.localStorage.getItem("search.assetsViewedData")?F():S()}}function b(){var t=J.find(".suggestions-recent-container");if(0==t.length){t=e("<div></div>").attr("class","suggestions-recent-container"),t.appendTo($suggestionsInnerContainer);e("<div></div>").addClass("suggestion-icon").addClass("suggestion-icon-recent").appendTo(t);e("<div></div>").attr("class","suggestions-recent-title").text("recent searches").appendTo(t);e("<a></a>").attr("class","suggestions-recent-link").text("Remove all").bind("click",function(){R()}).appendTo(t)}return t}function w(n,r){if(t.localStorage){var i=JSON.parse(localStorage.getItem("search.assetsViewedData"));i.splice(n,1),i.length>0?(localStorage.setItem("search.assetsViewedData",JSON.stringify(i)),e("."+r).remove()):(localStorage.removeItem("search.assetsViewedData"),e(".recently-viewed-asset-container").remove())}t.combinedGtmTracking.gtmPushTracking("searchAssistOptionSelect",{ui_element_location:"search_bar_assist_window",search_assist_option_selected:"recently_viewed-remove_asset"})}function _(){var n=J.find(".suggestions-recently-viewed-container");if(0==n.length){n=e("<div></div>").attr("class","suggestions-recently-viewed-container"),n.appendTo(Y);var r=e("<div></div").addClass("recently-viewed-header");r.appendTo(n);e("<div></div>").attr("class","suggestions-recently-viewed-title").text("RECENTLY VIEWED").appendTo(r);e("<a></a>").attr("class","suggestions-recently-viewed-link").text("Remove all").bind("click",function(){N()}).appendTo(r);e('<div class="pipe"></div>').appendTo(r);e("<a></a>").attr("class","recently-viewed-all").attr("target","_self").text("View all").attr("href",t.location.protocol+"/search/recently-viewed").bind("click",function(){oe(e(this))}).appendTo(r);e("<div></div>").addClass("recently-viewed-asset-container").appendTo(n);var i=t.location.host.split(".")[1];-1==i.indexOf("local-")&&-1==i.indexOf("candidate-")||(i="stage-gettyimages.com"),M(),Z&&(Z=Z.slice(0,8),e.each(Z,function(r,i){var o=i.width/i.height,a=i.deliveryUrl,s=t.location.origin+"/license/"+i.id,l=e("<div class='item-wrapper'></div").css("min-width",100*o).addClass(i.id);Z.length<3&&l.addClass("single");var u=e("<a target='_blank'></a>").addClass("recently-viewed").attr("href",s);u.bind("click",function(){oe(e(this))});var c=e("<div class='clear'></div>").bind("click",function(e){e.preventDefault(),w(r,i.id)}),d=e("<div></div").addClass("image-container").css("background-image",'url("'+a+'")'),p=e("<div></div>").addClass("overlay");l.appendTo(n.find(".recently-viewed-asset-container")),u.appendTo(l),c.appendTo(l),p.appendTo(u),d.appendTo(u)}))}return n}function k(){var n=K.SuggestionsContainerIdFormat.format(J.attr("id"));Y=e("#suggestions-container-for-autosuggest"),0==Y.length&&(Y=e("<div></div>"),Y.appendTo(K.SuggestionsContainerParentSelector)),Y.hide().attr("id",n).addClass(K.SuggestionsContainerClass),$suggestionsInnerContainer=Y.find(".suggestions-inner-container"),0==$suggestionsInnerContainer.length&&($suggestionsInnerContainer=e("<div></div>").attr("class","suggestions-inner-container"),$suggestionsInnerContainer.appendTo(Y)),t.localStorage&&t.localStorage.getItem("search.recentSearches2")&&(W=b()),t.localStorage&&t.localStorage.getItem("search.assetsViewedData")&&D()&&(G=_()),X=e("<ul></ul>").attr("id",K.SuggestionsListIdFormat.format(J.attr("id"))).attr("class",K.SuggestionsListClass),X.appendTo($suggestionsInnerContainer)}function $(e){if(q()){0==Y.find(".suggestion.hovered").length&&(se=undefined);var t=e.keyCode||e.which;if(t==o||t==i||t==u)e.stopPropagation(),e.preventDefault(),Y.find(".hovered").removeClass("hovered");else if(t!=a)return;if(t==u)return se!=undefined&&V(se),void z("#btnSearch");if(t==i){if(se==undefined)Y.find(".suggestion:last").addClass("hovered").focus().parent().addClass("hovered");else{if(!(se.parent().prev("li").length>0))return C(),void J.focus();se.parent().prev("li").addClass("hovered").find("a").addClass("hovered").focus(),se.removeClass("hovered").parent().removeClass("hovered")}x(),J.focus()}else if(t==o){if(se==undefined)Y.find(".suggestion:first").addClass("hovered").focus().parent().addClass("hovered");else{if(!(se.parent().next("li").length>0))return C(),void J.focus();se.parent().next("li").addClass("hovered").find("a").addClass("hovered").focus(),se.removeClass("hovered").parent().removeClass("hovered")}x(),J.focus()}else if(t==a)return z("#btnSearch"),e.stopPropagation(),e.preventDefault(),m.triggerSearch(),void ie(Y.find(".suggestion.hovered:first"));se=Y.find(".suggestion.hovered:first"),V(se)}}function x(){J.val(Y.find(".suggestion.hovered:first").text().removeParens())}function C(){J.val(te)}function T(){return J}function S(){Y.hide(),ne=""}function E(){return!!t.visitorExperiencesData&&t.visitorExperiencesData.recentsearchinautosuggest}function D(){return!!t.visitorExperiencesData&&t.visitorExperiencesData.recentlyviewed}function A(){return t.localStorage&&t.localStorage.getItem("search.recentSearches2")?Object.keys(JSON.parse(localStorage.getItem("search.recentSearches2"))):[]}function M(){Z=JSON.parse(t.localStorage.getItem("search.assetsViewedData"))}function P(e){return{Icon:"suggestion-icon-recent",DisplayText:e,Type:"recent",LinkIcon:"suggestion-icon-remove clear",Link:L,LinkParams:{term:e}}}function O(){r({CompletedKeywords:e.map(A(),function(e){return P(e)}),SearchTerm:""}),W.show(),W.parent().addClass("full-width"),e.each(X.find("li"),function(t,n){e(n).addClass("default-recent-suggestion")}),f.push("recent_searches"),e(document).trigger("search.autoSuggestRecentlyShown")}function j(){r({SearchTerm:""}),t.localStorage.getItem("search.assetsViewedData")&&D()&&(G.addClass("visible"),f.push("recently_viewed"))}function I(t){var n=[],r=e.map(A(),function(e){return e.toLowerCase()});return e.each(t,function(e,t){r.indexOf(t.DisplayText.toLowerCase())>-1?n.unshift(P(t.DisplayText)):n.push(t)}),n}function L(e){if(t.localStorage){var n=JSON.parse(localStorage.getItem("search.recentSearches2"));delete n[e.term],JSON.stringify(n)==JSON.stringify({})?localStorage.removeItem("search.recentSearches2"):localStorage.setItem("search.recentSearches2",JSON.stringify(n))}Y.find(".hovered").remove(),t.combinedGtmTracking.gtmPushTracking("searchAssistOptionSelect",{ui_element_location:"search_bar_assist_window",search_assist_option_selected:"recent_searches-remove_keyword"})}function R(){t.localStorage&&localStorage.removeItem("search.recentSearches2"),t.combinedGtmTracking.gtmPushTracking("searchAssistOptionSelect",{ui_element_location:"search_bar_assist_window",search_assist_option_selected:"recent_searches-remove_all"})}function N(){t.localStorage&&(localStorage.removeItem("search.assetsViewedData"),e(".recently-viewed-asset-container").remove()),t.combinedGtmTracking.gtmPushTracking("searchAssistOptionSelect",{ui_element_location:"search_bar_assist_window",search_assist_option_selected:"recently_viewed-remove_all"})}function F(){if(y)return void(y=!1);if(Y.hasClass("istock-autosuggest")){if(e(t).width()<640)var n=57;else var n=70;var r=0,i=e(".search-bar-container"),o=i.width()}else var o=J.innerWidth()-1,n=J.parent().offset().top+J.parent().outerHeight(),r=J.offset().left-1;Y.width(o),Y.css("top",n),Y.css("left",r),Y.show(),Y.css("display","flex")}function V(e,n){e.attr("data-termid")||(e=e.parents("li"));var r=e.find(".suggestion").text().removeParens().replaceDashWithComma();if(J.val(r),Q=r,U(e),null!=t.localStorage){if(e[0].attributes["class"].value.indexOf("recent")>-1)var i="autosuggest-recent";else var i="autosuggest";t.localStorage.setItem("search-tool",i)}"function"==typeof n&&n()}function B(){J.trigger("SuggestionModified.Autosuggest")}function H(){J.trigger("SuggestionAppended.Autosuggest")}function U(e){J.trigger("SuggestionSelected.Autosuggest",[{suggestionText:e.text(),termId:e.attr("data-termid")}])}function z(t){S(),e(t).focus()}function q(){return Y.is(":visible")}var Y,W,G,X,J=e(this),Q="",Z="",K=g,ee="",te="",ne="",re=!1;k(),J.bind("keyup",function(r){switch(r.keyCode||r.which){case a:return y=!0,void S();case i:case o:return r.preventDefault(),void r.stopPropagation();case c:return y=!0,S(),void J.val(te);case u:break;case l:return j(),void O();case d:return void(0==J.val().trim().length&&(e(".suggestions-inner-container").removeClass("full-width"),j(),O(),f.length>0&&(t.combinedGtmTracking.gtmPushTracking("searchAssistShown",{ui_element_location:"search_bar_assist_window",search_assist_options_shown:f.toString()}),f=[])));default:re=!0,te=J.val()}if(0!=J.val().trim().length&&(e(".suggestions-recently-viewed-container").removeClass("visible"),e(".suggestions-recent-container").hide(),e(".suggestions-inner-container").addClass("full-width")),ee=J.val().trim(),""!=Q&&(B(),ee.length>Q.length&&H()),ee.length>=K.SearchTermLength&&ee.length<=K.SearchTermMaxLength){n(ee.normalizeAndEncode(),v)}else X.html(""),S()}),e("a.search-clear-icon").bind("click",function(){S()}),h.bind("submit",function(){S()}),J.bind("keydown",function(e){$(e)}),e(document).bind("click",function(e){e.target.classList.value&&e.target.classList.value.indexOf("clear")<0&&!T().is(e.target)&&S()}),J.bind("click",function(){D()&&j(),E()&&0==J.val().trim().length&&localStorage.getItem("search.recentSearches2")&&O(),f.length>0&&(t.combinedGtmTracking.gtmPushTracking("searchAssistShown",{ui_element_location:"search_bar_assist_window",search_assist_options_shown:f.toString()}),f=[])}),e(t).resize(function(){S()}),e(t).scroll(function(){J.find(".suggestions-list li").length&&"none"!=J.find(".suggestions-container").css("display")&&F()});var ie=function(e){if(e.parent().hasClass("recent"))var n="recent_searches-keyword";else if(e.length>0)var n="autosuggest-keyword";n&&t.combinedGtmTracking.gtmPushTracking("searchAssistOptionSelect",{ui_element_location:"search_bar_assist_window",search_assist_option_selected:n})},oe=function(e){if("undefined"==typeof s||null===s)return!1;if(s.eVar29=e.parent().attr("data-listId"),t.tracking_data.nav="Autosuggest_Test",t.tracking_data.nav="Autosuggest_Test",s.linkTrackEvents=s.events="event214",t.tracking_data.nav="Autosuggest_Test",s.linkTrackVars="eVar29",s.tl(!0,"o","Autosuggest_Normal"),e.parent().hasClass("recent"))var n="recent_searches-keyword";else if(e.hasClass("recently-viewed")){var n="recently_viewed-thumbnail";t.giLocalStorage.setItem("search.recently_viewed_tracking_data",!0)}else if(e.hasClass("recently-viewed-all")){var n="recently_viewed-view_all";t.giLocalStorage.setItem("search.recently_viewed_tracking_data",!0)}else if(e.length>0)var n="autosuggest-keyword";n&&t.combinedGtmTracking.gtmPushTracking("searchAssistOptionSelect",{ui_element_location:"search_bar_assist_window",search_assist_option_selected:n})};!function(e,t){function n(e){e=e.replaceDashWithComma(),t.setClarification(e)}e.bind("SuggestionSelected.Autosuggest",function(e,t){t.termId&&n(t.suggestionText.removeParens()+":"+t.termId)}),e.bind("SuggestionModified.Autosuggest",function(){n("")})}(J,m);var ae;t.tracking_data.nav="Autosuggest_Test";var se=undefined})},t.angular&&(t.angular.element.fn.gettyAutosuggest=e.fn.gettyAutosuggest)}(jQuery,window),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.normalize=function(){var e=this;return e=e.replace(/  +/g," "),e=e.trim()},String.prototype.normalizeAndEncode=function(){var e=this.normalize();return e=encodeURIComponent(e)},String.prototype.removeParens=function(){var e=this;return e=e.replace(/ *\(.*\) *$/,""),e.normalize()},String.prototype.replaceDashWithComma=function(){var e=this;return e=e.replace(","," -"),e.normalize()},String.prototype.sterilizeForMethodName=function(){var e=this.normalize();return e=e.replace(/[^a-zA-Z0-9]/g,"_"),e.toLowerCase()},String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return"undefined"!=typeof e[n]?e[n]:""})},function(){window.Search||(window.Search={}),window.user||(window.user={}),window.tracking_data||(window.tracking_data={}),window.Search.AutoSuggestSearchInterface=function(e){var t,n,r;return r={},t=function(){var t;return t=e.find('input[name="family"]:checked'),window.currentSite&&window.currentSite.isiStock?"Creative":t.length>1||0===t.length?"any":1===t.length?$(t).val().toLowerCase():void 0},r.getFilterData=function(){return{bundleId:705,language:window.user.autoSuggestLocale,assetType:"image",assetFamily:t()}},r.setClarification=function(e){$("input[name=clarifications]").val(e)},r.triggerSearch=function(){e.submit()},r.getSmartSuggestions=function(e){return Search.SmartSuggestService().getSmartSuggestions(e)},n=function(){var e,t,n;return n=null!=(e=window.visitorExperiencesData)?e.searchsmartsuggestions:void 0,(null!=n?n.is_active:void 0)&&"istock"===window.tracking_data.site_nickname?"USA"===window.tracking_data.geolocation_country&&"en-us"===window.tracking_data.language?null!=(t=n.active_offers)?t.searchsmartsuggestionsvariance:void 0:"Unqualified":null},r.smartSuggestionControlOffer=function(){if("Control"===n())return!0},r.smartSuggestionTestOffer=function(){if("TestA"===n())return!0},r.smartSuggestionNotQualified=function(){if("Unqualified"===n())return!0},r}}.call(this),function(){window.Search.AutoSuggestSpectrum=function(){return function(){var e;return eventBus&&(eventBus.on("search.autoSuggestRecentlyShown",function(){return e.trackEvent("Search Auto Suggest Recently Shown")}),eventBus.on("search.autoSuggestRecentlyClickItem",function(t){return e.trackEvent("Search Auto Suggest Recently Click Item",t)}),eventBus.on("search.autoSuggestRecentlyClearItem",function(t){return e.trackEvent("Search Auto Suggest Recently Clear Item",t)}),eventBus.on("search.autoSuggestRecentlyClearAll",function(){return e.trackEvent("Search Auto Suggest Recently Clear All")}),eventBus.on("search.autoSuggestRecentlyEnterItem",function(t){return e.trackEvent("Search Auto Suggest Recently Enter Item",t)})),e={trackEvent:function(t,n){var r;return r=e.mapDefaultSignal(tracking_data),r.event=t,n&&n.item&&(r.properties.item=n.item),e.postSignalToSpectrum(r)},mapDefaultSignal:function(e){return{source:e.site_nickname,properties:{url:location.href,referer:document.referrer,correlation_id:e.request_id,visitor_id:e.visitor_id,user_id:e.userid}}},postSignalToSpectrum:function(e){return $.post(tracking_data.spectrum_host_three+"signals",JSON.stringify([e]))}}}()}}.call(this),function(){function e(e,t){function n(e,t){return c.getComputedStyle||(c.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle&&e.currentStyle[t]?e.currentStyle[t]:null},this}),c.getComputedStyle(e,null).getPropertyValue(t)}function r(t){var n=t||e.clientHeight,r=o(e);return Math.max(Math.floor(n/r),0)}function i(t){return o(e)*t}function o(e){var t=n(e,"line-height");return"normal"==t&&(t=1.2*parseInt(n(e,"font-size"))),parseInt(t)}function a(t){return t.lastChild.children&&t.lastChild.children.length>0?a(Array.prototype.slice.call(t.children).pop()):t.lastChild&&t.lastChild.nodeValue&&""!=t.lastChild.nodeValue&&t.lastChild.nodeValue!=d.truncationChar?t.lastChild:(t.lastChild.parentNode.removeChild(t.lastChild),a(e))}function s(t,n){function r(){b=d.splitOnChars.slice(0),w=b[0],v=null,y=null}if(n){var i=t.nodeValue.replace(d.truncationChar,"");if(v||(w=b.length>0?b.shift():"",v=i.split(w)),v.length>1?(y=v.pop(),l(t,v.join(w))):v=null,u&&(t.nodeValue=t.nodeValue.replace(d.truncationChar,""),e.innerHTML=t.nodeValue+" "+u.innerHTML+d.truncationChar),v){if(e.clientHeight<=n){if(!(b.length>=0&&""!=w))return e.innerHTML;l(t,v.join(w)+w+y),v=null}}else""==w&&(l(t,""),t=a(e),r());if(!d.animate)return s(t,n);setTimeout(function(){s(t,n)},!0===d.animate?10:d.animate)}}function l(e,t){e.nodeValue=t+d.truncationChar}t=t||{};var u,c=window,d={clamp:t.clamp||2,useNativeClamp:"undefined"==typeof t.useNativeClamp||t.useNativeClamp,splitOnChars:t.splitOnChars||[".","-","\u2013","\u2014"," "],animate:t.animate||!1,truncationChar:t.truncationChar||"\u2026",truncationHTML:t.truncationHTML},p=e.style,f=e.innerHTML,h="undefined"!=typeof e.style.webkitLineClamp,m=d.clamp,g=m.indexOf&&(m.indexOf("px")>-1||m.indexOf("em")>-1);d.truncationHTML&&(u=document.createElement("span"),u.innerHTML=d.truncationHTML);var v,y,b=d.splitOnChars.slice(0),w=b[0];"auto"==m?m=r():g&&(m=r(parseInt(m)));var _;if(h&&d.useNativeClamp)p.overflow="hidden",p.textOverflow="ellipsis",p.webkitBoxOrient="vertical",p.display="-webkit-box",p.webkitLineClamp=m,g&&(p.height=d.clamp+"px");else{var k=i(m);k<=e.clientHeight&&(_=s(a(e),k))}return{original:f,clamped:_}}window.$clamp=e}(),function(){this.Download=angular.module("giDownload",["giTranslation","ngMessages","giTracking","giEvents","giExperiences","giLocalStorage","giTodHelper","giDropbox"]).run(["$rootScope","t",function(e,t){return e.t=t}])}.call(this),function(){angular.module("giDownload").directive("giBatchDownload",["submitDownloadService","$timeout",function(e){return{scope:!0,link:function(t,n,r){var i;if(r.giBatchDownload&&(i=parseInt(r.giBatchDownload),t.multiDownload=t.multiDownloads[i]),t.submit=function(n,r){if(r||(r=t.multiDownload),r&&(e.submit(r),t.downloaded=!0),n)return n.preventDefault()},0===i&&1===t.multiDownloads.length)return t.submit(i,t.multiDownload)}}}])}.call(this),function(){angular.module("giDownload").controller("BatchDownloadController",["$document","$scope","$http","$sce","$timeout","$rootScope","downloadService","visitorExperiences","t",function(e,t,n,r,i,o,a,s,l){var u;return t.downloadAttributes={size:"largest"},t.$watchGroup(["assetIds","modal.show"],function(){if(t.modal.show&&t.assetIds)return o.showDownloadOptionsOnly=!1,o.downloadDestinations=null,t.batchDownloadAgreements=null,t.error=null,t.assetIds.length>100?void(t.error=l("assets_selected",{zero:t.assetIds.length})+"\n"+l("bulk_download_warning",{zero:100})):a.getDownloadAuthorizations(t.assetIds,t.selectedAgreementTypeOrId).success(function(e){return t.restrictions=e.restrictions,u(e.agreements)}).error(function(){return t.error=l("trouble_processing_request")})}),u=function(e){var n,r,i,a,s,u,c;for(o.showDownloadOptionsOnly=!1,t.batchDownloadAgreements={},t.batchDownloadAgreements.hasAgreements=e.length>0,r=0,i=e.length;r<i;r++)n=e[r],t.batchDownloadAgreements[n.product_type]=n;if((null!=(a=t.batchDownloadAgreements.EasyAccess)&&null!=(s=a.authorized_assets)?s.length:void 0)>0&&t.getPreferences(),(null!=(u=t.batchDownloadAgreements.PremiumAccess)&&null!=(c=u.authorized_assets)?c.length:void 0)>0)return t.PA=t.batchDownloadAgreements.PremiumAccess,t.PA.product_details&&(t.PA.projectCodeRequired=t.PA.product_details.project_code_required,t.PA.notesRequired=t.PA.product_details.notes_required,t.PA.projectCodes=t.PA.product_details.project_codes,t.PA.product_details.overage&&(t.PA.overageReached=t.PA.product_details.overage.overage_reached)),window.UniAdp.hasMultiPA?t.PA.friendlyName=t.batchDownloadAgreements.PremiumAccess.custom_name:t.PA.friendlyName=l("premium_access_download")},t.showPage=function(e){return 1===t.modal.currentPage&&(t.multiDownloads=null),e===t.modal.currentPage},t.shouldShowAgreementsPage=function(){var e;return t.shouldShowEzaAgreement()&&t.isEza()||(null!=(e=t.restrictions)?e.length:void 0)>0},t.shouldShowRestrictions=function(){var e;return(null!=(e=t.restrictions)?e.length:void 0)>0},t.createDownload=function(){return t.modal.currentPage=3,t.isEza()&&t.savePreference("downloadPreferences.hideEzaAgreement","true"),a.createBatchDownloads(t.downloadAttributes,t.batchDownloadAgreements).success(function(n){var a,s,l,u,c,d;for(u=n.multi_downloads,a=0,s=u.length;a<s;a++)l=u[a],l.url=r.trustAsResourceUrl(l.url);if(t.multiDownloads=n.multi_downloads,o.downloadDestinations=n.download_destinations,t.numberOfAssets=null!=(c=n.multi_downloads)&&null!=(d=c[0])?d.number_of_assets:void 0,o.showDownloadOptionsOnly=t.isDestinationDropbox(),t.isDestinationDropbox()||(e.trigger("track.batchDownload",{batchDownloadAgreements:t.batchDownloadAgreements,overageReached:t.overageReached,assets:t.assets,downloadLocation:t.downloadLocation}),e.trigger("downloadStarted"),o.$broadcast("dropbox-intro-modal.asset-downloaded",{data:n.data,alwaysDownloadLargest:t.modal.alwaysDownloadLargest,origin:t.dropboxDisconnectedTrackingLinkName()})),t.isDestinationDropbox())return i(function(){return t.$parent.hideModal()},1e4)}).error(function(e,n){if(401===n)return t.redirectToSignin()})},t.nextPage=function(){return 1===t.modal.currentPage&&e.trigger("track.openUseRestrictionsModal"),t.modal.currentPage++},t.prevPage=function(){return t.modal.currentPage--},t.showCount=function(e){return null!=t.batchDownloadAgreements[e]&&null!=t.batchDownloadAgreements[e].authorized_assets},t.selectedAgreementIsViewOnly=function(){var e,n;return(null!=(e=t.PA)&&null!=(n=e.effective_permissions)?n.indexOf("Download"):void 0)<0&&s.isActive("PAPermissions")},t.downloadShortlyMessage=function(){return t.t("download_workflow.download_start_shortly",{links:[{"ng-click":"submit($event)",href:"#"}]})},t.isEza=function(){return null!=t.batchDownloadAgreements.EasyAccess},t.isImagePack=function(){return null!=t.batchDownloadAgreements.ImagePack},t.isCurrentDisplayDropboxNotif=function(){return t.showPage(3)&&t.isDestinationDropbox()}}])}.call(this),function(){this.Download.controller("DownloadController",["$http","$scope","$rootScope","$sce","$window","downloadService","giLocalStorage","DropboxService",function(e,n,r,i,o,a,s){var l;return n.modal={},n.preferenceServiceMapping={"downloadPreferences.hideEzaMessaging":"hide_eza_messaging","downloadPreferences.hideEzaAgreement":"hide_eza_agreement","downloadPreferences.alwaysDownloadLargest":"always_download_largest"},n.redirectToSignin=function(){var e;return e="/sign-in?ReturnUrl="+encodeURIComponent(window.location.pathname+window.location.search),o.location.href=e},n.init=function(e){return r.selectedAgreementTypeOrId=e},r.showModal=function(e){var t;return o.user.isAuthenticated?(r.showDownloadOptionsOnly=!1,r.downloadDestinations=null,n.modal.currentPage=1,t=angular.element(".download_product_selector option:selected").val(),t&&(n.selectedAgreementTypeOrId=t),e&&(e instanceof Array||(e=String(e).split(",")),n.assetIds=e),$("body").addClass("modal-visible"),n.modal.show=!0,r.downloadDestinations=null):void n.redirectToSignin()},n.hideModal=function(){return $("body").removeClass("modal-visible"),n.modal.showDropboxInvite=!1,n.updatePreferences(),n.modal.show=!1},n.isDestinationDropbox=function(){var e,t;return!!(null!=(e=r.downloadDestinations)&&null!=(t=e[0])?t.token:void 0)},n.translateUnescaped=function(e){return i.trustAsHtml(t(e))},n.shouldAlwaysDownloadLargest=function(){return"true"===s.getItem("downloadPreferences.alwaysDownloadLargest")||!0===s.getItem("downloadPreferences.alwaysDownloadLargest")},n.shouldShowEzaMessaging=function(){return!n.shouldAlwaysDownloadLargest()&&!("true"===s.getItem("downloadPreferences.hideEzaMessaging")||!0===s.getItem("downloadPreferences.hideEzaMessaging"))},n.shouldShowEzaAgreement=function(){return!n.shouldAlwaysDownloadLargest()&&!("true"===s.getItem("downloadPreferences.hideEzaAgreement")||!0===s.getItem("downloadPreferences.hideEzaAgreement"))},n.getPreferences=function(){return n.showEzaMessaging=n.shouldShowEzaMessaging(),n.showEzaAgreement=n.shouldShowEzaAgreement(),n.modal.alwaysDownloadLargest=n.shouldAlwaysDownloadLargest()},n.savePreference=function(e,t){return n.setPreference(e,t),a.saveDownloadPreferences(n.preferences)},n.setPreference=function(e,t){return"true"===t?t=!0:"false"===t&&(t=!1),null==n.preferences&&(n.preferences={}),s.setItem(e,t),e=n.preferenceServiceMapping[e]||e,n.preferences[e]=t},n.updatePreferences=function(){if(n.preferences)return n.showEzaMessaging=n.shouldShowEzaMessaging(),n.showEzaAgreement=n.shouldShowEzaAgreement()},n.agreementsTemplateUrl=function(){return"/asset-detail/assets/EzaAccount."+window.tracking_data.language+".html"},n.restrictionText=function(e){return i.trustAsHtml(e.asset_id+" - "+e.reason)},n.agreementDescription=function(e){return"ImagePack"===e.type?t(l(e.sku)):"EasyAccess"===e.type?t("EA"):"PremiumAccess"===e.type?e.effective_permissions.indexOf("Download")<0?window.UniAdp.hasMultiPA?t("premium_access_download")+": "+t("agreement_name_view_only",{agreement_name:e.custom_name}):t("pa_view_only_single_line"):window.UniAdp.hasMultiPA?t("premium_access_download")+": "+e.custom_name:t("premium_access_download"):"EditorialSubscription"===e.type?t("subscription_download"):void 0},n.dropboxDisconnectedTrackingLinkName=function(){return"FavoritesBoard-Overlay"===tracking_data.page_name||"favorites_board"===tracking_data.page_name?"Board|DropboxmodelOpen":"SRP|DropboxmodelOpen"},l=function(e){return e.match(/PREMPCKHI/)?"ultrapack_high":e.match(/PREMPCKMD/)?"ultrapack_medium":e.match(/PREMPCKLO/)?"ultrapack_low":e.match(/HIPREMPCK/)?"product_types.descriptions.premium_pack_name":void 0}}])}.call(this),function(){this.Download.factory("downloadService",["$http","$sce","$window","$q",function(e,t,n,r){return{getDownloadAuthorizations:function(t,n,r){var i;return null==n&&(n=null),i={"ids[]":t},n&&(i.agreement=n),r&&(i.selectedPaId=r),e.get("/downloads/agreements",{params:i,headers:{Accept:"application/json"}})},getDownloadAssetAgreements:function(t){return e.get("/downloads/asset-agreements/"+t,{headers:{Accept:"application/json"}})},getDownloadPreferences:function(){return e.get("/downloads/preferences",{headers:{Accept:"application/json"}}).then(function(e){return e.data})},saveDownloadPreferences:function(t){return e.post("/downloads/preferences",{preferences:t},{Accept:"application/json"})},createBatchDownloads:function(t,n){var r,i,o,a,s,l,u,c,d,p,f,h;for(f="largest_size_download_token","smallest"===t.size&&(f="smallest_size_download_token"),a={},a.project_code=t.projectCode,a.notes=t.notes,h=[],d=["EditorialSubscription","ImagePack","PremiumAccess","EasyAccess"],s=0,u=d.length;s<u;s++)if(r=d[s],o=n[r])for(p=o.authorized_assets,l=0,c=p.length;l<c;l++)i=p[l],h.push(i[f]);return a.tokens=h,e.post("/downloads/create-download",{data:a})},createSingleDownload:function(t,n){var i,o;return o=r.defer(),i={},i.tokens=[n],t&&(i.project_code=t.projectCode,i.notes=t.notes),e.post("/downloads/create-download",{timeout:o.promise,data:i}).then(function(e){return o.resolve(e)})["catch"](function(e){return o.reject(e)}),o.promise}}}])}.call(this),function(){this.Download.factory("downloadTrackingService",["$http","$sce","$window","$q",function(){var e,t,n,r,i,o,a,l;return l=function(t,r,a){var l;return l=o(a),window.tracking_data.products_string=l,s.products=l,n("download",{ui_element_location:r,download_type:t,download_payment_source:i(t),products_string:l,downloaded_items:[e(a)]})},t=function(t,i,o){var l;return l=a(o),window.tracking_data.products_string=l,s.products=l,n("download",{ui_element_location:i,download_type:t,download_payment_source:r(t),products_string:l,downloaded_items:null!=o?o.map(function(t){return e(t)}):void 0})},e=function(e){return{asset_id:null!=e?e.assetId:void 0,asset_family:null!=e?e.family:void 0,asset_type:null!=e?e.assetType:void 0,collection_code:null!=e?e.collectionCode:void 0,istock_collection:null!=e?e.istockCollection:void 0,license_type:null!=e?e.licenseType:void 0,quality:null!=e?e.quality:void 0,release_info:null!=e?e.releaseCode:void 0}},a=function(e){var t;if(t=null!=e?e.map(function(e){return o(e)}):void 0)return t.join(";")},o=function(e){var t;return t=[null!=e?e.family:void 0,null!=e?e.assetType:void 0,null!=e?e.licenseType:void 0,null!=e?e.collectionCode:void 0,null!=e?e.quality:void 0,null!=e?e.releaseCode:void 0],t.join("|")},i=function(e){return["PA","EZA","EdSub","RFPack"].indexOf(e)>-1?"paid":"comp"},r=function(e){return e.split("|").forEach(function(e){var t;if("paid"===(t=i(e)))return t}),"comp"},n=function(e,t){var n;return null!=(n=window.combinedGtmTracking)?n.gtmPushTracking(e,t):void 0},{singleDownload:l,batchDownload:t}}])}.call(this),function(){angular.module("giDownload").directive("giHtmlCompile",["$compile",function(e){return{link:function(t,n,r){var i;i=t.$eval(r.giHtmlCompile),n.html(i),e(n.contents())(t)}}}])}.call(this),function(){this.Download.controller("SingleDownloadController",["$q","$scope","$rootScope","$window","$document","$timeout","downloadService","TodService","visitorExperiences","trackingHelper","DropboxService","t",function(e,t,n,r,i,o,a,l,u,c,d,p){var f,h,m,g,v,y,b,w,_,k,x,C,T,S,E,D,A;return t.assetAgreements={},t.downloadAttributes={},t.ezaPageVisible=!1,t.havePreferences=!1,t.overageReached=!1,t.inModal=!1,t.downloadUrl="",t.initialize=function(){return t.t=p},x=function(){return t.assetAgreements[t.assetId]?T():m().then(function(){return T()})},t.$watchGroup(["assetIds","modal.show"],function(){if(t.modal.show&&t.assetIds&&1===t.assetIds.length)return t.ezaPageVisible=!1,t.agreements=[],t.assetId=t.assetIds[0],t.assets&&(t.asset=t.assets[0]),t.havePreferences?x():(t.getPreferences(),x(),t.havePreferences=!0),t.modal.alwaysDownloadLargest?d.shouldShowUserInvite().then(function(e){return t.showPopup(),t.modal.showDropboxInvite=e}):t.showPopup()}),t.showPopup=function(){return $("body").addClass("modal-visible"),t.modal.show=!0},m=function(){return t.error=null,a.getDownloadAssetAgreements(t.assetId).success(function(e){var n;return t.restrictions=e.restrictions,t.showRestrictions=(null!=(n=t.restrictions)?n.length:void 0)>0,t.forceShowRestrictions=!1,t.assetAgreements[t.assetId]=e.agreements,t.gotAgreements=!0,h(e.agreements)}).error(function(e,n){return 403===n?w():t.error=p("trouble_processing_request")})},h=function(e){return e.each(function(e){if(e.overage)return t.overageReached=e.overage.overage_reached})},T=function(){var e;return n.showDownloadOptionsOnly=!1,t.agreements=t.assetAgreements[t.assetId],t.selectedAgreementTypeOrId&&!t.showAllOptions&&(e=g(t.selectedAgreementTypeOrId))&&e.count()>0&&(t.agreements=e),t.hasED()?(D(),S()):(E(),t.hasPA()&&S()),t.downloadAttributes.agreementId=v(t.selectedAgreementTypeOrId),b(),t.downloadAttributes.size=y().teams_size,t.sizeSelected=y(),t.shouldDownloadImmediately()?(t.download(!1,!0),A(!0)):A(!1)},A=function(e){return null==e&&(e=!1),t.isImagePack()&&t.isDestinationDropbox()||!t.isImagePack()&&!0===e?(n.showDownloadOptionsOnly=!0,$("body").removeClass("modal-visible"),!1===t.forceShowRestrictions&&(t.hideModalPromise&&o.cancel(t.hideModalPromise),delete t.hideModalPromise,t.hideModalPromise=o(function(){return t.hideModal()},1e4))):(n.showDownloadOptionsOnly=!1,t.modal.showDropboxInvite=!1,$("body").addClass("modal-visible"),t.hideModalPromise&&(o.cancel(t.hideModalPromise),delete t.hideModalPromise)),!0},S=function(){return t.agreements=t.agreements.filter(function(e){return"EasyAccess"!==e.type})},D=function(){return t.agreements=t.agreements.filter(function(e){return"PremiumAccess"!==e.type})},E=function(){return t.agreements=t.agreements.filter(function(e){return"PremiumAccess"!==e.type||t.hasRemainingPACapacity(e)})},t.hasED=function(){var e;return function(){var n,r,i,o;for(i=t.agreements,o=[],n=0,r=i.length;n<r;n++)e=i[n],"EditorialSubscription"===e.type&&o.push(e);return o}().length>0},t.hasPA=function(){var e;return function(){var n,r,i,o;for(i=t.agreements,o=[],n=0,r=i.length;n<r;n++)e=i[n],"PremiumAccess"===e.type&&o.push(e);return o}().length>0},t.hasRemainingPACapacity=function(e){var t;return"PremiumAccess"===e.type&&(e.agreement_details.has_unlimited_download||e.agreement_details.download_count<e.agreement_details.download_capacity||(null!=(t=e.overage)?t.remaining:void 0)>0)},
t.hasAgreements=function(){return t.agreements&&t.agreements.length>0},t.shouldDownloadImmediately=function(){return!t.inModal&&t.modal.alwaysDownloadLargest&&!t.isImagePack()&&(t.agreementSelected||t.singleAgreement())&&(!t.shouldShowEzaAgreement()||t.shouldShowEzaAgreement()&&!t.isEza())&&!(k()&&(t.projectCodeRequired||t.notesRequired))&&!_()},t.downloadLocallyUrl=function(){return t.downloadUrl},t.$watch("modal.alwaysDownloadLargest",function(e,r){if(void 0!==e&&e!==r&&(void 0!==r&&t.savePreference("downloadPreferences.alwaysDownloadLargest",t.modal.alwaysDownloadLargest),!e&&(n.downloadDestinations=null,t.inModal=!0,A(e),t.downloading&&t.downloading.timeout)))return t.downloading.timeout.reject()}),t.$watch("downloadAttributes.agreementId",function(){return b()}),t.toggleForceShowRestrictions=function(){return t.forceShowRestrictions=!t.forceShowRestrictions},t.$watch("forceShowRestrictions",function(){if(!0===t.forceShowRestrictions&&t.hideModalPromise)return o.cancel(t.hideModalPromise),delete t.hideModalPromise}),b=function(){var e,n,r;if(t.projectCodeRequired=!1,t.notesRequired=!1,void 0!==t.assetId&&void 0!==t.assetAgreements[t.assetId])return e=function(){var e,r,i,o;for(i=t.assetAgreements[t.assetId],o=[],e=0,r=i.length;e<r;e++)n=i[e],n.id===parseInt(t.downloadAttributes.agreementId,10)&&o.push(n);return o}()[0],"PremiumAccess"===e.type?(t.paAgreementSelected=!0,r=e.agreement_details,t.projectCodeRequired=r.project_code_required,t.notesRequired=r.notes_required,t.projectCodes=r.project_codes):(t.paAgreementSelected=!1,t.projectCodes=null)},v=function(e){var n,r,i,o,a,s,l,u,c;for(a=null!=(s=window.sessionStorage)?s.user_preferred_download_agreement_id:void 0,l=t.agreements,i=0,o=l.length;i<o;i++)if(n=l[i],n.id===a)return a;try{return e?-1!==["ED","PA","EA","IP","premium_pack"].indexOf(e)?function(){var n,i,o,a;for(o=t.agreements,a=[],n=0,i=o.length;n<i;n++)r=o[n],C(r.type)===e&&a.push(r);return a}()[0].id:-1!==["ANY"].indexOf(e)?function(){var e,n,i,o;for(i=t.agreements,o=[],e=0,n=i.length;e<n;e++)r=i[e],-1!==["ED","PA","EA"].indexOf(C(r.type))&&o.push(r);return o}()[0].id:e:null!=(u=t.agreements[0])?u.id:void 0}catch(e){return e,null!=(c=t.agreements[0])?c.id:void 0}},C=function(e){return"EditorialSubscription"===e?"ED":"ImagePack"===e?"premium_pack":"PremiumAccess"===e?"PA":"EasyAccess"===e?"EA":void 0},g=function(e,n){var r,i,o,a,s;if("ED"===e&&(e="EditorialSubscription"),"IP"===e&&(e="ImagePack"),"PA"===e&&(e="PremiumAccess"),"EA"===e&&(e="EasyAccess"),"premium_pack"===e&&(e="ImagePack"),i=[],n)i=t.assetAgreements[t.assetId];else for(s=t.assetAgreements[t.assetId],o=0,a=s.length;o<a;o++)r=s[o],"ANY"===e?"ImagePack"!==r.type&&i.push(r):"PremiumAccess"===e?$("#premiumaccessagreement").find(":selected").text()?r.custom_name===$("#premiumaccessagreement").find(":selected").text()&&i.push(r):r.type===e&&i.push(r):r.type!==e&&String(r.id)!==e||i.push(r);return i},y=function(){var e,n,r,i,o,a;if(r=null!=(i=window.sessionStorage)?i.user_preferred_download_size:void 0,!0===t.modal.alwaysDownloadLargest)return f()[f().length-1];for(o=f(),e=0,n=o.length;e<n;e++)if(a=o[e],a.teams_size===r)return a;return f()[f().length-1]},t.setPreferredSize=function(e){var n;return null!=(n=window.sessionStorage)&&(n.user_preferred_download_size=t.downloadAttributes.size),t.sizeSelected=e},t.requiresTranscoding=function(e){return l.requiresTranscoding(e)},t.trackHover=function(e){return l.trackHoverTriggered(e)},w=function(){return location.reload(!0)},t.selectedAgreement=function(){var e,n,r,i,o;if((null!=(i=t.agreements)?i.length:void 0)>0){if(1===t.agreements.length)return t.agreements[0];for(o=t.agreements,n=0,r=o.length;n<r;n++)if(e=o[n],e.id===parseInt(t.downloadAttributes.agreementId))return e}},f=function(){var e;return null!=(e=t.selectedAgreement())?e.authorized_sizes:void 0},t.selectedSize=function(){var e,n,r,i,o;if(t.selectedAgreement()){if(t.modal.alwaysDownloadLargest&&!t.isImagePack()&&!_())return o=f(),o.last();for(r=f(),e=0,n=r.length;e<n;e++)if(i=r[e],i.teams_size===t.downloadAttributes.size)return i}},_=function(){return 0!==f().length&&"eps"===f().last().teams_size},t.singleAgreement=function(){var e;return 1===(null!=(e=t.agreements)?e.length:void 0)},t.sizeInPixelsAvailable=function(){var e,n;return null!=(e=t.selectedAgreement())&&null!=(n=e.authorized_sizes)?n[0].dpi:void 0},t.download=function(e,o,s){var u;if(null==e&&(e=!0),null==o&&(o=!1),null==s&&(s=!1),t.ezaPageVisible=!1,u=t.selectedSize().teams_size,l.requiresTranscoding(t.selectedSize())&&l.triggerPopup(),t.singleDownloadForm.$setPristine(),t.selectedSize())return t.downloading=a.createSingleDownload(t.downloadAttributes,t.selectedSize().download_token).then(function(a){var c;return t.inModal=!t.modal.alwaysDownloadLargest,i.trigger("track.singleDownload",{asset:t.asset,assetId:t.assetId,agreementType:null!=(c=t.selectedAgreement())?c.type:void 0,downloadType:t.downloadType,downloadLocation:t.downloadLocation,overage:t.overageReached,isToD:l.requiresTranscoding(t.selectedSize()),assetSize:u}),t.assetAgreements={},n.downloadDestinations=a.data.download_destinations,t.downloadUrl=a.data.single_downloads[0].url,0===a.data.single_downloads.length?w():(t.isEza()&&t.savePreference("downloadPreferences.hideEzaAgreement","true"),t.updatePreferences(),l.requiresTranscoding(t.selectedSize())&&l.saveData(t.assetId,u,a.data.single_downloads[0].url,a.data.single_downloads[0].tod_job_id),t.isDestinationDropbox()?A(!0):(i.trigger("downloadStarted"),r.location=a.data.single_downloads[0].url,n.$broadcast("dropbox-intro-modal.asset-downloaded",{data:a.data,alwaysDownloadLargest:t.modal.alwaysDownloadLargest,origin:t.dropboxDisconnectedTrackingLinkName()}),e?t.hideModal():o?t.resetModal(s):void 0))})["catch"](function(e){if(e&&401===e.status)return t.redirectToSignin()})["finally"](function(){return t.downloading=null})},t.hideModal=function(){return t.resetModal(),t.$parent.hideModal()},t.$on("dropbox-intro-modal.dismissed",t.hideModal),t.resetModal=function(e){return null==e&&(e=!1),t.agreementSelected=e,t.downloadAttributes.notes=null,t.downloadAttributes.projectCode=null},t.selectedAgreementIsViewOnly=function(){var e;return k()&&(null!=(e=t.selectedAgreement())?e.effective_permissions.indexOf("Download"):void 0)<0&&u.isActive("PAPermissions")},t.selectAgreement=function(){return t.agreementSelected=!0,window.sessionStorage.user_preferred_download_agreement_id=t.downloadAttributes.agreementId,t.downloadAttributes.size=y().teams_size,!0===t.modal.alwaysDownloadLargest&&t.shouldDownloadImmediately()?(t.download(!1,!0,!0),A(!0)):!1===t.modal.alwaysDownloadLargest&&t.shouldDownloadImmediately()?(t.download(!1,!0),A(!1)):A(!1)},t.showEzaAgreementPage=function(){return t.ezaPageVisible=!0},t.isEza=function(){var e;return"EasyAccess"===(null!=(e=t.selectedAgreement())?e.type:void 0)},t.isImagePack=function(){var e;return"ImagePack"===(null!=(e=t.selectedAgreement())?e.type:void 0)},t.trackAgreementChange=function(){var e;return s.events="event18",s.event18="event18",s.linkTrackVars=c.myPageVariablesAnd("event18,events"),s.linkTrackEvents="event18",e="DownloadMethodToggle-",e+=function(){var e,n;switch(null!=(e=t.selectedAgreement())?e.type:void 0){case"PremiumAccess":return"PA";case"ImagePack":return"Pack";case"EasyAccess":return"EZA";default:return null!=(n=t.selectedAgreement())?n.type:void 0}}(),s.tl(!0,"o",e)},k=function(){var e;return"PremiumAccess"===(null!=(e=t.selectedAgreement())?e.type:void 0)}}])}.call(this),function(){angular.module("giDownload").directive("giSpinner",function(){return{link:function(e,t){return t.inlineSpinner()}}})}.call(this),function(){angular.module("giDownload").factory("submitDownloadService",["$document",function(e){return{submit:function(t){var n,r,i,o,a;r="",o=t.post_data;for(i in o)a=o[i],r+="<input type='hidden' name='"+i+"' value='"+a+"' />";return n=angular.element("<form id='batchDownloadForm' action='"+t.url+"' method='post'>"+r+"</form>"),angular.element(e[0].body).append(n),n.submit().remove()}}}])}.call(this),function(){angular.module("giDownload").directive("giTrackSingleDownload",["$rootScope","$document","omnitureReady","trackingHelper","downloadTrackingService",function(e,t,n,r,i){return{restrict:"E",link:function(n){return t.on("click",'[ng-controller="DownloadController"] a.download',function(){return $(this),e.$apply(function(){return s.linkTrackVars=r.myPageVariablesAnd("events"),s.linkTrackEvents=s.events="",n.gotAgreements=!1,n.$watch("gotAgreements",function(){var e,t;if(n.gotAgreements){if(n.singleAgreement()){switch(t="DownloadModal-ChooseSize",e="",n.selectedAgreement().type){case"EasyAccess":e="EZA";break;case"PremiumAccess":e="PA";break;case"EditorialSubscription":e="EdSub";break;case"ImagePack":e="RFPack"}s.prop37=s.eVar37=e,tracking_data.download_type=e,s.linkTrackVars=r.myPageVariablesAnd("events,prop37,eVar37")}else t="DownloadModal-ChoosePlan";return s.events="event33",window.s.linkTrackEvents="event33",window.s.tl(!0,"o",t),n.gotAgreements=!1}})})}),t.on("click",'[ng-controller="DownloadController"] button.continue',function(){return $(this),e.$apply(function(){var e;switch(e="",n.selectedAgreement().type){case"EasyAccess":e="EZA";break;case"PremiumAccess":e="PA";break;case"EditorialSubscription":e="EdSub";break;case"ImagePack":e="RFPack"}return s.prop37=s.eVar37=e,tracking_data.download_type=e,r.initializeEvent("",["prop37","eVar37"]),window.s.tl(!0,"o","DownloadModal-ChooseSize")})}),t.on("track.singleDownload",function(e,t){var n,o,a;switch(n="",t.agreementType){case"EasyAccess":n="EZA";break;case"PremiumAccess":n="PA";break;case"EditorialSubscription":n="EdSub";break;case"ImagePack":n="RFPack"}return"batch"===t.downloadType&&(n+="|batch"),s.linkTrackVars=r.myPageVariablesAnd("events"),t.isToD?(s.linkTrackEvents=s.events="event171,event3=Download",r.initializeEvent("event171,event3",["prop37","eVar37","prop29","eVar29","eVar86","prop52"])):(s.linkTrackEvents=s.events="event3=Download",r.initializeEvent("event3",["prop37","eVar37","prop29","eVar29","eVar85","eVar86","prop52"])),s.prop37=s.eVar37=n,tracking_data.download_type=n,s.prop29=s.eVar29=t.assetId,s.eVar85=null!=(a=window.giLocalStorage)?a.getItem("target_search_mix"):void 0,t.assetSize&&(s.eVar86=t.assetSize),t.isToD&&(s.eVar86=t.assetSize+"|Trancode"),s.prop52="srp|icon","FavoritesBoard-Overlay"!==tracking_data.page_name&&"favorites_board"!==tracking_data.page_name||(s.prop52="board|icon"),tracking_data.ui_element_location="srp|icon","FavoritesBoard-Overlay"!==tracking_data.page_name&&"favorites_board"!==tracking_data.page_name||(tracking_data.ui_element_location="board|icon"),s.products="",tracking_data.products_string="","favorites_board"===tracking_data.overlay_page_name&&(s.pageName="FavoritesBoard-Overlay"),t.overage&&(tracking_data.download_type=tracking_data.download_type+"|Overage"),o="Download",t.isToD&&(o="ConvertToDownload"),window.s.tl(!0,"o",o),i.singleDownload(n,t.downloadLocation,t.asset)}),t.on("click",'[ng-controller="DownloadController"] a.save-file-locally',function(){var e;if(s.linkTrackVars=r.myPageVariablesAnd("events"),s.linkTrackEvents=s.events="",n.singleAgreement()){switch(e="",n.selectedAgreement().type){case"EasyAccess":e="EZA";break;case"PremiumAccess":e="PA";break;case"EditorialSubscription":e="EdSub";break;case"ImagePack":e="RFPack"}s.prop37=s.eVar37=e,tracking_data.download_type=e,s.linkTrackVars=r.myPageVariablesAnd("events,prop37,eVar37")}return s.events="event176",window.s.linkTrackEvents="event176",window.s.tl(!0,"o","Dropbox|savefilelocally")})}}}]),angular.module("giDownload").directive("giTrackBatchDownload",["$rootScope","$document","omnitureReady","trackingHelper","downloadTrackingService",function(e,t,n,r,i){return{restrict:"E",link:function(){return t.on("track.openUseRestrictionsModal",function(){return s.tl(!0,"o","BatchDownloadModal-UseRestrictions")}),t.on("track.overageReachedTooltipDownloadModal",function(){return s.linkTrackVars=r.myPageVariablesAnd("eVar47"),s.tl(!0,"o","PA-OverageTooltip|batch")}),function(e){return"EasyAccess"===e?"EZA":"PremiumAccess"===e?"PA":"EditorialSubscription"===e?"EdSub":""},t.on("track.batchDownload",function(e,t){var n,o,a,l,u,c,d,p,f,h,m,g,v,y,b;for(u=[],c=[],o=t.batchDownloadAgreements,g=t.overageReached,d=null!=(v=t.assets)?v.reduce(function(e,t){return e[t.assetId]=t,e},{}):void 0,y=["EasyAccess","PremiumAccess","EditorialSubscription"],p=0,h=y.length;p<h;p++)if(n=y[p],o[n])for(b=o[n].authorized_assets,f=0,m=b.length;f<m;f++)l=b[f],u.push(l.asset_id),d&&c.push(d[l.asset_id]);return a="",o.EasyAccess&&(a="EZA|"),o.PremiumAccess&&(a+="PA|"),o.EditorialSubscription&&(a+="EdSub|"),a+="batch",window.s.linkTrackVars=r.myPageVariablesAnd("events"),window.s.linkTrackEvents=s.events="event3=Download",r.initializeEvent("event3",["prop37"]),window.s.products="",tracking_data.products_string="",window.s.prop37=a,tracking_data.download_type=a,"favorites_board"===tracking_data.overlay_page_name&&(window.s.pageName="FavoritesBoard-Overlay"),g&&(s.eVar37=s.prop37=s.prop37+"|Overage"),g&&(tracking_data.download_type=tracking_data.download_type+"|Overage"),window.s.tl(!0,"o","Download"),i.batchDownload(a,t.downloadLocation,t.assets)})}}}]),angular.module("giDownload").run(["$document","omnitureReady","trackingHelper",function(e,t,n){return e.on("singleDownload.overageReachedTooltipDownloadModal",function(){return s.linkTrackVars=n.myPageVariablesAnd("eVar47"),s.tl(!0,"o","PA-OverageTooltip|downloadModal")})}])}.call(this),angular.module("giModal",["giLocalStorage","giSessionStorage"]),function(){angular.module("giModal").directive("ibmModal",["ibmModalTracking","modalBaseFactory","giModalService","modalCollectionFactory","giSessionStorage",function(e,t,n,r,i){return{restrict:"A",link:function(o,a,s){var l,u,c,d,p,f,h,m,g,v;return d="ibm",l=t,v=e,f=n,c=r,h="IBMSession",m="shown_in_this_session",g=function(){return l.isDismissed()||i.getItem(h)===m?c.showNext():f.shouldShow(d).then(function(e){return i.setItem(h,m),e.data.show?f.getContent(d).then(function(e){return a.html(e.data),l.init(o,a,s,v,d,c),l.onAcceptCallback(function(){return p()}),l.onCloseCallback(function(){return l.dismissModal()}),a.find(".ibm-dam-link").on("click",function(){return v.sendEvent("IBM-DAM-Modal-CheckIBMRepository-textlink","event202"),v.sendGtmEvent("ibmModalCheckIBMRepositoryTextlink"),p(),l.closeModal()}),a.find(".request-access-link").on("click",function(){var e;return v.sendEvent("IBM-DAM-Modal-RequestGettyImagesPremiumAccess","event202"),v.sendGtmEvent("ibmModalRequestGettyImagesPremiumAccess"),l.closeModal(),e=window.open(a.find(".modal-content").data("dam-link"),"_blank"),e.focus()}),l.showModal(),c.finish()}):c.showNext()})["catch"](function(e){return console.log(e),c.showNext()})},u=function(){return l.init(o,a,s,v,d,c),c.add({show:g,order:1})},p=function(){var e;return e=window.open("http://dam.ibm.com","_blank"),e.focus()},u()}}}]),angular.module("giModal").factory("ibmModalTracking",["modalTrackingBaseFactory",function(e){var t;return t=e,{trackShow:function(){return t.sendGtmEvent("ibmModalAppears"),t.sendEvent("IBM-DAM-Modal-View","event201")},trackAccept:function(){return t.sendEvent("IBM-DAM-Modal-CheckIBMRepository-button","event202"),t.sendGtmEvent("ibmModalCheckIBMRepositoryButton")},sendEvent:function(e,n){return t.sendEvent(e,n)},sendGtmEvent:function(e,n){return t.sendGtmEvent(e,n)}}}])}.call(this),function(){angular.module("giModal").directive("giModal",["$window",function(e){return{restrict:"A",link:function(t,n,r){var i;return""===r.giModal?$.gettyModal.initElement(n,!1):($.gettyModal.initElement(r.giModal,!1),n.on("click",function(){return t.checkModalHeight(),void 0!==r.giModalId?$.gettyModal.find(r.giModal+"[id='"+r.giModalId+"']").open():$.gettyModal.find(r.giModal).open()}),$(function(){if("true"===r.giModalShowOnLoad)return $.gettyModal.find(r.giModal).open()})),angular.element(e).on("resize",function(){return i()}),t.checkModalHeight=function(){$(window).width()>640&&i(!0)},i=function(e){var t,n;if(null==e&&(e=!1),void 0===r.giModalDisableRedrawHeight&&(t=$.gettyModal.find(r.giModal).modal,n=$(window).height(),e||t.hasClass("active")))return t.find(".modalBox").css("max-height",n-150)}}}}])}.call(this),function(){angular.module("giModal").factory("modalBaseFactory",["$document","modalStateFactory",function(e,t){var n,r,i,o,a,s,l,u,c,d,p,f,h,m,g,v,y,b,w,_,k,$,x,C;return c=null,p=null,d=null,$=null,w=null,f=null,C=null,v=null,y=null,x=t,_=null,b=null,k=null,o=function(t,o,a,s,l,u){return v=o,C=s,a,b=u,y=v.find(".modal-wrapper"),c=v.find(".yes-please"),p=v.find(".no-thanks"),d=v.find(".close-icon"),$=v.find(".overlay"),w=l,f="dismissed",v.ready(function(){return c.on("click",function(){return n()}),p.on("click",function(){return i()}),$.on("click",function(){return r()}),d.on("click",function(){return k(),r()}),e.keydown(function(e){if(27===e.keyCode)return r()})})},u=function(){if(x.getValue(w)!==f)return v.children(".overlay, .modal-wrapper").addClass("active"),C.trackShow()},n=function(){return h(),m()},i=function(){return g(),m()},r=function(){return m()},a=function(){return x.getValue(w)===f},s=function(e){return _=e},h=function(){return _(),C.trackAccept(),x.setValue(w,f)},l=function(e){return k=e},m=function(){return $.removeClass("active"),y.removeClass("active"),b.showNext()},g=function(){return x.setValue(w,f)},{init:o,showModal:u,acceptModal:n,dismissModal:i,closeModal:r,onAcceptCallback:s,isDismissed:a,onCloseCallback:l}}])}.call(this),function(){angular.module("giModal").factory("modalCollectionFactory",function(){var e,t,n,r,i,o,a;return r=[],i=-1,e=function(e){return r.push(e),a()},o=function(){if(i++,r.length>0&&r.length>i)return r[i].show()},n=function(){return i=-1,o()},a=function(){return r.sort(function(e,t){return e.order>t.order?1:e.order<t.order?-1:0})},t=function(){var e;for(i++;i<r.length;)e=r[i],null!=e.onSkip&&e.onSkip(),i++},{init:n,showNext:o,add:e,finish:t}}),angular.module("giModal").run(["$document","modalCollectionFactory",function(e,t){return angular.element(e).ready(function(){return t.init()})}])}.call(this),function(){angular.module("giModal").service("giModalService",["$http",function(e){return{shouldShow:function(t){return e.get("/modals/single",{headers:{Accept:"application/json","Cache-Control":"no-cache",Pragma:"no-cache",Expires:"Sat, 01 Jan 2000 00:00:00 GMT"},params:{name:t}})},getModalList:function(){return e.get("/modals/list",{headers:{Accept:"application/json","Cache-Control":"no-cache",Pragma:"no-cache",Expires:"Sat, 01 Jan 2000 00:00:00 GMT"}})},getContent:function(t){return e.get("/modals/content",{headers:{Accept:"text/html","Cache-Control":"no-cache",Pragma:"no-cache",Expires:"Sat, 01 Jan 2000 00:00:00 GMT"},params:{name:t}})}}}])}.call(this),function(){angular.module("giModal").factory("modalStateFactory",["giLocalStorage",function(e){var t,n,r,i,o,a,s;return t="gimod",s=[],r=function(){try{return s=JSON.parse(e.getItem(t))||[]}catch(e){e}},i=function(e){return n(e).value},n=function(e){var t,n;r();try{return t=function(){var t,r,i;for(i=[],t=0,r=s.length;t<r;t++)n=s[t],n.name===e&&i.push(n);return i}(),t.length>0?t[0]:o(e,"")}catch(e){}},a=function(r,i){var o;o=n(r),o.value=i;try{return e.setItem(t,JSON.stringify(s))}catch(e){e}},o=function(e,t){var n;return n={},n.name=e,n.value=t,s.push(n),n},{getValue:function(e,t){return i(e,t)},setValue:function(e,t){return a(e,t)}}}])}.call(this),function(){angular.module("giModal").factory("modalTrackingBaseFactory",["$q","$document","$window",function(e,t,n){var r,i,o;return i=function(e,t){return r().then(function(){return n.pageTrackingVariables=Object.keys($.siteCatalyst.pageTrackingVariables()).join(","),s.linkTrackVars=n.pageTrackingVariables+",linkTrackEvents",s.events=t,s.linkTrackEvents=t,s.tl(!0,"o",e)})},r=function(){var n;return n=e.defer(),null!=window.s&&n.resolve(),t.on("omnitureReady",function(){return n.resolve()}),n.promise},o=function(e,n){return null==n&&(n={}),t.safeReady(function(){return combinedGtmTracking.gtmPushTracking(e,n)})},{sendEvent:i,sendGtmEvent:o}}])}.call(this),angular.module("giDownloadRemoteClient",["giRemoting"]),function(){angular.module("giDownloadRemoteClient").directive("giDownloadRemoteClient",["remoteApps","$document","$compile",function(e,t,n){return{link:function(r,i,o){var a,s;return a="giDownload",s="/downloads/manifest",i.on("click",function(){var i,l,u;return i=o.giDownloadNamespace||"primary",l="giDownload-"+i,0===angular.element("#"+l).length&&(u=angular.element('<div id="'+l+'" gi-remote-app="\''+a+"'\" gi-remote-manifest=\"'"+s+"'\"></div>"),n(u)(r),angular.element(t[0].body).append(u)),e.get(a).then(function(e){var n,i,a,s;return o.giDownloadRemoteClient&&""!==o.giDownloadRemoteClient&&"gi-download-remote-client"!==o.giDownloadRemoteClient?(e.rootScope.assets=["function"==typeof r[i=o.giDownloadGetAsset]?r[i](o.giDownloadRemoteClient):void 0],e.rootScope.assetIds=[o.giDownloadRemoteClient]):(e.rootScope.assets="function"==typeof r[a=o.giDownloadGetBatchAssets]?r[a]():void 0,e.rootScope.assetIds=null!=(s=e.rootScope.assets)?s.map(function(e){return e.assetId}):void 0),"function"==typeof(n=e.rootScope).showModal&&n.showModal(e.rootScope.assetIds),e.rootScope.downloadLocation=o.giDownloadLocation,e.rootScope.selectedAgreementTypeOrId=o.giDownloadSelectedAgreement,e.rootScope.showAllOptions=o.giDownloadShowAllOptions,e.rootScope.downloadType=o.giDownloadType,"batch"===o.giDownloadType&&t.trigger("track.openBatchDownloadModal"),e.refresh()})})}}}])}.call(this),function(){this.MarketingCopy=angular.module("giMarketingCopy",[]).run(["$rootScope","t",function(e,t){return e.t=t}])}.call(this),function(){this.MarketingCopy.controller("DefaultPackPerImagePrice",["$scope","premiumPacksService",function(e,t){return t.getPremiumPackPrices(e.prices).success(function(t){var n,r,i,o;for(o=[],n=0,r=t.length;n<r;n++)i=t[n],5===i.Downloads?o.push(e.price_per_image=i.PricePerImage):o.push(void 0);return o}),e.getTrackingData=function(e){return"UltraPack-Modal|"+e.text()}}])}.call(this),function(){this.MarketingCopy.controller("MarketingCopyController",["$scope","$http","$window","$timeout","premiumPacksService",function(e,t,n,r,i){var o,a,s,l,u,c,d,p,f,h,m;return e.prices=[],e.packPricePerImage=0,f={},h={},e.sizePrice={},e.preferredSize=null!=(m=window.sessionStorage)?m.user_preferred_download_size:void 0,e.imagePrices={},e.init=function(t){var n,r,i,o;for(o=t.split(","),n=!1,r=0,i=o.length;r<i;r++)o[r]===e.preferredSize&&(n=!0);return n&&"detail"!==e.preferredSize||(e.preferredSize=o[o.length-1]),u(),e.$watch("prices",u),e.$watch(angular.bind($.AssetDetail.ImageSizes.all,s))},u=function(){return i.getPremiumPackPrices(e.sizePrice).success(function(e){return h=e,e.Prices&&(h=e.Prices),a(h),c(h),d(e)})},c=function(t){var n,r,i,o;for(o=[],n=0,r=t.length;n<r;n++)i=t[n],i.Sku===f.hi?(e.packSavePrice=i.AmountYouSave,e.packPricePerImage=i.RawPricePerImage,o.push(e.pricePerImage=i.PricePerImage)):o.push(void 0);return o},d=function(t){if(t.Savings)return e.savings=t.Savings},o=function(e){var t;return t=[],e.forEach(function(e){return t.push({Price:e.price,DiscountPrice:e.discountPrice,RawPrice:e.rawPrice,SizeCode:e.name})}),t},s=function(){var t,n;if((n=$.AssetDetail.ImageSizes.all.length)&&e.prices.length<n)return t=$.AssetDetail.ImageSizes.all,t[0]&&t[0].price&&(t=o(t)),e.prices=t.map(function(t){return e.sizePrice[t.SizeCode]=t.RawPrice,t.RawPrice})},e.isPreferredSize=function(t){return t===e.preferredSize},e.togglePackPromoVisibility=function(){return $(".pack-discount-promo").removeClass("selected"),$('tr:has(input[type="radio"]:checked) + tr.pack-discount-promo').addClass("selected"),!0},e.isADiscount=function(t){return!(!e.discounts||!e.discounts[t])},e.packSize=function(t){if(e.packSizes)return e.packSizes[t]},e.getPackSavingsPriceForSize=function(e){return p("SavingsPrice",e)},e.getPackSavingsImagePriceForSize=function(e){return p("OriginalPricePerImage",e)},a=function(e){var t,n,r,i,o;for(i=[],t=0,n=e.length;t<n;t++)r=e[t],5===r.Downloads?(o=r.Sku,o.match(/lo/i)&&(f.lo=o),o.match(/md/i)&&(f.med=o),o.match(/hi/i)?i.push(f.hi=o):i.push(void 0)):i.push(void 0);return i},l=function(){var t,n,r,i,o;if(e.discounts)return e.discounts;if(e.savings){e.discounts={},e.packSizes={};for(n in f){o=f[n],r=e.savings[o];for(t in r)i=r[t],e.discounts[t]=i,e.packSizes[t]=n}return e.discounts}},p=function(e,t){var n;if((n=l())&&n[t])return n[t][e]},e.getTrackingData=function(t){var n;return n=$(t).data("sizeCode"),"PremiumPack-Modal|Save"+(e.isADiscount(n)?p("RawSavingsPrice",n):"WithHighRes")},e.openPackBuyModal=function(t){var n;return n=t?e.packSize(t):"hi",angular.element($("#ultrapack-price-table")).scope().setActiveResolution(n),$.gettyModal.find("#buy_premium_pack_modal").open()}}])}.call(this),function(){var e;e=function(){function e(e,t,n){this.q=e,this.http=t,this.t=n}return e.prototype.getPremiumPackPrices=function(e){var t,n,r,i;n=[];for(i in e)t=e[i],n.push("asset_prices["+i+"]="+t);return n.length&&(r="?"+n.join("&")),this.http.get("/purchase/pp-prices"+(r||""),{cache:!0})},e.prototype.getRfPrices=function(e){return this.http.get("/purchase/rf-prices/"+e,{cache:!0})},e}(),this.MarketingCopy.factory("premiumPacksService",["$q","$http",function(t,n){return new e(t,n)}])}.call(this),function(){this.MarketingCopy.directive("giSaveLastAsset",function(){return{restrict:"A",link:function(e,t){return t.bind("click",function(){var e,n,r;return r={},e=t.attr("gi-save-last-asset"),n=t.attr("data-size-code"),r[e]=n,$.storageQueueManager.enqueue("pack_assets_for_download",JSON.stringify(r),"localStore")})}}})}.call(this),function(){this.BuyImagePack=angular.module("giBuyImagePack",["giTranslation","giExperiences","giMarketingCopy","giTracking"]).run(["$rootScope","t",function(e,t){return e.t=t}])}.call(this),function(){this.BuyImagePack.controller("BuyImagePackController",["$scope","$http","premiumPacksService","visitorExperiences",function(e,t,n){var r,i,o,a;return e.selected={purchaseLink:""},e.activeResolution="hi",e.buckets={hi:[]},e.singlePriceBuckets={},e.packPrices=e.buckets.hi,n.getPremiumPackPrices().success(function(t){var n,i,o;for(e.premiumPackPrices=[],n=0,i=t.length;n<i;n++)o=t[n],e.premiumPackPrices.push(o);return r(a.packOrder)}),a={title:"Premium Packs",caption:"5, 10, 15 or 25 downloads / year",packOrder:[5,10,15,25]},"undefined"!=typeof gi&&null!==gi&&null!=gi.cmsData&&null!=gi.cmsData.imagePacks&&(a.title=gi.cmsData.imagePacks.headline,a.caption=gi.cmsData.imagePacks.promotedCopy,a.packOrder=gi.cmsData.imagePacks.packs),function(e){return parseInt(e.match(/\d+$/)[0],10)},r=function(t){var n,r,o,a,s,l;for(s=function(t,n){var r,o,a;if(o=function(e){return{sku:e.Sku,purchaseLink:"/purchase/checkout/"+e.Sku,downloads:e.Downloads,price:e.Price,amountYouSave:e.AmountYouSave,pricePerImage:e.PricePerImage,resolution:i(e.Sku)}},r=function(t){return e.buckets[t.resolution]||(e.buckets[t.resolution]=[]),e.buckets[t.resolution].push(t)},a=o(n),t===a.downloads&&(r(a),5===a.downloads&&e.activeResolution===a.resolution&&(e.selected.purchaseLink=a.purchaseLink)),1===a.downloads)return e.singlePriceBuckets[a.resolution]=a.price},a=[],n=0,r=t.length;n<r;n++)l=t[n],a.push(function(){var t,n,r,i;for(r=e.premiumPackPrices,i=[],t=0,n=r.length;t<n;t++)o=r[t],i.push(s(l,o));return i}());return a},e.activePackPrices=function(){return e.packPrices.filter()},e.setActiveResolution=function(t,n){if(n&&(t=o()[n]||t),e.activeResolution!==t)return e.setResolutionTab(t)},o=function(){return{high:"hi","super":"hi",hd1:"hi",hd8:"hi",master:"hi",full:"hi",medium:"med",ntsc:"med",pal:"med",comp_1024:"med",small:"med",large:"med",low:"lo",comp:"lo",lws:"lo",lwf:"lo","594_screen":"lo",detail:"lo",close:"lo"}},e.setResolutionTab=function(t){return e.activeResolution=t,e.packPrices=e.buckets[t],e.selected.purchaseLink=e.packPrices[0].purchaseLink},i=function(e){return null!=e.match(/hi/i)?"hi":null!=e.match(/lo/i)?"lo":null!=e.match(/md/i)?"med":"unknown"},e.filterByActiveResolution=function(){return function(t){return t.resolution===e.activeResolution}}()}])}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("buy_image_pack/buy_ultrapack.html",'<div id="ultrapack-price-table" ng-controller="BuyImagePackController"><ul class="pricing-table-header"><li class="resolution-tab" ng-class="{active: activeResolution == &#39;hi&#39; }" ng-click="setResolutionTab(&#39;hi&#39;)"><div class="resolution">{{t(\'high_resolution\')}}</div><div class="resolution-mobile">{{t(\'high\')}}</div></li><li class="resolution-tab" ng-class="{active: activeResolution == &#39;med&#39; }" ng-click="setResolutionTab(&#39;med&#39;)"><div class="resolution">{{t(\'med_resolution\')}}</div><div class="resolution-mobile">{{t(\'medium\')}}</div></li><li class="resolution-tab" ng-class="{active: activeResolution == &#39;lo&#39; }" ng-click="setResolutionTab(&#39;lo&#39;)"><div class="resolution">{{t(\'low_resolution\')}}</div><div class="resolution-mobile">{{t(\'low\')}}</div></li></ul><table class="pricing-table"><tr><td class="ultrapack-single-asset" colspan="5">{{t(\'single_item_price\', {price: singlePriceBuckets[activeResolution]})}}</td></tr><tr ng-click="selected.purchaseLink = price.purchaseLink" ng-repeat="price in packPrices"><td nowrap=""><input id="download-agreement-{{$index}}" name="download-agreement" ng-checked="price.purchaseLink == selected.purchaseLink" ng-model="selected.purchaseLink" type="radio" value="{{price.purchaseLink}}" /><label class="radio-button" for="download-agreement-{{$index}}"></label></td><td class="ultrapack-info" nowrap=""><div class="price-title">{{t(\'pack_count\', {total: price.downloads})}}</div><div class="saved-amount-mobile">{{t(\'save_amount\', {amount_saved: price.amountYouSave})}}</div></td><td nowrap=""><div class="ultrapack-price">{{price.price}}</div><div class="price-per-image-mobile">{{t(\'price_per_asset\', {price: price.pricePerImage})}}</div></td><td class="price-per-image" nowrap="">{{t(\'price_per_asset\', {price: price.pricePerImage})}}</td><td class="saved-amount" nowrap="">{{t(\'save_amount\', {amount_saved: price.amountYouSave})}}</td></tr><tr class="buy-now-row"><td colspan="5"><a class="button" data-close-and-redirect="" gi-track="track.packModalBuyNowLink" ng-href="{{selected.purchaseLink}}" target="_self">{{t(\'buy_now\')}}</a></td></tr></table></div>')}]),function(){this.BuyImagePack.directive("giBuyUltrapack",function(){return{templateUrl:"/asset-detail/assets/buy_image_pack/buy_ultrapack.html"}})}.call(this),function(){$(document).on("track.packModalBuyNowLink",function(){return $.storageQueueManager.localStore.set("modal-prop52","PackBuyNow-Modal")})}.call(this),function(){}.call(this),function(){angular.module("AdpApp").directive("giDetailsShowWithSideAds",["$document","$window","visitorExperiences","$timeout",function(){return{link:function(e,t){return function(){if(t.find(".ad-container-right-side").length>0)return t.addClass("details-display-toggle")}()}}}])}.call(this),function(){angular.module("AdpApp").directive("giDownloadComp",["$document","$window","giLocalStorage",function(e,t,n){return{link:function(e,t){return t.click(function(){return $("#hide-comp-license").is(":checked")&&n.setItem("assetDetail.hideCompLicense",!0),$.gettyModal.find("#comp_modal").close()})}}}]),angular.module("AdpApp").directive("giDownloadCompLink",["$document","$window","giLocalStorage",function(e,t,n){return{link:function(e,r){return r.click(function(){return"true"===n.getItem("assetDetail.hideCompLicense")?e.updateLocation($("#comp_modal .download_button").attr("href")):$.gettyModal.find("#comp_modal").open()}),e.updateLocation=function(e){return t.location=e}}}}])}.call(this),function(){angular.module("AdpApp").directive("draggableImage",["$document","$window",function(e,t){return{restrict:"A",link:function(n,r){var i,o,a,s,l,u,c,d,p,f,h,m,g,v,y,b,w,_,k;return g=v=_=k=h=m=p=f=b=u=0,w=angular.element(t),c=!1,w.bind("resize",function(){if(n.isModalOpen)return d()}),r.bind("click",function(e){return e.stopPropagation()}),r.bind("load",function(){if(c=!0,n.isModalOpen)return d()}),e.on("imageCard.zoom",function(){return n.isModalOpen?$("body").css("overflow","hidden"):$("body").css("overflow","")}),n.$watch("isModalOpen",function(){if(n.isModalOpen)return d()},!0),d=function(){if(c)return b=r[0].getBoundingClientRect().width,u=r[0].getBoundingClientRect().height,h=w.width()-b,m=w.height()-u,i()},o=function(){return Math.round((w.width()-b)/2)},a=function(){return Math.round((w.height()-u)/2)},i=function(){return k=a(),_=o(),r.css({top:k+"px",left:_+"px"})},y=function(e){var t;if(e.originalEvent&&(e=e.originalEvent),e.preventDefault(),
t=e.targetTouches)return e.stopPropagation(),s(t[0])},s=function(e){var t,n;return n=b<=w.width(),t=u<=w.height(),n&&t?void i():(t?k=a():(k=e.pageY-v,k<=m?k=m:k>=f&&(k=f)),n?_=o():(_=e.pageX-g,_<=h?_=h:_>=p&&(_=p)),r.css({top:k+"px",left:_+"px"}))},l=function(){return e.unbind("mousemove",s),e.unbind("mouseup",l),r.unbind("touchmove",y),r.unbind("touchend",l),r.css({cursor:""})},r.on("mousedown touchstart",function(t){return t.preventDefault(),r.css({cursor:"move"}),t.originalEvent&&(t=t.originalEvent),t.targetTouches&&(t=t.targetTouches[0],r.on("touchmove",y),r.on("touchend",l)),g=t.pageX-_,v=t.pageY-k,e.on("mousemove",s),e.on("mouseup",l)})}}}])}.call(this),function(){angular.module("AdpApp").directive("giImageFlexResize",["$document","$window","visitorExperiences","$timeout",function(e,t,n,r){return{link:function(n,i,o){var a,s,l,u,c,d,p,f,h,m,g,v,y;if(p=540,h=parseFloat(o.ratio),f="film-card"===i.context.className?800:h*p,y=t.innerWidth,c=e.find(".image-card-wrapper").first(),e.find(".details-wrapper").first(),l=e.find(".details-card"),u=l.width(),a=e.find(".buy-card").first(),s=a.width(),d=function(){return!!window.MSInputMethodContext&&!!document.documentMode},m=function(){var e;if("true"!==o.is360)return e=d()?"width":"max-width",i.css(e,f+"px"),i.addClass("full-width"),d()?(c.css("max-width",f+"px"),l.addClass("ie")):void 0},v=function(){if(y-u[0]-s>=f)return i.css("width",f+"px");i.css("width","auto")},g=function(){var e;e=448+f,l[0].style.setProperty("--details-medium-width",e+"px")},m(),g(),d())return angular.element(t).on("resize",function(){return r(v)})}}}])}.call(this),function(){angular.module("AdpApp").controller("SocialController",["$scope","t","$http","$filter",function(e,t){return e.init=function(n){if(e.t=t,null!=n.assetId&&null==e.asset&&(e.asset={}),null!=n.assetId&&(e.asset.asset_id=n.assetId),null!=n.rawCaption&&(e.asset.rawCaption=n.rawCaption),null!=n.twitterCaption&&(e.asset.twitterCaption=n.twitterCaption),null!=n.landingUrl&&(e.asset.landingUrl=n.landingUrl),null!=n.canonicalUrl&&(e.asset.canonicalUrl=n.canonicalUrl),null!=n.comp1024Url)return e.asset.comp1024Url=n.comp1024Url}}]),angular.module("AdpApp").directive("giFacebookShare",function(){return{restrict:"A",link:function(e,t){return e.facebookName="facebook",window.fbAsyncInit=function(){return FB.init({appId:284407575061190,version:"v2.4"}),e.$broadcast("facebookReady")},function(e,t,n){var r,i;i=void 0,r=e.getElementsByTagName(t)[0],e.getElementById(n)||(i=e.createElement(t),i.id=n,i.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4",r.parentNode.insertBefore(i,r))}(document,"script","facebook-jssdk"),e.$on("facebookReady",function(){return window.shimSvgForSafari(),FB.Event.subscribe("edge.create",function(e){return eventBus.trigger("facebookLike",e)}),FB.Event.subscribe("edge.remove",function(e){return eventBus.trigger("facebookUnlike",e)})}),t.on("click",function(t){return e.$apply(function(){return function(){return t.preventDefault(),FB&&(FB.getLoginStatus,FB.ui({method:"share",href:e.asset.canonicalUrl+"?share=site_facebook&esource=social_FB_adp"},function(){})),e.$emit("shared")}}())})}}}),angular.module("AdpApp").directive("giTwitterShare",function(){return{restrict:"A",link:function(e,t){return t.on("click",function(t){return e.$apply(function(n){return function(){var r,i,o,a,s,l;return t.preventDefault(),a="/license/"+e.asset.asset_id,i=e.asset.canonicalUrl+"?share=site_twitter",i.indexOf("?")>=0?i+="&esource=social_TW_adp":i+="?esource=social_TW_adp",o=encodeURIComponent(window.location.origin+a),s=encodeURIComponent(e.asset.twitterCaption),l=$(n).data().twitterShareUrl,r=l+"?original_referer="+o+"&text="+s+"&tw_p=tweetbutton&url="+i,window.open(r,"twitter_intent","width=550,height=450"),e.$emit("shared")}}(this))})}}}),angular.module("AdpApp").directive("giPinterestShare",["$window",function(e){return{restrict:"A",link:function(t,n){return n.on("click",function(n){return t.$apply(function(r){return function(){var i,o,a,s,l,u,c;return n.preventDefault(),l=$(r).data().pinterestShareUrl,c="url="+encodeURIComponent(e.location.protocol+"//"+e.location.host+t.asset.landingUrl),s="media="+encodeURIComponent(t.asset.comp1024Url),i="description="+encodeURIComponent(t.asset.rawCaption),o="esource=social_PI_adp",u=[c,s,i,o],a=l+"?"+u.join("&"),window.open(a,"pinterest_intent","width=750,height=560"),t.$emit("shared")}}(this))})}}}])}.call(this),function(){angular.module("AdpApp").factory("omnitureReady",["$document","$q",function(e,t){var n;return n=t.defer(),null!=window.s&&n.resolve(),e.on("omnitureReady",function(){return n.resolve()}),n.promise}]),angular.module("AdpApp").factory("facebookReady",["$document","$q",function(e,t){var n;return n=t.defer(),null!=window.FB&&n.resolve(),e.on("facebookReady",function(){return n.resolve()}),n.promise}]),angular.module("AdpApp").run(["$rootScope","$document","eventBus","omnitureReady","trackingHelper",function(e,t,n,r,i){var o,a,l,u,c,d,p,f,h,m,g;return t.on("imageCard.zoom",function(){if("getty"===tracking_data.site_nickname&&l(),"istock"===tracking_data.site_nickname)return u()}),l=function(){var e;return e="ImageZoom",s.events="event92",s.linkTrackEvents="event92",s.event92=e,s.linkTrackVars=i.myPageVariablesAnd("events,linkTrackEvents,event92"),s.tl(!0,"o",e)},u=function(){var e;return e="Zoom",s.prop23=e,s.linkTrackVars=i.myPageVariablesAnd("prop23"),s.tl(!0,"o",e)},h=function(e,t){return n.on(e,function(e){return r.then(function(){return f(),t(s,e)})})},g=function(e,t){return n.on(e,function(e){return t(s,e)})},f=function(){return delete s.prop66},o=function(){return window.tracking_data.gallery_page_type},a=function(e){if(e)return e.pos+"|"+e.assetPos+"|"+e.type+"|"+e.category+"|"+e.title},p=function(t){var n,r,i,o,a,s;if(o={},o=e.pageTrackingVariables?e.pageTrackingVariables:$.siteCatalyst.pageTrackingVariables(),n=$.extend({},o),t&&t.length>0)for(a=t.split(","),r=0,i=a.length;r<i;r++)s=a[r],n[s]=!0;return $.map(n,function(e,t){return t}).join(",")},m=function(e){var t,n,i;if(r.then(function(){return s.linkTrackVars=p("events,event44,prop52"),s.linkTrackEvents="event44",s.events="event44",s.events44=e,s.prop52="adp",tracking_data.adp_is_zoomed&&(s.prop52=s.prop52+"|"+tracking_data.adp_is_zoomed),tracking_data.ui_element_location="adp",tracking_data.adp_is_zoomed&&(tracking_data.ui_element_location=tracking_data.ui_element_location+"|"+tracking_data.adp_is_zoomed),s.eVar47="D=pagename",s.tl(!0,"o",e)}),"FacebookLike"===e)return t="undefined"!=typeof tracking_data&&null!==tracking_data?tracking_data.asset_details:void 0,n={asset_id:tracking_data.asset_id,correlation_id:tracking_data.request_id,event_ids:null!=(null!=t?t.event_ids:void 0)?t.event_ids.map(String):void 0,editorial_product:t.editorial_products,referer:document.referrer,session_id:tracking_data.spectrum_session_id,url:tracking_data.url,user_id:tracking_data.userid,visitor_experiences:null!=t&&null!=(i=t.active_experiences)?i.split("|").filter(Boolean):void 0,visitor_id:tracking_data.visitor_id},$.post(window.tracking_data.spectrum_host_three+"signals",JSON.stringify([{source:"getty",event:"Asset Liked",properties:n}]))},d=function(e){return window.tracking_data.gallery_location_click={source_page:o(),click_location:e}},g("galleryAppPageUpdate",function(t,n){return e.pageTrackingVariables=$.siteCatalyst.bootstrap(n)}),h("galleryShareAdp",function(){return m("ShareIconAdp")}),h("galleryShareGallery",function(){return m("ShareIconGallery")}),h("facebookShareAdp",function(){return m("FacebookIconAdp")}),h("facebookShareGallery",function(){return m("FacebookIconGallery")}),h("facebookShareGalleryTile",function(){return m("FacebookIconGallery-Tile")}),h("facebookLike",function(){return m("FacebookLike")}),h("twitterShareAdp",function(){return m("TwitterIconAdp")}),h("twitterShareGallery",function(){return m("TwitterIconGallery")}),h("twitterShareGalleryTile",function(){return m("TwitterIconGallery-Tile")}),h("embedShareAdp",function(){return m("EmbedIconAdp")}),h("embedShareGallery",function(){return m("EmbedIconGallery")}),h("embedShareGalleryTile",function(){return m("EmbedIconGallery-Tile")}),h("tumblrShareAdp",function(){return m("TumblrIconAdp")}),h("tumblrShareGallery",function(){return m("TumblrIconGallery")}),h("tumblrShareGalleryTile",function(){return m("TumblrIconGallery-Tile")}),h("pinterestShareAdp",function(){return m("PinterestIconAdp")}),h("pinterestShareGallery",function(){return m("PinterestIconGallery")}),h("pinterestShareGalleryTile",function(){return m("PinterestIconGallery-Tile")}),h("downloadCompAdp",function(){return m("downloadCompAdp")}),h("headerClickLocation",function(){return d("icon")}),h("imageClickLocation",function(){return d("image")}),h("textClickLocation",function(){return d("text")}),h("photosComClick",function(e){return e.linkTrackVars=p("events,event181,prop52"),e.linkTrackEvents="event181",e.events="event181",e.prop52="adp",tracking_data.adp_is_zoomed&&(e.prop52=e.prop52+"|"+tracking_data.adp_is_zoomed),tracking_data.ui_element_location="adp",tracking_data.adp_is_zoomed&&(tracking_data.ui_element_location=tracking_data.ui_element_location+"|"+tracking_data.adp_is_zoomed),e.eVar47="D=pagename",e.tl(!0,"o","BuyPrint-on-Photos.com")}),h("newImageExposed",function(e,t){return e.linkTrackVars="events,prop29,eVar29,prop53,prop67,eVar74",e.linkTrackEvents=e.events="event65=1",e.prop29=t.assetId,e.eVar29=t.assetId,e.prop53=window.tracking_data.url,e.prop67=a(t.gallery),e.tl(!0,"o","PageScroll")}),h("elementViewed",function(e,t){return e.linkTrackVars=p("events"),e.linkTrackEvents=e.events="event65=1",e.prop29=t.assetId,e.eVar29=t.assetId,e.prop53=window.tracking_data.url,e.prop67=a(t.gallery),e.tl(!0,"o","InitialLoad")}),h("adViewed",function(e,t){return e.linkTrackVars="events,prop63",e.linkTrackEvents=e.events="event68",e.prop63=t.giTrackId,e.tl(!0,"o","event68")}),h("adClicked",function(e,t){return e.linkTrackVars="events,prop63",e.linkTrackEvents=e.events="event69",e.prop63=t,e.tl(!0,"o","event69")}),h("galleryViewed",function(e,t){if(0!==t.pos)return s.linkTrackVars="prop67",s.prop67=a(t),s.tl(!0,"o")}),h("ribbonViewed",function(e,t){if("undefined"!=typeof s&&null!==s)return s.linkTrackVars="events,prop54",s.linkTrackEvents=s.events="event74",s.prop54="Suggested Galleries-"+t.variation,s.tl(!0,"o","SuggestedGalleryRibbon"),delete s.prop54}),h("ribbonClicked",function(e,t){return $.storageQueueManager.localStore.set("omniture-prop-66","Carousel|Suggested Galleries-"+t.variation)}),h("licenseLinkClicked",function(){return $.storageQueueManager.localStore.set("license_link",!0)}),h("galleryShowTile",function(e,t){return e.linkTrackVars="events,prop29,eVar29,prop67,eVar74",e.linkTrackEvents=e.events="event72",e.eVar74=$.AssetDetail.Tracking.ProductStringMap(t.asset),e.prop29=e.eVar29=t.asset.asset_id,e.prop67=a(t.asset.gallery),e.tl(!0,"o","GalleryTileView")}),h("galleryTileYouMayLikeClicked",function(){return $.storageQueueManager.localStore.set("gallery_tile_yml",!0)}),h("galleryTileWindowBreak",function(){return s.tl(!0,"o","GalleryTile-WindowBreak")}),h("galleryTileClickOff",function(){return s.tl(!0,"o","GalleryTile-ClickOff")}),c=function(e,t){var n,r;return null==t&&(t=[]),n=$.siteCatalyst.map(tracking_data),r=$.map(n,function(e,t){return t}).concat(t),window.s.linkTrackVars=r.join(","),window.s.events=e,window.s.linkTrackEvents=e},t.on("click",".carousel_gallery_preview a",function(){var t;return t=$(this),e.$apply(function(){var e,n;return c("",["prop66"]),e=t.parents(".carousel_gallery_preview").attr("gallery-type"),n="Carousel|"+e,tracking_data.carousel_interaction=tracking_data["carousel-click"]=n})}),t.on("carouselArrowClickLeft",function(e,t){var n;return n="prop66","thinkstock"===window.tracking_data.site_nickname&&(n="prop33"),c("",[n]),s[n]="Carousel|Left|"+(null!=t?t.title:void 0),null!=s.prop66&&(tracking_data.carousel_interaction="Carousel|Left|"+(null!=t?t.title:void 0)),s.tl(!0,"o","Arrow Left")}),t.on("carouselArrowClickRight",function(e,t){var n;return n="prop66","thinkstock"===window.tracking_data.site_nickname&&(n="prop33"),c("",[n]),s[n]="Carousel|Right|"+(null!=t?t.title:void 0),null!=s.prop66&&(tracking_data.carousel_interaction="Carousel|Right|"+(null!=t?t.title:void 0)),s.tl(!0,"o","Arrow Right")})}])}.call(this),function(){angular.module("AdpApp").controller("ZoomController",["$scope","$document","$window","$attrs","$timeout",function(e,t,n,r,i){return e.openModal=function(){if(n.innerWidth>800)return t.trigger("imageCard.zoom"),angular.element("body").addClass("modal-visible"),e.zoomedImageUrl=r.zoomUrl,e.isModalOpen=!0,i(function(){return window.shimSvgForSafari()},10),window.tracking_data.adp_is_zoomed="zoom"},e.closeModal=function(){e.isModalOpen=!1,window.tracking_data.adp_is_zoomed=void 0,angular.element("body").removeClass("modal-visible")},t.on("keyup",function(t){var r;if(r=27,(t||n.event).which===r)return e.$apply(function(){return e.closeModal()})})}])}.call(this),function(){var e;e=function(){function e(e,t){this.window=e,this.rootScope=t,$(this.window).on("message",function(e){return function(t){return e._messageHandler(t.originalEvent)}}(this))}var t;return t={},e.prototype.on=function(e,n){return t[e]||(t[e]=[]),t[e].push(n)},e.prototype.send=function(e,t,n){var r;return null==n&&(n="*"),r=JSON.stringify(t),null!=e&&"function"==typeof e.postMessage?e.postMessage(r,n):void 0},e.prototype.sendOpener=function(e,t){return null==t&&(t="*"),this.send(this.window.opener,e,t)},e.prototype._parse=function(e){try{return JSON.parse(e)}catch(t){return t,e}},e.prototype._messageHandler=function(e){var n,r,i,o,a,s,l;if(a="string"==typeof e.data?this._parse(e.data):e.data,(n=a.action)&&t[n]){for(s=t[n],l=[],i=0,o=s.length;i<o;i++)r=s[i],l.push(this.rootScope.$evalAsync(function(){return r(a,e.source)}));return l}},e}(),window.angular&&angular.module("giPostMessage",[]).factory("postMessage",["$window","$rootScope",function(t,n){return new e(t,n)}])}.call(this),angular.module("giRails",[]),function(){angular.module("giRails").config(["$httpProvider",function(e){return e.interceptors.push(function(){return{request:function(e){var t;return t=e.method.toUpperCase(),"GET"!==t&&"POST"!==t&&(e.method="POST",e.headers||(e.headers={}),e.headers["X-HTTP-Method-Override"]=t),e}}})}])}.call(this),function(){}.call(this),angular.module("templates").run(["$templateCache",function(e){e.put("mosaics/mosaic_grids.html",'<section ng-repeat="grid in mosaicGrids | orderBy: &#39;order&#39;"><section class="mosaics" ng-class="grid.class" ng-if="grid.assets.length &gt; 0"><h2 ng-bind="grid.title"></h2><a class="view-all-button" data-close-and-redirect="true" gi-track="track.{{grid.uiLocation}}.click" ng-bind="viewAllTitle" ng-href="{{grid.viewAllLink}}"></a><div class="assets gi-bricks" data-row-height="300"><div data-film-poster="{{asset.thumbUrl}}" data-max-height="{{asset.maxHeight}}" data-max-width="{{asset.maxWidth}}" gi-preview-film="{{asset.filmThumbUrl}}" ng-class="[{ &#39;film-asset&#39;: asset.type == &#39;film&#39; }, { &#39;mosaic-asset&#39;: asset.type == &#39;image&#39; }]" ng-repeat="asset in grid.assets"><a data-mosaic_asset_type="{{grid.tracking}}" ng-href="{{asset.landingUrl}}"><img class="comp" ng-if="asset.type == &#39;image&#39;" ng-src="{{asset.comp}}" title="{{asset.title}}" /><img class="film-thumb" ng-if="asset.type == &#39;film&#39;" ng-src="{{asset.thumbUrl}}" /><div class="play-icon" ng-if="asset.type == &#39;film&#39;"><img gi-icon="play" /></div></a></div></div></section></section>')}]),function(){angular.module("AdpApp").directive("giMosaicGrids",["$document","$window","$interval","searchService","asset","giLocalStorage",function(e,n,r,i,o,a){return{templateUrl:"/asset-detail/assets/mosaics/mosaic_grids-3d23bcf8d9afa1345d40f15e30afc87325f729dacf3f892378dd2b48e14874a8.html",link:function(s){var l,u,c,d,p,f,h,m,g,v,y,b,w,_;return s.asset=o,s.viewAllTitle=t("view_all"),d=a.getItem("search.lastSearchParameters"),b=new Query(d),b.removeParam("phrase"),b.removeParam("page"),_=new Query(d),_.removeParam("page"),l=0,w=0,p=null,u=function(){var t,o,a;s.mosaicGrids=[],visitorExperiences.isActive("similarsfrompicscout")&&(window.user.isAuthenticated||window.user.isRemembered)&&"creative"===s.asset.family&&"image"===s.asset.type&&(l++,i.visuallySimilar().then(y)),s.asset.stackId&&"creative"===s.asset.family&&(l++,i.getStack(s.asset.stackId,s.asset.type,12).then(v)),"creative"===s.asset.family?"rm"===s.asset.license?(l++,i.getMoreLikeThis(29,"rf",null!=(t=b.params)?t.agreements:void 0).then(m),l++,i.getMoreLikeThis(29,"rm",null!=(o=b.params)?o.agreements:void 0).then(g)):(l++,i.getMoreLikeThis(29,s.asset.license,null!=(a=b.params)?a.agreements:void 0).then(h)):s.asset.eventId?(l++,i.getAssetsByEvent().then(f)):c(),p=r(function(){if(0===l||w>99)return w++,r.cancel(p),n.initWall(),e.trigger("track.mosaicItemShown")},100)},v=function(e){var n;if(l--,n={},e.data&&!e.data.isEmpty())return n={order:1,title:t("same_series"),tracking:"SameSeries",viewAllLink:"/search/stack/"+s.asset.stackId+"?assettype="+s.asset.type,"class":"same-series",assets:e.data,uiLocation:"same_series"},s.mosaicGrids.push(n)},c=function(){var e;if(n.sessionStorage.pager_items&&(e=angular.fromJson(n.sessionStorage.pager_items).assets.map(function(e){return e.id}),0<e.length))return l++,i.getAssets(e).then(function(e){var n;if(l--,e.data&&!e.data.isEmpty())return n={order:100,title:t("more_search_results"),tracking:"SearchResults",viewAllLink:"/search/2/"+s.asset.type+"?"+_.toQueryString(),"class":"search-results",assets:e.data,uiLocation:"more_search_results"},s.mosaicGrids.push(n)})},h=function(e){var n,r,i,o;return l--,e.data&&!e.data.isEmpty()?(i="image"===s.asset.type?t("similar_images"):t("similar_films"),o="image"===s.asset.type?"SimilarImages":"SimilarFilms",r="image"===s.asset.type?"similar-images":"similar-films",n={order:10,title:i,tracking:o,viewAllLink:"/search/more-like-this/"+s.asset.id+"?"+b.toQueryString(),"class":r,assets:e.data,uiLocation:"more_like_this"},s.mosaicGrids.push(n)):c()},y=function(e){var t;if(l--,e.data&&!e.data.isEmpty())return t={order:5,title:"Visually similar images",tracking:"VisuallySimilar",viewAllLink:"/search/search-by-image?assetid="+s.asset.id,"class":"visually-similar",assets:e.data,uiLocation:"visually_similar_images"},s.mosaicGrids.push(t)},m=function(e){var n;if(l--,b.addParam("license","rf"),e.data&&!e.data.isEmpty())return n={order:20,title:t("similar_rf_images"),tracking:"SimilarRFImages",viewAllLink:"/search/more-like-this/"+s.asset.id+"?"+b.toQueryString(),"class":"similar-rf-images",assets:e.data,uiLocation:"similar_rf_images"},s.mosaicGrids.push(n)},g=function(e){var n;if(l--,b.addParam("license","rm"),e.data&&!e.data.isEmpty())return n={order:21,title:t("similar_rm_images"),tracking:"SimilarRMImages",viewAllLink:"/search/more-like-this/"+s.asset.id+"?"+b.toQueryString(),"class":"similar-rm-images",assets:e.data,uiLocation:"similar_rm_images"},s.mosaicGrids.push(n)},f=function(e){var n,r;return l--,e.data&&!e.data.isEmpty()?(r="image"===s.asset.type?"/search/url-builder/image?events="+s.asset.eventId+"&autocorrect=none&family=editorial&editorialproducts=all":"/search/2/film?assettype=film&autocorrect=none&events="+s.asset.eventId,n={order:30,title:t("more_from_this_event"),tracking:"MoreFromThisEvent",viewAllLink:r,"class":"event",assets:e.data,uiLocation:"more_from_this_event"},s.mosaicGrids.push(n)):c()},u(),e.on("track.same_series.click",function(){var e;return null!=(e=n.combinedGtmTracking)?e.setUIElementLocation("view_all_same_series_adp"):void 0}),e.on("track.more_search_results.click",function(){var e;return null!=(e=n.combinedGtmTracking)?e.setUIElementLocation("view_all_more_search_results_adp"):void 0}),e.on("track.more_from_this_event.click",function(){var e;return null!=(e=n.combinedGtmTracking)?e.setUIElementLocation("view_all_more_from_this_event_adp"):void 0}),e.on("track.similar_rm_images.click",function(){var e;return null!=(e=n.combinedGtmTracking)?e.setUIElementLocation("view_all_similar_rm_images_adp"):void 0}),e.on("track.similar_rf_images.click",function(){var e;return null!=(e=n.combinedGtmTracking)?e.setUIElementLocation("view_all_similar_rf_images_adp"):void 0}),e.on("track.visually_similar_images.click",function(){var e;return null!=(e=n.combinedGtmTracking)?e.setUIElementLocation("view_all_visually_similar_images_adp"):void 0}),e.on("track.more_like_this.click",function(){var e;return null!=(e=n.combinedGtmTracking)?e.setUIElementLocation("view_all_more_like_this_adp"):void 0}),e.on("contextmenu",".asset-detail-mosaic-container img",function(e){return e.preventDefault()})}}}])}.call(this),function(){angular.module("AdpApp").directive("giPreviewFilm",["$window",function(e){return{restrict:"A",link:function(t,n,r){if(!e.isMobile&&r.giPreviewFilm)return t.previewUrl=r.giPreviewFilm,t.filmPoster=r.filmPoster,n.on("mouseenter",function(){return 0===n.find("video").length?n.find("img.film-thumb").after("<video src='"+t.previewUrl+"' poster='"+t.filmPoster+"' autoplay />"):n.find("video")[0].play(),n.find(".play-icon svg").hide()}),n.on("mouseleave",function(){return n.find("video")[0].pause(),n.find(".play-icon svg").show()})}}}])}.call(this),function(){angular.module("AdpApp").factory("searchService",["$http","asset",function(e,t){return{getMoreLikeThis:function(n,r,i){var o;return null==n&&(n=29),null==r&&(r=t.license),null==i&&(i=""),o={license:r,agreements:i||"",pagesize:n},e({method:"GET",url:"/asset-detail/mosaics/more-like/"+t.id,params:o,headers:{Accept:"application/json"}})},getAssetsByEvent:function(){var n;return n={assettype:t.type},e({method:"GET",url:"/asset-detail/mosaics/search-by-event/"+t.eventId+"?id="+t.id,params:n,headers:{Accept:"application/json"}})},getStack:function(n,r,i){var o;return null==i&&(i=29),o={},o.pagesize=i,e({method:"GET",url:"/asset-detail/mosaics/get-stack/"+t.stackId+"?id="+t.id+"&assettype="+r,params:o,headers:{Accept:"application/json"}})},getAssets:function(n,r){var i;return null==r&&(r=null),i={},i["ids[]"]=n,i.assettype=t.type,i.current_id=t.id,i.license=r,e({method:"GET",url:"/asset-detail/mosaics/get-assets",params:i,headers:{Accept:"application/json"}})},visuallySimilar:function(n){var r;return null==n&&(n=29),r={pagesize:n},e({method:"GET",url:"/asset-detail/mosaics/visually-similar/"+t.id,params:r,headers:{Accept:"application/json"}})}}}])}.call(this),function(){angular.module("AdpApp").run(["$document","trackingHelper","omnitureReady",function(e,t,n){return e.on("track.mosaicItemShown",function(){return n.then(function(){var e;if(e=[],$("section.mosaics.same-series").length>0&&e.push("SameSeries"),$("section.mosaics.similar-films").length>0&&e.push("SimilarClips"),$("section.mosaics.similar-images").length>0&&e.push("SimilarImages"),$("section.mosaics.similar-rf-images").length>0&&e.push("SimilarRFImages"),$("section.mosaics.similar-rm-images").length>0&&e.push("SimilarRMImages"),$("section.mosaics.search-results").length>0&&e.push("SearchResults"),$("section.mosaics.event").length>0&&e.push("Event"),$("section.mosaics.visually-similar").length>0&&e.push("VisuallySimilar"),e.length>0)return s.linkTrackVars=t.myPageVariablesAnd("eVar66"),s.eVar66=e.join("|"),tracking_data.more_results=e.join("|"),s.tl(!0,"o",s.eVar66)})}),e.on("click",".mosaics.same-series .view-all-button",function(){return $.storageQueueManager.localStore.set("omniture-prop-66","SameSeries")}),e.on("click",".mosaics.similar-films .view-all-button",function(){return $.storageQueueManager.localStore.set("omniture-prop-66","SimilarClips")}),e.on("click",".mosaics.similar-images .view-all-button",function(){return $.storageQueueManager.localStore.set("omniture-prop-66","SimilarImages")}),e.on("click",".mosaics.similar-rf-images .view-all-button",function(){return $.storageQueueManager.localStore.set("omniture-prop-66","SimilarRFImages")}),e.on("click",".mosaics.similar-rm-images .view-all-button",function(){return $.storageQueueManager.localStore.set("omniture-prop-66","SimilarRMImages")}),e.on("click",".mosaics.search-results .view-all-button",function(){return $.storageQueueManager.localStore.set("omniture-prop-66","SearchResults")}),e.on("click",".mosaics.event .view-all-button",function(){return $.storageQueueManager.localStore.set("omniture-prop-66","Event")}),e.on("click",".mosaics.visually-similar .view-all-button",function(){return $.storageQueueManager.localStore.set("omniture-prop-66","VisuallySimilar")})}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/boards.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 74 74" class="boards-icon">\n  <g class="add">\n    <path d="M79.5,1412h-50a5,5,0,0,0-5,5v9h-8a5,5,0,0,0-5,5v50a5,5,0,0,0,5,5h50a5,5,0,0,0,5-5v-9h8a5,5,0,0,0,5-5v-50A5,5,0,0,0,79.5,1412Zm-14,20h0m0,48h-48v-48h48m13,34h-7v-35a5,5,0,0,0-5-5h-36v-8h48v48Z" transform="translate(-11.5 -1412)"/>\n    <path d="M27.5,1456a3,3,0,0,0,3,3h8v8a3,3,0,0,0,6,0v-8h8a3,3,0,0,0,0-6h-8v-8a3,3,0,0,0-6,0v8h-8A3,3,0,0,0,27.5,1456Z" transform="translate(-11.5 -1412)"/>\n  </g>\n  <g class="remove">\n    <path d="M258.5,1812h-50a5,5,0,0,0-5,5v9h-8a5,5,0,0,0-5,5v50a5,5,0,0,0,5,5h50a5,5,0,0,0,5-5v-9h8a5,5,0,0,0,5-5v-50A5,5,0,0,0,258.5,1812Zm-49,47h0a3,3,0,0,1,0-6h22a3,3,0,0,1,0,6h-22Zm48,7h-7v-35a5,5,0,0,0-5-5h-36v-8h48v48Z" transform="translate(-190.5 -1812)"/>\n  </g>\n</svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/cart.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 77.86 68" height="18px" viewBox="0 0 70 79" width="20px">\n  <g class="cart">\n    <path class="empty" d="M71.52,38.3l6.17-23A5,5,0,0,0,72.86,9H18.51l-1.4-5.28A5,5,0,0,0,12.28,0H3A3,3,0,0,0,0,3H0A3,3,0,0,0,3,6h8.49L23.87,52.2a10,10,0,1,0,17.9,7.93H54.23a10,10,0,1,0,.55-6H41.22a10,10,0,0,0-12.14-5.69L27.35,42H66.69A5,5,0,0,0,71.52,38.3ZM71.6,15,66,36H25.74L20.12,15ZM62.91,54.14a4,4,0,0,1,4.94,4.94,3.94,3.94,0,0,1-2.77,2.77,4,4,0,0,1-4.94-4.94A3.94,3.94,0,0,1,62.91,54.14ZM35.86,56.92a4,4,0,0,1-4.94,4.94,3.94,3.94,0,0,1-2.77-2.77,4,4,0,0,1,4.94-4.94A3.94,3.94,0,0,1,35.86,56.92Z" />\n    <path class="full" d="M71.52,38.3l6.17-23A5,5,0,0,0,72.86,9H18.51l-1.4-5.28A5,5,0,0,0,12.28,0H3A3,3,0,0,0,0,3H0A3,3,0,0,0,3,6h8.49L23.87,52.2a10,10,0,1,0,17.9,7.93H54.23a10,10,0,1,0,.55-6H41.22a10,10,0,0,0-12.14-5.69L27.35,42H66.69A5,5,0,0,0,71.52,38.3Z" />\n  </g>\n</svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/checkmark.svg",'<svg width="12" height="10" viewBox="0 0 12 10" xmlns="http://www.w3.org/2000/svg"><title>\u2713 copy 2</title><path d="M0 5.83l1.162-1.175L3.5 7l7-7 1.17 1.162-8.17 8.17" fill="#3DCD58" fill-rule="evenodd"/></svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/chevron-left.svg",'<svg id="expand" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 98 98">\n  <g id="chevron-left" fill="white">\n    <polygon points="60.4 25 66 25 39.2 51.8 36.4 49 60.4 25"/>\n    <polygon points="36.4 49 39.2 46.2 65.9 73 60.4 73 36.4 49"/>\n  </g>\n</svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/chevron-right.svg",'<svg id="expand" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 98 98">\n  <g id="chevron-right" fill="white">\n    <polygon points="66 49 63.2 51.8 36.4 25 42 25 66 49"/>\n    <polygon points="42 73 36.5 73 63.2 46.2 66 49 42 73"/>\n  </g>\n</svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/close.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 98 98">\n  <g>\n    <polygon points="78.2 23.3 75 20.1 48.7 46.4 22.5 20.1 19.2 23.3 45.5 49.6 18.3 76.8 21.5 80.1 48.7 52.8 76 80.1 79.2 76.8 52 49.6 78.2 23.3"/>\n  </g>\n</svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/download.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-7 -10 74 74"><path d="M62.12,1647.88a3,3,0,0,0-4.24,0L51,1654.76V1620a3,3,0,0,0-6,0v34.76l-6.88-6.88a3,3,0,0,0-4.24,4.24l12,12a3,3,0,0,0,4.24,0l12-12A3,3,0,0,0,62.12,1647.88Z" transform="translate(-19 -1617)"/><path d="M74,1660a3,3,0,0,0-3,3v10H25v-10a3,3,0,0,0-6,0v13a3,3,0,0,0,3,3H74a3,3,0,0,0,3-3v-13A3,3,0,0,0,74,1660Z" transform="translate(-19 -1617)"/></svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/email.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96"><g><path d="M84,29V28a5,5,0,0,0-5-5H17a5,5,0,0,0-5,5V68a5,5,0,0,0,5,5H79a5,5,0,0,0,5-5V29ZM47.82,45.69,24.41,29H71.24ZM78,31.55V67H18V31.8L44.93,50.89a5,5,0,0,0,5.78,0Z"/></g></svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/embed.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -14 74 74"><path d="M43,1274a3,3,0,0,1-2.81-4.05l10-46a3,3,0,0,1,5.62,2.11l-10,46A3,3,0,0,1,43,1274Z" transform="translate(-10.12 -1222)"/><path d="M85.12,1245.88l-16-16a3,3,0,0,0-4.24,4.24L78.76,1248l-13.88,13.88a3,3,0,1,0,4.24,4.24l16-16A3,3,0,0,0,85.12,1245.88Z" transform="translate(-10.12 -1222)"/><path d="M11,1245.88l16-16a3,3,0,0,1,4.24,4.24L17.37,1248l13.88,13.88a3,3,0,1,1-4.24,4.24l-16-16A3,3,0,0,1,11,1245.88Z" transform="translate(-10.12 -1222)"/></svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/facebook.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96"><g><path class="logo" d="M41.55,74.94V52H33.5V42.73h8.05v-7c0-7.78,5-12,11.94-12,3.33,0,6,.25,7.26.36v8.14H55.65c-3.78,0-4.8,1.79-4.8,4.43v6.11h9.09L58.76,52H50.85V74.94H41.55Z"/></g></svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/maximize.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-15 -15 130 130"> \n  <g>\n    <polygon points="67.35 10.29 67.35 14.29 82.18 14.29 60.98 35.48 63.81 38.31 85.01 17.11 85.01 31.95 89.01 31.95 89.01 10.29 67.35 10.29"/>\n    <polygon points="32 14.29 32 10.29 10.34 10.29 10.34 31.95 14.34 31.95 14.34 17.11 35.54 38.31 38.37 35.48 17.17 14.29 32 14.29"/>\n    <polygon points="85.01 65.24 85.01 80.07 63.81 58.87 60.98 61.7 82.18 82.9 67.35 82.9 67.35 86.9 89.01 86.9 89.01 65.24 85.01 65.24"/>\n    <polygon points="35.54 58.87 14.34 80.07 14.34 65.24 10.34 65.24 10.34 86.9 32 86.9 32 82.9 17.17 82.9 38.37 61.7 35.54 58.87"/>\n  </g>\n</svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/more-like-this.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96"><g><path d="M41.88,75.25H32v-44H76v10a3,3,0,0,0,6,0v-11a5,5,0,0,0-5-5H31a5,5,0,0,0-5,5v46a5,5,0,0,0,5,5H41.88a3,3,0,0,0,0-6Z"/><path d="M68,15a3,3,0,0,0-3-3H18a5,5,0,0,0-5,5V64a3,3,0,0,0,6,0V18H65A3,3,0,0,0,68,15Z"/><path d="M84.62,79.38,71.37,66.13a19.07,19.07,0,1,0-4.24,4.24L80.38,83.62a3,3,0,0,0,4.24-4.24ZM56,68A13,13,0,1,1,69,55,13,13,0,0,1,56,68Z"/></g></svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/photos-com.svg",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 25 18"><defs><style>.cls-1{fill:#fff;}.cls-2{clip-path:url(#clip-path);}</style><clipPath id="clip-path" transform="translate(0)"><ellipse class="cls-1" cx="6.96" cy="5.65" rx="2.04" ry="2"/></clipPath></defs><title>icon framed print</title><g id="Layer_1" data-name="Layer 1"><ellipse class="cls-1" cx="6.96" cy="5.65" rx="2.04" ry="2"/><g class="cls-2"><ellipse class="cls-1" cx="6.96" cy="5.65" rx="2.04" ry="2"/></g><path class="cls-1" d="M23.5,0H1.5A1.5,1.5,0,0,0,0,1.5v15A1.5,1.5,0,0,0,1.5,18h22A1.5,1.5,0,0,0,25,16.5V1.5A1.5,1.5,0,0,0,23.5,0Zm-.3,16.2H1.8V1.8H23.2Z" transform="translate(0)"/><path class="cls-1" d="M23.2,8.29c-3.23-2-6.75-1.6-8.86,1.48-2,2.92-3.17,2.25-5.15,1.08-.8-.47-4.94-2.8-8.66,2.65-.13.19.13-.16,0,0l.33,2.4c.62-.45.22-.39.74-1.16,1.46-2.14,4.11-3.39,6.39-2,2.86,1.69,6,1.64,8.27-1.74,1.45-2.12,2.94-2.43,5.14-1.09,1.69,1,2.4,1.38,2.75,2.18l.32-2.13C23.77,9.61,23.73,8.62,23.2,8.29Z" transform="translate(0)"/></g></svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){
e.put("icons/pinterest.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96"><g><path class="logo" d="M52.26,61.5c-3.54,0-6.76-1.93-7.72-3.87,0,0-1.93,7.41-2.25,8.7-1.29,4.83-5.47,10-5.79,10.31s-.64.32-.64-.32-1-6.76,0-11.92C36.49,61.82,40,47,40,47a12.45,12.45,0,0,1-1-5.15c0-4.83,2.57-8.05,6.11-8.05,2.9,0,4.18,2.25,4.18,4.83,0,2.9-1.93,7.09-2.9,11.27A5,5,0,0,0,51.62,56c6.11,0,10-7.73,10-16.75C61.59,32.19,56.76,27,48.4,27,38.75,27,33,34.12,33,42.17a9.84,9.84,0,0,0,1.93,6.12c.64.64.64,1,.32,1.61,0,.64-.64,1.93-.64,2.58-.32,1-1,1-1.61.64-4.5-1.93-6.44-6.76-6.44-12.24,0-9,7.72-19.65,22.52-19.65,12.23,0,19.95,8.7,19.95,18C69.31,52.16,62.56,61.5,52.26,61.5Z"/></g></svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/play.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 98 98"><g><path d="M18.44,16.5v64h64v-64h-64Zm24.25,49-0.11-35L60.31,48.18Z"/></g></svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/share.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-10 -10 74 74"><path d="M50.22,1051l-5.83,5.74A3,3,0,1,0,48.6,1061l10.3-10.14,0.7-.69c0.64-.63,1.44-1.48,1.4-2.31s-0.75-1.68-1.4-2.31l-0.7-.69-10.3-10.14A3,3,0,1,0,44.4,1039l6,5.86,0.13,0.12H35a15,15,0,0,0-15,15v13a3,3,0,0,0,6,0v-13a9,9,0,0,1,9-9H50.22Z" transform="translate(-20 -1020)"/><path d="M38,1070a3,3,0,0,0,0,6H71a5,5,0,0,0,5-5v-46a5,5,0,0,0-5-5H25a5,5,0,0,0-5,5v11a3,3,0,0,0,6,0v-10H70v44" transform="translate(-20 -1020)"/></svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/tumblr.svg",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 106.9394 104.7576">\n  <g>\n    <path class="logo" d="M64.0876,68.8167c-0.9534,0.454-2.7773,0.8504-4.1372,0.8856c-4.1048,0.1102-4.9-2.8829-4.9352-5.0557 V48.6843h10.2969v-7.7629H55.0527v-13.063c0,0-7.3888,0-7.5119,0c-0.1228,0-0.3386,0.1091-0.3687,0.3839 c-0.4391,3.9981-2.311,11.0145-10.0888,13.8183v6.6237h5.1885v16.7551c0,5.7355,4.2328,13.8848,15.4027,13.6942 c3.7685-0.0653,7.9535-1.6435,8.8795-3.0034L64.0876,68.8167z"/>\n  </g>\n</svg>')}])}.call(this),function(){angular.module("giIcons").run(["$templateCache",function(e){e.put("icons/twitter.svg",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96"><g><path class="logo" d="M41.17,73.07a31.33,31.33,0,0,1-16.59-4.84l-3.94-2.42,4.8,0a22.45,22.45,0,0,0,11.66-2.94,12.3,12.3,0,0,1-8-7.57l-.67-1.67,1.84-.1a11.81,11.81,0,0,1-5.19-9.67l-.07-1.68,2.44.54c-2.75-4.07-3-8.29-.79-13.05l.82-1.78,1.31,1.46c5.83,6.48,12.44,10,20.19,10.83l0-.54a19.86,19.86,0,0,1,.53-3.82,12.19,12.19,0,0,1,11.67-9.06,11.39,11.39,0,0,1,6.55,2.08,4.58,4.58,0,0,0,2.65,1,6.78,6.78,0,0,0,2.71-.73,6,6,0,0,1,3.22-.61l2.28.21L75.33,33l4.8.13L78.2,35.08c-.27.3-.52.62-.78.93a10.37,10.37,0,0,1-2.25,2.28c-1.32.88-1.5,1.94-1.58,4A32.2,32.2,0,0,1,50.54,71.72,34.44,34.44,0,0,1,41.17,73.07Z"/></g></svg>')}])}.call(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojs=e()}}(function(){var e;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){(function(n){var r=void 0!==n?n:"undefined"!=typeof window?window:{},i=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var o=r["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":3}],2:[function(e,t){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(){},{}],4:[function(e,t){var n=e("../internal/getNative"),r=n(Date,"now"),i=r||function(){return(new Date).getTime()};t.exports=i},{"../internal/getNative":20}],5:[function(e,t){function n(e,t,n){function s(){v&&clearTimeout(v),f&&clearTimeout(f),b=0,f=v=y=void 0}function l(t,n){n&&clearTimeout(n),f=v=y=void 0,t&&(b=i(),h=e.apply(g,p),v||f||(p=g=void 0))}function u(){var e=t-(i()-m);e<=0||e>t?l(y,f):v=setTimeout(u,e)}function c(){l(_,v)}function d(){if(p=arguments,m=i(),g=this,y=_&&(v||!k),!1===w)var n=k&&!v;else{f||k||(b=m);var r=w-(m-b),o=r<=0||r>w;o?(f&&(f=clearTimeout(f)),b=m,h=e.apply(g,p)):f||(f=setTimeout(c,r))}return o&&v?v=clearTimeout(v):v||t===w||(v=setTimeout(u,t)),n&&(o=!0,h=e.apply(g,p)),!o||v||f||(p=g=void 0),h}var p,f,h,m,g,v,y,b=0,w=!1,_=!0;if("function"!=typeof e)throw new TypeError(o);if(t=t<0?0:+t||0,!0===n){var k=!0;_=!1}else r(n)&&(k=!!n.leading,w="maxWait"in n&&a(+n.maxWait||0,t),_="trailing"in n?!!n.trailing:_);return d.cancel=s,d}var r=e("../lang/isObject"),i=e("../date/now"),o="Expected a function",a=Math.max;t.exports=n},{"../date/now":4,"../lang/isObject":33}],6:[function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(r);return t=i(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-t,0),a=Array(o);++r<o;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,e.apply(this,s)}}var r="Expected a function",i=Math.max;t.exports=n},{}],7:[function(e,t){function n(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return!1===n?a=!1:i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:+t,trailing:s})}var r=e("./debounce"),i=e("../lang/isObject"),o="Expected a function";t.exports=n},{"../lang/isObject":33,"./debounce":5}],8:[function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}t.exports=n},{}],9:[function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}t.exports=n},{}],10:[function(e,t){function n(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}t.exports=n},{}],11:[function(e,t){var n=e("./createBaseFor"),r=n();t.exports=r},{"./createBaseFor":18}],12:[function(e,t){function n(e,t){return r(e,t,i)}var r=e("./baseFor"),i=e("../object/keysIn");t.exports=n},{"../object/keysIn":39,"./baseFor":11}],13:[function(e,t){function n(e,t,d,p,f){if(!s(e))return e;var h=a(t)&&(o(t)||u(t)),m=h?void 0:c(t);return r(m||t,function(r,o){if(m&&(o=r,r=t[o]),l(r))p||(p=[]),f||(f=[]),i(e,t,o,n,d,p,f);else{var a=e[o],s=d?d(a,r,o,e,t):void 0,u=void 0===s;u&&(s=r),void 0===s&&(!h||o in e)||!u&&(s===s?s===a:a!==a)||(e[o]=s)}}),e}var r=e("./arrayEach"),i=e("./baseMergeDeep"),o=e("../lang/isArray"),a=e("./isArrayLike"),s=e("../lang/isObject"),l=e("./isObjectLike"),u=e("../lang/isTypedArray"),c=e("../object/keys");t.exports=n},{"../lang/isArray":30,"../lang/isObject":33,"../lang/isTypedArray":36,"../object/keys":38,"./arrayEach":9,"./baseMergeDeep":14,"./isArrayLike":21,"./isObjectLike":26}],14:[function(e,t){function n(e,t,n,c,d,p,f){for(var h=p.length,m=t[n];h--;)if(p[h]==m)return void(e[n]=f[h]);var g=e[n],v=d?d(g,m,n,e,t):void 0,y=void 0===v;y&&(v=m,a(m)&&(o(m)||l(m))?v=o(g)?g:a(g)?r(g):[]:s(m)||i(m)?v=i(g)?u(g):s(g)?g:{}:y=!1),p.push(m),f.push(v),y?e[n]=c(v,m,d,p,f):(v===v?v!==g:g===g)&&(e[n]=v)}var r=e("./arrayCopy"),i=e("../lang/isArguments"),o=e("../lang/isArray"),a=e("./isArrayLike"),s=e("../lang/isPlainObject"),l=e("../lang/isTypedArray"),u=e("../lang/toPlainObject");t.exports=n},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isPlainObject":34,"../lang/isTypedArray":36,"../lang/toPlainObject":37,"./arrayCopy":8,"./isArrayLike":21}],15:[function(e,t){function n(e){return function(t){return null==t?void 0:r(t)[e]}}var r=e("./toObject");t.exports=n},{"./toObject":28}],16:[function(e,t){function n(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}var r=e("../utility/identity");t.exports=n},{"../utility/identity":42}],17:[function(e,t){function n(e){return o(function(t,n){var o=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,l=a>2?n[2]:void 0,u=a>1?n[a-1]:void 0;for("function"==typeof s?(s=r(s,u,5),a-=2):(s="function"==typeof u?u:void 0,a-=s?1:0),l&&i(n[0],n[1],l)&&(s=a<3?void 0:s,a=1);++o<a;){var c=n[o];c&&e(t,c,s)}return t})}var r=e("./bindCallback"),i=e("./isIterateeCall"),o=e("../function/restParam");t.exports=n},{"../function/restParam":6,"./bindCallback":16,"./isIterateeCall":24}],18:[function(e,t){function n(e){return function(t,n,i){for(var o=r(t),a=i(t),s=a.length,l=e?s:-1;e?l--:++l<s;){var u=a[l];if(!1===n(o[u],u,o))break}return t}}var r=e("./toObject");t.exports=n},{"./toObject":28}],19:[function(e,t){var n=e("./baseProperty"),r=n("length");t.exports=r},{"./baseProperty":15}],20:[function(e,t){function n(e,t){var n=null==e?void 0:e[t];return r(n)?n:void 0}var r=e("../lang/isNative");t.exports=n},{"../lang/isNative":32}],21:[function(e,t){function n(e){return null!=e&&i(r(e))}var r=e("./getLength"),i=e("./isLength");t.exports=n},{"./getLength":19,"./isLength":25}],22:[function(e,t){var n=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}();t.exports=n},{}],23:[function(e,t){function n(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?i:t,e>-1&&e%1==0&&e<t}var r=/^\d+$/,i=9007199254740991;t.exports=n},{}],24:[function(e,t){function n(e,t,n){if(!o(n))return!1;var a=typeof t;if("number"==a?r(n)&&i(t,n.length):"string"==a&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var r=e("./isArrayLike"),i=e("./isIndex"),o=e("../lang/isObject");t.exports=n},{"../lang/isObject":33,"./isArrayLike":21,"./isIndex":23}],25:[function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;t.exports=n},{}],26:[function(e,t){function n(e){return!!e&&"object"==typeof e}t.exports=n},{}],27:[function(e,t){function n(e){for(var t=l(e),n=t.length,u=n&&e.length,d=!!u&&a(u)&&(i(e)||r(e)||s(e)),p=-1,f=[];++p<n;){var h=t[p];(d&&o(h,u)||c.call(e,h))&&f.push(h)}return f}var r=e("../lang/isArguments"),i=e("../lang/isArray"),o=e("./isIndex"),a=e("./isLength"),s=e("../lang/isString"),l=e("../object/keysIn"),u=Object.prototype,c=u.hasOwnProperty;t.exports=n},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isString":35,"../object/keysIn":39,"./isIndex":23,"./isLength":25}],28:[function(e,t){function n(e){if(o.unindexedChars&&i(e)){for(var t=-1,n=e.length,a=Object(e);++t<n;)a[t]=e.charAt(t);return a}return r(e)?e:Object(e)}var r=e("../lang/isObject"),i=e("../lang/isString"),o=e("../support");t.exports=n},{"../lang/isObject":33,"../lang/isString":35,"../support":41}],29:[function(e,t){function n(e){return i(e)&&r(e)&&a.call(e,"callee")&&!s.call(e,"callee")}var r=e("../internal/isArrayLike"),i=e("../internal/isObjectLike"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable;t.exports=n},{"../internal/isArrayLike":21,"../internal/isObjectLike":26}],30:[function(e,t){var n=e("../internal/getNative"),r=e("../internal/isLength"),i=e("../internal/isObjectLike"),o="[object Array]",a=Object.prototype,s=a.toString,l=n(Array,"isArray"),u=l||function(e){return i(e)&&r(e.length)&&s.call(e)==o};t.exports=u},{"../internal/getNative":20,"../internal/isLength":25,"../internal/isObjectLike":26}],31:[function(e,t){function n(e){return r(e)&&a.call(e)==i}var r=e("./isObject"),i="[object Function]",o=Object.prototype,a=o.toString;t.exports=n},{"./isObject":33}],32:[function(e,t){function n(e){return null!=e&&(r(e)?c.test(l.call(e)):o(e)&&(i(e)?c:a).test(e))}var r=e("./isFunction"),i=e("../internal/isHostObject"),o=e("../internal/isObjectLike"),a=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},{"../internal/isHostObject":22,"../internal/isObjectLike":26,"./isFunction":31}],33:[function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=n},{}],34:[function(e,t){function n(e){var t;if(!a(e)||d.call(e)!=l||o(e)||i(e)||!c.call(e,"constructor")&&"function"==typeof(t=e.constructor)&&!(t instanceof t))return!1;var n;return s.ownLast?(r(e,function(e,t,r){return n=c.call(r,t),!1}),!1!==n):(r(e,function(e,t){n=t}),void 0===n||c.call(e,n))}var r=e("../internal/baseForIn"),i=e("./isArguments"),o=e("../internal/isHostObject"),a=e("../internal/isObjectLike"),s=e("../support"),l="[object Object]",u=Object.prototype,c=u.hasOwnProperty,d=u.toString;t.exports=n},{"../internal/baseForIn":12,"../internal/isHostObject":22,"../internal/isObjectLike":26,"../support":41,"./isArguments":29}],35:[function(e,t){function n(e){return"string"==typeof e||r(e)&&a.call(e)==i}var r=e("../internal/isObjectLike"),i="[object String]",o=Object.prototype,a=o.toString;t.exports=n},{"../internal/isObjectLike":26}],36:[function(e,t){function n(e){return i(e)&&r(e.length)&&!!o[s.call(e)]}var r=e("../internal/isLength"),i=e("../internal/isObjectLike"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var a=Object.prototype,s=a.toString;t.exports=n},{"../internal/isLength":25,"../internal/isObjectLike":26}],37:[function(e,t){function n(e){return r(e,i(e))}var r=e("../internal/baseCopy"),i=e("../object/keysIn");t.exports=n},{"../internal/baseCopy":10,"../object/keysIn":39}],38:[function(e,t){var n=e("../internal/getNative"),r=e("../internal/isArrayLike"),i=e("../lang/isObject"),o=e("../internal/shimKeys"),a=e("../support"),s=n(Object,"keys"),l=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||("function"==typeof e?a.enumPrototypes:r(e))?o(e):i(e)?s(e):[]}:o;t.exports=l},{"../internal/getNative":20,"../internal/isArrayLike":21,"../internal/shimKeys":27,"../lang/isObject":33,"../support":41}],39:[function(e,t){function n(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&l(t)&&(o(e)||i(e)||c(e))&&t||0;for(var n=e.constructor,r=-1,k=a(n)&&n.prototype||v,$=k===e,x=Array(t),C=t>0,T=d.enumErrorProps&&(e===g||e instanceof Error),S=d.enumPrototypes&&a(e);++r<t;)x[r]=r+"";for(var E in e)S&&"prototype"==E||T&&("message"==E||"name"==E)||C&&s(E,t)||"constructor"==E&&($||!b.call(e,E))||x.push(E);if(d.nonEnumShadows&&e!==v){var D=e===y?h:e===g?p:w.call(e),A=_[D]||_[f];for(D==f&&(k=v),t=m.length;t--;){E=m[t];var M=A[E];$&&M||(M?!b.call(e,E):e[E]===k[E])||x.push(E)}}return x}var r=e("../internal/arrayEach"),i=e("../lang/isArguments"),o=e("../lang/isArray"),a=e("../lang/isFunction"),s=e("../internal/isIndex"),l=e("../internal/isLength"),u=e("../lang/isObject"),c=e("../lang/isString"),d=e("../support"),p="[object Error]",f="[object Object]",h="[object String]",m=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],g=Error.prototype,v=Object.prototype,y=String.prototype,b=v.hasOwnProperty,w=v.toString,_={};_["[object Array]"]=_["[object Date]"]=_["[object Number]"]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},_["[object Boolean]"]=_[h]={constructor:!0,toString:!0,valueOf:!0},_[p]=_["[object Function]"]=_["[object RegExp]"]={constructor:!0,toString:!0},_[f]={constructor:!0},r(m,function(e){for(var t in _)if(b.call(_,t)){var n=_[t];n[e]=b.call(n,e)}}),t.exports=n},{"../internal/arrayEach":9,"../internal/isIndex":23,"../internal/isLength":25,"../lang/isArguments":29,"../lang/isArray":30,"../lang/isFunction":31,"../lang/isObject":33,"../lang/isString":35,"../support":41}],40:[function(e,t){var n=e("../internal/baseMerge"),r=e("../internal/createAssigner"),i=r(n);t.exports=i},{"../internal/baseMerge":13,"../internal/createAssigner":17}],41:[function(e,t){var n=Array.prototype,r=Error.prototype,i=Object.prototype,o=i.propertyIsEnumerable,a=n.splice,s={};!function(e){var t=function(){this.x=e},n={0:e,length:e},i=[];t.prototype={valueOf:e,y:e};for(var l in new t)i.push(l);s.enumErrorProps=o.call(r,"message")||o.call(r,"name"),s.enumPrototypes=o.call(t,"prototype"),s.nonEnumShadows=!/valueOf/.test(i),s.ownLast="x"!=i[0],s.spliceObjects=(a.call(n,0,1),!n[0]),s.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1),t.exports=s},{}],42:[function(e,t){function n(e){return e}t.exports=n},{}],43:[function(e,t){"use strict";var n=e("object-keys");t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test");if("string"==typeof t)return!1;var r=42;e[t]=r;for(t in e)return!1;if(0!==n(e).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==r||!0!==o.enumerable)return!1}return!0}},{"object-keys":50}],44:[function(e,t){"use strict";var n=e("object-keys"),r=e("function-bind"),i=function(e){return void 0!==e&&null!==e},o=e("./hasSymbols")(),a=Object,s=r.call(Function.call,Array.prototype.push),l=r.call(Function.call,Object.prototype.propertyIsEnumerable);t.exports=function(e){if(!i(e))throw new TypeError("target must be an object");var t,r,u,c,d,p,f,h=a(e);for(t=1;t<arguments.length;++t){if(r=a(arguments[t]),c=n(r),o&&Object.getOwnPropertySymbols)for(d=Object.getOwnPropertySymbols(r),u=0;u<d.length;++u)f=d[u],l(r,f)&&s(c,f);for(u=0;u<c.length;++u)f=c[u],p=r[f],l(r,f)&&(h[f]=p)}return h}},{"./hasSymbols":43,"function-bind":49,"object-keys":50}],45:[function(e,t){"use strict";var n=e("define-properties"),r=e("./implementation");n(r,{implementation:r,getPolyfill:e("./polyfill"),shim:e("./shim")}),t.exports=r},{"./implementation":44,"./polyfill":52,"./shim":53,"define-properties":46}],46:[function(e,t){"use strict";var n=e("object-keys"),r=e("foreach"),i="function"==typeof Symbol&&"symbol"==typeof Symbol(),o=Object.prototype.toString,a=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)},s=function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}},l=Object.defineProperty&&s(),u=function(e,t,n,r){(!(t in e)||a(r)&&r())&&(l?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,t){var o=arguments.length>2?arguments[2]:{},a=n(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t))),r(a,function(n){u(e,n,t[n],o[n])})};c.supportsDescriptors=!!l,t.exports=c},{foreach:47,"object-keys":50}],47:[function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(e,t,i){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)t.call(i,e[a],a,e);else for(var s in e)n.call(e,s)&&t.call(i,e[s],s,e)}},{}],48:[function(e,t){var n=Array.prototype.slice,r=Object.prototype.toString;t.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==r.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var i,o=n.call(arguments,1),a=function(){if(this instanceof i){var r=t.apply(this,o.concat(n.call(arguments)));return Object(r)===r?r:this}return t.apply(e,o.concat(n.call(arguments)))},s=Math.max(0,t.length-o.length),l=[],u=0;u<s;u++)l.push("$"+u);if(i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var c=function(){};c.prototype=t.prototype,i.prototype=new c,c.prototype=null}return i}},{}],49:[function(e,t){var n=e("./implementation");t.exports=Function.prototype.bind||n},{"./implementation":48}],50:[function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Array.prototype.slice,o=e("./isArguments"),a=Object.prototype.propertyIsEnumerable,s=!a.call({toString:null},"toString"),l=a.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{c(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),f=function(e){if("undefined"==typeof window||!p)return c(e);try{return c(e)}catch(e){return!1}},h=function(e){var t=null!==e&&"object"==typeof e,i="[object Function]"===r.call(e),a=o(e),c=t&&"[object String]"===r.call(e),d=[];if(!t&&!i&&!a)throw new TypeError("Object.keys called on a non-object");var p=l&&i;if(c&&e.length>0&&!n.call(e,0))for(var h=0;h<e.length;++h)d.push(String(h));if(a&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var g in e)p&&"prototype"===g||!n.call(e,g)||d.push(String(g));if(s)for(var v=f(e),y=0;y<u.length;++y)v&&"constructor"===u[y]||!n.call(e,u[y])||d.push(u[y]);return d};h.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(o(t)?i.call(t):t)}}}else Object.keys=h;return Object.keys||h},t.exports=h},{"./isArguments":51}],51:[function(e,t){"use strict";var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},{}],52:[function(e,t){"use strict";var n=e("./implementation"),r=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return e!==o},i=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}};t.exports=function(){return Object.assign?r()?n:i()?n:Object.assign:n}},{"./implementation":44}],53:[function(e,t){"use strict";var n=e("define-properties"),r=e("./polyfill");t.exports=function(){var e=r();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},{"./polyfill":52,"define-properties":46}],54:[function(e,t){function n(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(e){r=e}return[r,n]}t.exports=n},{}],55:[function(e,t){function n(e){return e.replace(/\n\r?\s*/g,"")}t.exports=function(e){for(var t="",r=0;r<arguments.length;r++)t+=n(e[r])+(arguments[r+1]||"");return t}},{}],56:[function(e,t){"use strict";function n(e,t){for(var n=0;n<e.length;n++)t(e[n])}function r(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(e,t,n){var r=e;return c(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=p(t,{uri:e}),r.callback=n,r}function o(e,t,n){return t=i(e,t,n),a(t)}function a(e){function t(){4===c.readyState&&a()}function n(){var e=void 0;if(c.response?e=c.response:"text"!==c.responseType&&c.responseType||(e=c.responseText||c.responseXML),w)try{e=JSON.parse(e)}catch(e){}return e}function i(e){clearTimeout(h),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,l)}function a(){if(!f){var t;clearTimeout(h),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var r=l,i=null;0!==t?(r={body:n(),statusCode:t,method:g,headers:{},url:m,rawRequest:c},c.getAllResponseHeaders&&(r.headers=d(c.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),s(i,r,r.body)}}var s=e.callback;if(void 0===s)throw new Error("callback argument missing");s=u(s);var l={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:c},c=e.xhr||null;c||(c=e.cors||e.useXDR?new o.XDomainRequest:new o.XMLHttpRequest);var p,f,h,m=c.url=e.uri||e.url,g=c.method=e.method||"GET",v=e.body||e.data||null,y=c.headers=e.headers||{},b=!!e.sync,w=!1;if("json"in e&&(w=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),v=JSON.stringify(e.json))),c.onreadystatechange=t,c.onload=a,c.onerror=i,c.onprogress=function(){},c.ontimeout=i,c.open(g,m,!b,e.username,e.password),b||(c.withCredentials=!!e.withCredentials),!b&&e.timeout>0&&(h=setTimeout(function(){f=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)},e.timeout)),c.setRequestHeader)for(p in y)y.hasOwnProperty(p)&&c.setRequestHeader(p,y[p]);else if(e.headers&&!r(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(v),c}function s(){}var l=e("global/window"),u=e("once"),c=e("is-function"),d=e("parse-headers"),p=e("xtend");t.exports=o,o.XMLHttpRequest=l.XMLHttpRequest||s,o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:l.XDomainRequest,n(["get","put","post","patch","head","delete"],function(e){o["delete"===e?"del":e]=function(t,n,r){return n=i(t,n,r),n.method=e.toUpperCase(),a(n)}})},{"global/window":2,"is-function":57,once:58,"parse-headers":61,xtend:62}],57:[function(e,t){function n(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=n;var r=Object.prototype.toString},{}],58:[function(e,t){function n(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}t.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},{}],59:[function(e,t){function n(e,t,n){if(!a(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===s.call(e)?r(e,t,n):"string"==typeof e?i(e,t,n):o(e,t,n)}function r(e,t,n){for(var r=0,i=e.length;r<i;r++)l.call(e,r)&&t.call(n,e[r],r,e)}function i(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function o(e,t,n){for(var r in e)l.call(e,r)&&t.call(n,e[r],r,e)}var a=e("is-function");t.exports=n;var s=Object.prototype.toString,l=Object.prototype.hasOwnProperty},{"is-function":57}],60:[function(e,t,n){function r(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=r,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],61:[function(e,t){var n=e("trim"),r=e("for-each"),i=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return r(n(e).split("\n"),function(e){var r=e.indexOf(":"),o=n(e.slice(0,r)).toLowerCase(),a=n(e.slice(r+1));"undefined"==typeof t[o]?t[o]=a:i(t[o])?t[o].push(a):t[o]=[t[o],a]}),t}},{"for-each":59,trim:60}],62:[function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}t.exports=n;var r=Object.prototype.hasOwnProperty},{}],63:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./button.js"),s=r(a),l=e("./component.js"),u=r(l),c=function(e){function t(n,r){i(this,t),e.call(this,n,r)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(){this.player_.play()},t}(s["default"]);c.prototype.controlText_="Play Video",u["default"].registerComponent("BigPlayButton",c),n["default"]=c,t.exports=n["default"]},{"./button.js":64,"./component.js":67}],64:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./clickable-component.js"),l=i(s),u=e("./component"),c=i(u),d=e("./utils/events.js"),p=(r(d),e("./utils/fn.js")),f=(r(p),e("./utils/log.js")),h=i(f),m=e("global/document"),g=(i(m),e("object.assign")),v=i(g),y=function(e){function t(n,r){o(this,t),e.call(this,n,r)}return a(t,e),t.prototype.createEl=function(){var e=arguments.length<=0||void 0===arguments[0]?"button":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];t=v["default"]({className:this.buildCSSClass()},t),"button"!==e&&(h["default"].warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=v["default"]({tabIndex:0},t),n=v["default"]({role:"button"},n)),n=v["default"]({type:"button","aria-live":"polite"},n);var r=c["default"].prototype.createEl.call(this,e,t,n);return this.createControlTextEl(r),r},t.prototype.addChild=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.constructor.name;return h["default"].warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),c["default"].prototype.addChild.call(this,e,t)},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which||e.prototype.handleKeyPress.call(this,t)},t}(l["default"]);c["default"].registerComponent("Button",y),n["default"]=y,t.exports=n["default"]},{"./clickable-component.js":65,"./component":67,"./utils/events.js":143,"./utils/fn.js":144,"./utils/log.js":147,"global/document":1,"object.assign":45}],65:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0
;var s=e("./component"),l=i(s),u=e("./utils/dom.js"),c=r(u),d=e("./utils/events.js"),p=r(d),f=e("./utils/fn.js"),h=r(f),m=e("./utils/log.js"),g=i(m),v=e("global/document"),y=i(v),b=e("object.assign"),w=i(b),_=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.emitTapEvents(),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur)}return a(t,e),t.prototype.createEl=function(){var t=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];n=w["default"]({className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&g["default"].error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=w["default"]({role:"button","aria-live":"polite"},r);var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=c.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length<=1||void 0===arguments[1]?this.el():arguments[1];if(!e)return this.controlText_||"Need Text";var n=this.localize(e);return this.controlText_=e,this.controlTextEl_.innerHTML=n,t.setAttribute("title",n),this},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.addChild=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e.prototype.addChild.call(this,t,n)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),this},t.prototype.handleClick=function(){},t.prototype.handleFocus=function(){p.on(y["default"],"keydown",h.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(){p.off(y["default"],"keydown",h.bind(this,this.handleKeyPress))},t}(l["default"]);l["default"].registerComponent("ClickableComponent",_),n["default"]=_,t.exports=n["default"]},{"./component":67,"./utils/dom.js":142,"./utils/events.js":143,"./utils/fn.js":144,"./utils/log.js":147,"global/document":1,"object.assign":45}],66:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./button"),s=r(a),l=e("./component"),u=r(l),c=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.controlText(r&&r.controlText||this.localize("Close"))}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},t}(s["default"]);u["default"].registerComponent("CloseButton",c),n["default"]=c,t.exports=n["default"]},{"./button":64,"./component":67}],67:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("global/window"),s=i(a),l=e("./utils/dom.js"),u=r(l),c=e("./utils/fn.js"),d=r(c),p=e("./utils/guid.js"),f=r(p),h=e("./utils/events.js"),m=r(h),g=e("./utils/log.js"),v=i(g),y=e("./utils/to-title-case.js"),b=i(y),w=e("./utils/merge-options.js"),_=i(w),k=function(){function e(t,n,r){if(o(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=_["default"]({},this.options_),n=this.options_=_["default"](this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+f.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:!1!==n.createEl&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==n.initChildren&&this.initChildren(),this.ready(r),!1!==n.reportTouchActivity&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),u.removeElData(this.el_),this.el_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return v["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=_["default"](this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return u.createEl(e,t,n)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var r=n[t];if(r&&r[e])return r[e];var i=t.split("-")[0],o=n[i];return o&&o[e]?o[e]:e},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){return this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?this.children_.length:arguments[2],i=void 0,o=void 0;if("string"==typeof t){o=t,n||(n={}),!0===n&&(v["default"].warn("Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var a=n.componentClass||b["default"](o);n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(this.children_.splice(r,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),o=o||i.name&&i.name(),o&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var l=this.contentEl().children,u=l[r]||null;this.contentEl().insertBefore(i.el(),u)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;n&&function(){var r=t.options_,i=function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}},o=void 0,a=e.getComponent("Tech");o=Array.isArray(n)?n:Object.keys(n),o.concat(Object.keys(t.options_).filter(function(e){return!o.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,i=void 0;return"string"==typeof e?(r=e,i=n[r]||t.options_[r]||{}):(r=e.name,i=e),{name:r,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||b["default"](t.name));return n&&!a.isTech(n)}).forEach(i)}()},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,n){var r=this;return"string"==typeof e||Array.isArray(e)?m.on(this.el_,e,d.bind(this,t)):function(){var i=e,o=t,a=d.bind(r,n),s=function(){return r.off(i,o,a)};s.guid=a.guid,r.on("dispose",s);var l=function(){return r.off("dispose",s)};l.guid=a.guid,e.nodeName?(m.on(i,o,a),m.on(i,"dispose",l)):"function"==typeof e.on&&(i.on(o,a),i.on("dispose",l))}(),this},e.prototype.off=function(e,t,n){if(!e||"string"==typeof e||Array.isArray(e))m.off(this.el_,e,t);else{var r=e,i=t,o=d.bind(this,n);this.off("dispose",o),e.nodeName?(m.off(r,i,o),m.off(r,"dispose",o)):(r.off(i,o),r.off("dispose",o))}return this},e.prototype.one=function(e,t,n){var r=this,i=arguments;return"string"==typeof e||Array.isArray(e)?m.one(this.el_,e,d.bind(this,t)):function(){var o=e,a=t,s=d.bind(r,n),l=function e(){r.off(o,a,e),s.apply(null,i)};l.guid=s.guid,r.on(o,a,l)}(),this},e.prototype.trigger=function(e,t){return m.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return u.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return u.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return u.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return u.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return u.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return u.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+b["default"](e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof s["default"].getComputedStyle){var n=s["default"].getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}else if(this.el_.currentStyle){var r="offset"+b["default"](e);t=this.el_[r]}return t=parseFloat(t)},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.emitTapEvents=function(){var e=0,t=null,n=200,r=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),r=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)r=!1;else if(t){var n=e.touches[0].pageX-t.pageX,i=e.touches[0].pageY-t.pageY,o=Math.sqrt(n*n+i*i);o>10&&(r=!1)}});var i=function(){r=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",function(i){if(t=null,!0===r){(new Date).getTime()-e<n&&(i.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=d.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){e=d.bind(this,e);var n=s["default"].setTimeout(e,t),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){s["default"].clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=d.bind(this,e);var n=s["default"].setInterval(e,t),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},e.prototype.clearInterval=function(e){s["default"].clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,n){return e.components_||(e.components_={}),e.components_[t]=n,n},e.getComponent=function(t){return e.components_&&e.components_[t]?e.components_[t]:s["default"]&&s["default"].videojs&&s["default"].videojs[t]?(v["default"].warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),s["default"].videojs[t]):void 0},e.extend=function(t){t=t||{},v["default"].warn("Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead");var n=t.init||t.init||this.prototype.init||this.prototype.init||function(){},r=function(){n.apply(this,arguments)};r.prototype=Object.create(this.prototype),r.prototype.constructor=r,r.extend=e.extend;for(var i in t)t.hasOwnProperty(i)&&(r.prototype[i]=t[i]);return r},e}();k.registerComponent("Component",k),n["default"]=k,t.exports=n["default"]},{"./utils/dom.js":142,"./utils/events.js":143,"./utils/fn.js":144,"./utils/guid.js":146,"./utils/log.js":147,"./utils/merge-options.js":148,"./utils/to-title-case.js":151,"global/window":2}],68:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../track-button.js"),l=i(s),u=e("../../component.js"),c=i(u),d=e("../../utils/fn.js"),p=(r(d),e("./audio-track-menu-item.js")),f=i(p),h=function(e){function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),r.tracks=n.audioTracks&&n.audioTracks(),e.call(this,n,r),this.el_.setAttribute("aria-label","Audio Menu")}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];e.push(new f["default"](this.player_,{selectable:!0,track:r}))}return e},t}(l["default"]);h.prototype.controlText_="Audio Track",c["default"].registerComponent("AudioTrackButton",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":67,"../../utils/fn.js":144,"../track-button.js":98,"./audio-track-menu-item.js":69}],69:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-item.js"),l=i(s),u=e("../../component.js"),c=i(u),d=e("../../utils/fn.js"),p=r(d),f=function(e){function t(n,r){var i=this;o(this,t);var a=r.track,s=n.audioTracks();r.label=a.label||a.language||"Unknown",r.selected=a.enabled,e.call(this,n,r),this.track=a,s&&function(){var e=p.bind(i,i.handleTracksChange);s.addEventListener("change",e),i.on("dispose",function(){s.removeEventListener("change",e)})}()}return a(t,e),t.prototype.handleClick=function(t){var n=this.player_.audioTracks();if(e.prototype.handleClick.call(this,t),n)for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(){this.selected(this.track.enabled)},t}(l["default"]);c["default"].registerComponent("AudioTrackMenuItem",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":110,"../../utils/fn.js":144}],70:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../component.js"),s=r(a),l=e("./play-toggle.js"),u=(r(l),e("./time-controls/current-time-display.js")),c=(r(u),e("./time-controls/duration-display.js")),d=(r(c),e("./time-controls/time-divider.js")),p=(r(d),e("./time-controls/remaining-time-display.js")),f=(r(p),e("./live-display.js")),h=(r(f),e("./progress-control/progress-control.js")),m=(r(h),e("./fullscreen-toggle.js")),g=(r(m),e("./volume-control/volume-control.js")),v=(r(g),e("./volume-menu-button.js")),y=(r(v),e("./mute-toggle.js")),b=(r(y),e("./text-track-controls/chapters-button.js")),w=(r(b),e("./text-track-controls/descriptions-button.js")),_=(r(w),e("./text-track-controls/subtitles-button.js")),k=(r(_),e("./text-track-controls/captions-button.js")),$=(r(k),e("./audio-track-controls/audio-track-button.js")),x=(r($),e("./playback-rate-menu/playback-rate-menu-button.js")),C=(r(x),e("./spacer-controls/custom-control-spacer.js")),T=(r(C),function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(s["default"]));T.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},s["default"].registerComponent("ControlBar",T),n["default"]=T,t.exports=n["default"]},{"../component.js":67,"./audio-track-controls/audio-track-button.js":68,"./fullscreen-toggle.js":71,"./live-display.js":72,"./mute-toggle.js":73,"./play-toggle.js":74,"./playback-rate-menu/playback-rate-menu-button.js":75,"./progress-control/progress-control.js":80,"./spacer-controls/custom-control-spacer.js":83,"./text-track-controls/captions-button.js":86,"./text-track-controls/chapters-button.js":87,"./text-track-controls/descriptions-button.js":89,"./text-track-controls/subtitles-button.js":91,"./time-controls/current-time-display.js":94,"./time-controls/duration-display.js":95,"./time-controls/remaining-time-display.js":96,"./time-controls/time-divider.js":97,"./volume-control/volume-control.js":100,"./volume-menu-button.js":102}],71:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../button.js"),s=r(a),l=e("../component.js"),u=r(l),c=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.on(n,"fullscreenchange",this.handleFullscreenChange)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(s["default"]);c.prototype.controlText_="Fullscreen",u["default"].registerComponent("FullscreenToggle",c),n["default"]=c,t.exports=n["default"]},{"../button.js":64,"../component.js":67}],72:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component"),l=i(s),u=e("../utils/dom.js"),c=r(u),d=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.updateShowing(),this.on(this.player(),"durationchange",this.updateShowing)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},t}(l["default"]);l["default"].registerComponent("LiveDisplay",d),n["default"]=d,t.exports=n["default"]},{"../component":67,"../utils/dom.js":142}],73:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../button"),l=i(s),u=e("../component"),c=i(u),d=e("../utils/dom.js"),p=r(d),f=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"volumechange",this.update),n.tech_&&!1===n.tech_.featuresVolumeControl&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){this.update(),!1===n.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.muted(!this.player_.muted())},t.prototype.update=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);var n=this.player_.muted()?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n);for(var r=0;r<4;r++)p.removeElClass(this.el_,"vjs-vol-"+r);p.addElClass(this.el_,"vjs-vol-"+t)},t}(l["default"]);f.prototype.controlText_="Mute",c["default"].registerComponent("MuteToggle",f),n["default"]=f,t.exports=n["default"]},{"../button":64,"../component":67,"../utils/dom.js":142}],74:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../button.js"),s=r(a),l=e("../component.js"),u=r(l),c=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.on(n,"play",this.handlePlay),this.on(n,"pause",this.handlePause)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t}(s["default"]);c.prototype.controlText_="Play",u["default"].registerComponent("PlayToggle",c),n["default"]=c,t.exports=n["default"]},{"../button.js":64,"../component.js":67}],75:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-button.js"),l=i(s),u=e("../../menu/menu.js"),c=i(u),d=e("./playback-rate-menu-item.js"),p=i(d),f=e("../../component.js"),h=i(f),m=e("../../utils/dom.js"),g=r(m),v=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.updateVisibility(),this.updateLabel(),this.on(n,"loadstart",this.updateVisibility),this.on(n,"ratechange",this.updateLabel)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=g.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new c["default"](this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new p["default"](this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(){for(var e=this.player().playbackRate(),t=this.playbackRates(),n=t[0],r=0;r<t.length;r++)if(t[r]>e){n=t[r];break}this.player().playbackRate(n)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(l["default"]);v.prototype.controlText_="Playback Rate",h["default"].registerComponent("PlaybackRateMenuButton",v),n["default"]=v,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-button.js":109,"../../menu/menu.js":111,"../../utils/dom.js":142,"./playback-rate-menu-item.js":76}],76:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../menu/menu-item.js"),s=r(a),l=e("../../component.js"),u=r(l),c=function(e){function t(n,r){i(this,t);var o=r.rate,a=parseFloat(o,10);r.label=o,r.selected=1===a,e.call(this,n,r),this.label=o,this.rate=a,this.on(n,"ratechange",this.update)}return o(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(s["default"]);c.prototype.contentElType="button",u["default"].registerComponent("PlaybackRateMenuItem",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":110}],77:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/dom.js"),c=r(u),d=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"progress",this.update)}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(){var e=this.player_.buffered(),t=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.el_.children,i=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=i(n,t);for(var o=0;o<e.length;o++){var a=e.start(o),s=e.end(o),l=r[o];l||(l=this.el_.appendChild(c.createEl())),l.style.left=i(a,n),l.style.width=i(s-a,n)}for(var o=r.length;o>e.length;o--)this.el_.removeChild(r[o-1])},t}(l["default"]);l["default"].registerComponent("LoadProgressBar",d),n["default"]=d,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142}],78:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("global/window"),l=i(s),u=e("../../component.js"),c=i(u),d=e("../../utils/dom.js"),p=r(d),f=e("../../utils/fn.js"),h=r(f),m=e("../../utils/format-time.js"),g=i(m),v=e("lodash-compat/function/throttle"),y=i(v),b=function(e){function t(n,r){var i=this;o(this,t),e.call(this,n,r),
r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltip=p.createEl("div",{className:"vjs-time-tooltip"}),this.el().appendChild(this.tooltip),this.addClass("vjs-keep-tooltips-inside")),this.update(0,0),n.on("ready",function(){i.on(n.controlBar.progressControl.el(),"mousemove",y["default"](h.bind(i,i.handleMouseMove),25))})}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,r=e.pageX-p.findElPosition(this.el().parentNode).left;this.update(n,r)},t.prototype.update=function(e,t){var n=g["default"](e,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",n),this.keepTooltipsInside){var r=this.clampPosition_(t),i=t-r+1,o=parseFloat(l["default"].getComputedStyle(this.tooltip).width),a=o/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(a-i)+"px"}},t.prototype.calculateDistance=function(e){return p.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat(l["default"].getComputedStyle(this.player().el()).width),n=parseFloat(l["default"].getComputedStyle(this.tooltip).width),r=n/2,i=e;return e<r?i=Math.ceil(r):e>t-r&&(i=Math.floor(t-r)),i},t}(c["default"]);c["default"].registerComponent("MouseTimeDisplay",b),n["default"]=b,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/fn.js":144,"../../utils/format-time.js":145,"global/window":2,"lodash-compat/function/throttle":7}],79:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/fn.js"),c=r(u),d=e("../../utils/dom.js"),p=(r(d),e("../../utils/format-time.js")),f=i(p),h=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.updateDataAttr(),this.on(n,"timeupdate",this.updateDataAttr),n.ready(c.bind(this,this.updateDataAttr)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&this.addClass("vjs-keep-tooltips-inside")}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",f["default"](e,this.player_.duration()))},t}(l["default"]);l["default"].registerComponent("PlayProgressBar",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/fn.js":144,"../../utils/format-time.js":145}],80:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=e("./seek-bar.js"),u=(r(l),e("./mouse-time-display.js")),c=(r(u),function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t}(s["default"]));c.prototype.options_={children:["seekBar"]},s["default"].registerComponent("ProgressControl",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"./mouse-time-display.js":78,"./seek-bar.js":81}],81:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("global/window"),l=i(s),u=e("../../slider/slider.js"),c=i(u),d=e("../../component.js"),p=i(d),f=e("./load-progress-bar.js"),h=(i(f),e("./play-progress-bar.js")),m=(i(h),e("./tooltip-progress-bar.js")),g=(i(m),e("../../utils/fn.js")),v=r(g),y=e("../../utils/format-time.js"),b=i(y),w=e("object.assign"),_=(i(w),function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"timeupdate",this.updateProgress),this.on(n,"ended",this.updateProgress),n.ready(v.bind(this,this.updateProgress)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltipProgressBar=this.addChild("TooltipProgressBar"))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.updateProgress=function(){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var e=parseFloat(l["default"].getComputedStyle(this.player().el()).width),t=parseFloat(l["default"].getComputedStyle(this.tooltipProgressBar.tooltip).width),n=this.tooltipProgressBar.el().style;n.maxWidth=Math.floor(e-t/2)+"px",n.minWidth=Math.ceil(t/2)+"px",n.right="-"+t/2+"px"}},t.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",b["default"](t,this.player_.duration()))},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){e.prototype.handleMouseDown.call(this,t),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(c["default"]));_.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},_.prototype.playerEvent="timeupdate",p["default"].registerComponent("SeekBar",_),n["default"]=_,t.exports=n["default"]},{"../../component.js":67,"../../slider/slider.js":119,"../../utils/fn.js":144,"../../utils/format-time.js":145,"./load-progress-bar.js":77,"./play-progress-bar.js":79,"./tooltip-progress-bar.js":82,"global/window":2,"object.assign":45}],82:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/fn.js"),c=r(u),d=e("../../utils/dom.js"),p=(r(d),e("../../utils/format-time.js")),f=i(p),h=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.updateDataAttr(),this.on(n,"timeupdate",this.updateDataAttr),n.ready(c.bind(this,this.updateDataAttr))}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=f["default"](e,this.player_.duration());this.el_.setAttribute("data-current-time",t),this.tooltip.innerHTML=t},t}(l["default"]);l["default"].registerComponent("TooltipProgressBar",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/fn.js":144,"../../utils/format-time.js":145}],83:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./spacer.js"),s=r(a),l=e("../../component.js"),u=r(l),c=function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(s["default"]);u["default"].registerComponent("CustomControlSpacer",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"./spacer.js":84}],84:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(s["default"]);s["default"].registerComponent("Spacer",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":67}],85:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-menu-item.js"),s=r(a),l=e("../../component.js"),u=r(l),c=function(e){function t(n,r){i(this,t),r.track={kind:r.kind,player:n,label:r.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},r.selectable=!1,e.call(this,n,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}return o(t,e),t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},t}(s["default"]);u["default"].registerComponent("CaptionSettingsMenuItem",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"./text-track-menu-item.js":93}],86:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-button.js"),s=r(a),l=e("../../component.js"),u=r(l),c=e("./caption-settings-menu-item.js"),d=r(c),p=function(e){function t(n,r,o){i(this,t),e.call(this,n,r,o),this.el_.setAttribute("aria-label","Captions Menu")}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(){var t=2;e.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(t=1),this.items&&this.items.length>t?this.show():this.hide()},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||t.push(new d["default"](this.player_,{kind:this.kind_})),e.prototype.createItems.call(this,t)},t}(s["default"]);p.prototype.kind_="captions",p.prototype.controlText_="Captions",u["default"].registerComponent("CaptionsButton",p),n["default"]=p,t.exports=n["default"]},{"../../component.js":67,"./caption-settings-menu-item.js":85,"./text-track-button.js":92}],87:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./text-track-button.js"),l=i(s),u=e("../../component.js"),c=i(u),d=e("./text-track-menu-item.js"),p=i(d),f=e("./chapters-track-menu-item.js"),h=i(f),m=e("../../menu/menu.js"),g=i(m),v=e("../../utils/dom.js"),y=r(v),b=e("../../utils/fn.js"),w=(r(b),e("../../utils/to-title-case.js")),_=i(w),k=e("global/window"),$=(i(k),function(e){function t(n,r,i){o(this,t),e.call(this,n,r,i),this.el_.setAttribute("aria-label","Chapters Menu")}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=[],t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];r.kind===this.kind_&&e.push(new p["default"](this.player_,{track:r}))}return e},t.prototype.createMenu=function(){for(var e=this,t=this.player_.textTracks()||[],n=void 0,r=this.items||[],i=t.length-1;i>=0;i--){var o=t[i];if(o.kind===this.kind_){n=o;break}}var a=this.menu;if(void 0===a){a=new g["default"](this.player_);var s=y.createEl("li",{className:"vjs-menu-title",innerHTML:_["default"](this.kind_),tabIndex:-1});a.children_.unshift(s),y.insertElFirst(s,a.contentEl())}else r.forEach(function(e){return a.removeChild(e)}),r=[];if(n&&null==n.cues){n.mode="hidden";var l=this.player_.remoteTextTrackEls().getTrackElementByTrack_(n);l&&l.addEventListener("load",function(){return e.update()})}if(n&&n.cues&&n.cues.length>0)for(var u=n.cues,c=void 0,i=0,d=u.length;i<d;i++){c=u[i];var p=new h["default"](this.player_,{track:n,cue:c});r.push(p),a.addChild(p)}return r.length>0&&this.show(),this.items=r,a},t}(l["default"]));$.prototype.kind_="chapters",$.prototype.controlText_="Chapters",c["default"].registerComponent("ChaptersButton",$),n["default"]=$,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu.js":111,"../../utils/dom.js":142,"../../utils/fn.js":144,"../../utils/to-title-case.js":151,"./chapters-track-menu-item.js":88,"./text-track-button.js":92,"./text-track-menu-item.js":93,"global/window":2}],88:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-item.js"),l=i(s),u=e("../../component.js"),c=i(u),d=e("../../utils/fn.js"),p=r(d),f=function(e){function t(n,r){o(this,t);var i=r.track,a=r.cue,s=n.currentTime();r.label=a.text,r.selected=a.startTime<=s&&s<a.endTime,e.call(this,n,r),this.track=i,this.cue=a,i.addEventListener("cuechange",p.bind(this,this.update))}return a(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},t}(l["default"]);c["default"].registerComponent("ChaptersTrackMenuItem",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":110,"../../utils/fn.js":144}],89:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./text-track-button.js"),l=i(s),u=e("../../component.js"),c=i(u),d=e("../../utils/fn.js"),p=r(d),f=function(e){function t(n,r,i){var a=this;o(this,t),e.call(this,n,r,i),this.el_.setAttribute("aria-label","Descriptions Menu");var s=n.textTracks();s&&function(){var e=p.bind(a,a.handleTracksChange);s.addEventListener("change",e),a.on("dispose",function(){s.removeEventListener("change",e)})}()}return a(t,e),t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!1,n=0,r=e.length;n<r;n++){var i=e[n];if(i.kind!==this.kind_&&"showing"===i.mode){t=!0;break}}t?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t}(l["default"]);f.prototype.kind_="descriptions",f.prototype.controlText_="Descriptions",c["default"].registerComponent("DescriptionsButton",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../utils/fn.js":144,"./text-track-button.js":92}],90:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-menu-item.js"),s=r(a),l=e("../../component.js"),u=r(l),c=function(e){function t(n,r){i(this,t),r.track={kind:r.kind,player:n,label:r.kind+" off","default":!1,mode:"disabled"},r.selectable=!0,e.call(this,n,r),this.selected(!0)}return o(t,e),t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!0,n=0,r=e.length;n<r;n++){var i=e[n];if(i.kind===this.track.kind&&"showing"===i.mode){t=!1;break}}this.selected(t)},t}(s["default"]);u["default"].registerComponent("OffTextTrackMenuItem",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"./text-track-menu-item.js":93}],91:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-button.js"),s=r(a),l=e("../../component.js"),u=r(l),c=function(e){function t(n,r,o){i(this,t),e.call(this,n,r,o),this.el_.setAttribute("aria-label","Subtitles Menu")}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t}(s["default"]);c.prototype.kind_="subtitles",c.prototype.controlText_="Subtitles",u["default"].registerComponent("SubtitlesButton",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"./text-track-button.js":92}],92:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../track-button.js"),l=i(s),u=e("../../component.js"),c=i(u),d=e("../../utils/fn.js"),p=(r(d),e("./text-track-menu-item.js")),f=i(p),h=e("./off-text-track-menu-item.js"),m=i(h),g=function(e){function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),r.tracks=n.textTracks(),e.call(this,n,r)}return a(t,e),t.prototype.createItems=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];e.push(new m["default"](this.player_,{kind:this.kind_}));var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];r.kind===this.kind_&&e.push(new f["default"](this.player_,{selectable:!0,track:r}))}return e},t}(l["default"]);c["default"].registerComponent("TextTrackButton",g),n["default"]=g,t.exports=n["default"]},{"../../component.js":67,"../../utils/fn.js":144,"../track-button.js":98,"./off-text-track-menu-item.js":90,"./text-track-menu-item.js":93}],93:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-item.js"),l=i(s),u=e("../../component.js"),c=i(u),d=e("../../utils/fn.js"),p=r(d),f=e("global/window"),h=i(f),m=e("global/document"),g=i(m),v=function(e){function t(n,r){var i=this;o(this,t);var a=r.track,s=n.textTracks();r.label=a.label||a.language||"Unknown",r.selected=a["default"]||"showing"===a.mode,e.call(this,n,r),this.track=a,s&&function(){var e=p.bind(i,i.handleTracksChange);s.addEventListener("change",e),i.on("dispose",function(){s.removeEventListener("change",e)})}(),s&&void 0===s.onchange&&function(){var e=void 0;i.on(["tap","click"],function(){if("object"!=typeof h["default"].Event)try{e=new h["default"].Event("change")}catch(e){}e||(e=g["default"].createEvent("Event"),e.initEvent("change",!0,!0)),s.dispatchEvent(e)})}()}return a(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];o.kind===n&&(o===this.track?o.mode="showing":o.mode="disabled")}},t.prototype.handleTracksChange=function(){this.selected("showing"===this.track.mode)},t}(l["default"]);c["default"].registerComponent("TextTrackMenuItem",v),n["default"]=v,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":110,"../../utils/fn.js":144,"global/document":1,"global/window":2}],94:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/dom.js"),c=r(u),d=e("../../utils/format-time.js"),p=i(d),f=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"timeupdate",this.updateContent)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=this.localize("Current Time"),n=p["default"](e,this.player_.duration());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> "+n)},t}(l["default"]);l["default"].registerComponent("CurrentTimeDisplay",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/format-time.js":145}],95:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/dom.js"),c=r(u),d=e("../../utils/format-time.js"),p=i(d),f=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"durationchange",this.updateContent),this.on(n,"timeupdate",this.updateContent),this.on(n,"loadedmetadata",this.updateContent)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.duration();if(e&&this.duration_!==e){this.duration_=e;var t=this.localize("Duration Time"),n=p["default"](e);this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> "+n}},t}(l["default"]);l["default"].registerComponent("DurationDisplay",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/format-time.js":145}],96:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=i(s),u=e("../../utils/dom.js"),c=r(u),d=e("../../utils/format-time.js"),p=i(d),f=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"timeupdate",this.updateContent),this.on(n,"durationchange",this.updateContent)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){if(this.player_.duration()){var e=this.localize("Remaining Time"),t=p["default"](this.player_.remainingTime());t!==this.formattedTime_&&(this.formattedTime_=t,this.contentEl_.innerHTML='<span class="vjs-control-text">'+e+"</span> -"+t)}},t}(l["default"]);l["default"].registerComponent("RemainingTimeDisplay",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":142,"../../utils/format-time.js":145}],97:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(s["default"])
;s["default"].registerComponent("TimeDivider",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":67}],98:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../menu/menu-button.js"),l=i(s),u=e("../component.js"),c=i(u),d=e("../utils/fn.js"),p=r(d),f=function(e){function t(n,r){o(this,t);var i=r.tracks;if(e.call(this,n,r),this.items.length<=1&&this.hide(),i){var a=p.bind(this,this.update);i.addEventListener("removetrack",a),i.addEventListener("addtrack",a),this.player_.on("dispose",function(){i.removeEventListener("removetrack",a),i.removeEventListener("addtrack",a)})}}return a(t,e),t}(l["default"]);c["default"].registerComponent("TrackButton",f),n["default"]=f,t.exports=n["default"]},{"../component.js":67,"../menu/menu-button.js":109,"../utils/fn.js":144}],99:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../slider/slider.js"),l=i(s),u=e("../../component.js"),c=i(u),d=e("../../utils/fn.js"),p=r(d),f=e("./volume-level.js"),h=(i(f),function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"volumechange",this.updateARIAAttributes),n.ready(p.bind(this,this.updateARIAAttributes))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(){var e=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},t}(l["default"]));h.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},h.prototype.playerEvent="volumechange",c["default"].registerComponent("VolumeBar",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":67,"../../slider/slider.js":119,"../../utils/fn.js":144,"./volume-level.js":101}],100:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=e("./volume-bar.js"),u=(r(l),function(e){function t(n,r){i(this,t),e.call(this,n,r),n.tech_&&!1===n.tech_.featuresVolumeControl&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){!1===n.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(s["default"]));u.prototype.options_={children:["volumeBar"]},s["default"].registerComponent("VolumeControl",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":67,"./volume-bar.js":99}],101:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(s["default"]);s["default"].registerComponent("VolumeLevel",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":67}],102:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../utils/fn.js"),l=i(s),u=e("../component.js"),c=r(u),d=e("../popup/popup.js"),p=r(d),f=e("../popup/popup-button.js"),h=r(f),m=e("./mute-toggle.js"),g=r(m),v=e("./volume-control/volume-bar.js"),y=r(v),b=function(e){function t(n){function r(){n.tech_&&!1===n.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),void 0===i.inline&&(i.inline=!0),void 0===i.vertical&&(i.inline?i.vertical=!1:i.vertical=!0),i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=!!i.vertical,e.call(this,n,i),this.on(n,"volumechange",this.volumeUpdate),this.on(n,"loadstart",this.volumeUpdate),r.call(this),this.on(n,"loadstart",r),this.on(this.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),this.on(this.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),this.on(this.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),this.on(this.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")})}return a(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var e=new p["default"](this.player_,{contentElType:"div"}),t=new y["default"](this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(){g["default"].prototype.handleClick.call(this),e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],l.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(){this.on(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(){this.off(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(h["default"]);b.prototype.volumeUpdate=g["default"].prototype.update,b.prototype.controlText_="Mute",c["default"].registerComponent("VolumeMenuButton",b),n["default"]=b,t.exports=n["default"]},{"../component.js":67,"../popup/popup-button.js":115,"../popup/popup.js":116,"../utils/fn.js":144,"./mute-toggle.js":73,"./volume-control/volume-bar.js":99}],103:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component"),l=i(s),u=e("./modal-dialog"),c=i(u),d=e("./utils/dom"),p=(r(d),e("./utils/merge-options")),f=i(p),h=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"error",this.open)}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(c["default"]);h.prototype.options_=f["default"](c["default"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),l["default"].registerComponent("ErrorDisplay",h),n["default"]=h,t.exports=n["default"]},{"./component":67,"./modal-dialog":112,"./utils/dom":142,"./utils/merge-options":148}],104:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var i=e("./utils/events.js"),o=r(i),a=function(){};a.prototype.allowedEvents_={},a.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},o.on(this,e,t),this.addEventListener=n},a.prototype.addEventListener=a.prototype.on,a.prototype.off=function(e,t){o.off(this,e,t)},a.prototype.removeEventListener=a.prototype.off,a.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},o.one(this,e,t),this.addEventListener=n},a.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=o.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),o.trigger(this,e)},a.prototype.dispatchEvent=a.prototype.trigger,n["default"]=a,t.exports=n["default"]},{"./utils/events.js":143}],105:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("./utils/log"),o=r(i),a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},s=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=function(){e.apply(this,arguments)},r={};"object"==typeof t?("function"==typeof t.init&&(o["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),a(n,e);for(var i in r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n};n["default"]=s,t.exports=n["default"]},{"./utils/log":147}],106:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;for(var i=e("global/document"),o=r(i),a={},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=s[0],u=void 0,c=0;c<s.length;c++)if(s[c][1]in o["default"]){u=s[c];break}if(u)for(var c=0;c<u.length;c++)a[l[c]]=u[c];n["default"]=a,t.exports=n["default"]},{"global/document":1}],107:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./component"),s=r(a),l=function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(s["default"]);s["default"].registerComponent("LoadingSpinner",l),n["default"]=l,t.exports=n["default"]},{"./component":67}],108:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e instanceof i?e:("number"==typeof e?this.code=e:"string"==typeof e?this.message=e:"object"==typeof e&&("number"==typeof e.code&&(this.code=e.code),a["default"](this,e)),void(this.message||(this.message=i.defaultMessages[this.code]||"")))}n.__esModule=!0;var o=e("object.assign"),a=r(o);i.prototype.code=0,i.prototype.message="",i.prototype.status=null,i.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],i.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<i.errorTypes.length;s++)i[i.errorTypes[s]]=s,i.prototype[i.errorTypes[s]]=s;n["default"]=i,t.exports=n["default"]},{"object.assign":45}],109:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../clickable-component.js"),l=i(s),u=e("../component.js"),c=i(u),d=e("./menu.js"),p=i(d),f=e("../utils/dom.js"),h=r(f),m=e("../utils/fn.js"),g=r(m),v=e("../utils/to-title-case.js"),y=i(v),b=function(e){function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),e.call(this,n,r),this.update(),this.enabled_=!0,this.el_.setAttribute("aria-haspopup","true"),this.el_.setAttribute("role","menuitem"),this.on("keydown",this.handleSubmenuKeyPress)}return a(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createMenu=function(){var e=new p["default"](this.player_);if(this.options_.title){var t=h.createEl("li",{className:"vjs-menu-title",innerHTML:y["default"](this.options_.title),tabIndex:-1});e.children_.unshift(t),h.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return"vjs-menu-button "+(t+=!0===this.options_.inline?"-inline":"-popup")+" "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.one(this.menu.contentEl(),"mouseleave",g.bind(this,function(){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t}(l["default"]);c["default"].registerComponent("MenuButton",b),n["default"]=b,t.exports=n["default"]},{"../clickable-component.js":65,"../component.js":67,"../utils/dom.js":142,"../utils/fn.js":144,"../utils/to-title-case.js":151,"./menu.js":111}],110:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../clickable-component.js"),s=r(a),l=e("../component.js"),u=r(l),c=e("object.assign"),d=r(c),p=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.selectable=r.selectable,this.selected(r.selected),this.selectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitem")}return o(t,e),t.prototype.createEl=function(t,n,r){return e.prototype.createEl.call(this,"li",d["default"]({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),r)},t.prototype.handleClick=function(){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(s["default"]);u["default"].registerComponent("MenuItem",p),n["default"]=p,t.exports=n["default"]},{"../clickable-component.js":65,"../component.js":67,"object.assign":45}],111:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component.js"),l=i(s),u=e("../utils/dom.js"),c=r(u),d=e("../utils/fn.js"),p=r(d),f=e("../utils/events.js"),h=r(f),m=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.focusedChild_=-1,this.on("keydown",this.handleKeyPress)}return a(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",p.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=c.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.setAttribute("role","presentation"),n.appendChild(this.contentEl_),h.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(l["default"]);l["default"].registerComponent("Menu",m),n["default"]=m,t.exports=n["default"]},{"../component.js":67,"../utils/dom.js":142,"../utils/events.js":143,"../utils/fn.js":144}],112:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./utils/dom"),l=i(s),u=e("./utils/fn"),c=i(u),d=e("./utils/log"),p=(r(d),e("./component")),f=r(p),h=e("./close-button"),m=(r(h),"vjs-modal-dialog"),g=27,v=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=l.createEl("div",{className:m+"-content"},{role:"document"}),this.descEl_=l.createEl("p",{className:m+"-description vjs-offscreen",id:this.el().getAttribute("aria-describedby")}),l.textContent(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return m+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===g&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",c.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",c.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),l.insertContent(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),l.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},t}(f["default"]);v.prototype.options_={temporary:!0},f["default"].registerComponent("ModalDialog",v),n["default"]=v,t.exports=n["default"]},{"./close-button":66,"./component":67,"./utils/dom":142,"./utils/fn":144,"./utils/log":147}],113:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component.js"),l=i(s),u=e("global/document"),c=i(u),d=e("global/window"),p=i(d),f=e("./utils/events.js"),h=r(f),m=e("./utils/dom.js"),g=r(m),v=e("./utils/fn.js"),y=r(v),b=e("./utils/guid.js"),w=r(b),_=e("./utils/browser.js"),k=r(_),$=e("./utils/log.js"),x=i($),C=e("./utils/to-title-case.js"),T=i(C),S=e("./utils/time-ranges.js"),E=e("./utils/buffer.js"),D=e("./utils/stylesheet.js"),A=r(D),M=e("./fullscreen-api.js"),P=i(M),O=e("./media-error.js"),j=i(O),I=e("safe-json-parse/tuple"),L=i(I),R=e("object.assign"),N=i(R),F=e("./utils/merge-options.js"),V=i(F),B=e("./tracks/text-track-list-converter.js"),H=i(B),U=e("./tracks/audio-track-list.js"),z=i(U),q=e("./tracks/video-track-list.js"),Y=i(q),W=e("./tech/loader.js"),G=(i(W),e("./poster-image.js")),X=(i(G),e("./tracks/text-track-display.js")),J=(i(X),e("./loading-spinner.js")),Q=(i(J),e("./big-play-button.js")),Z=(i(Q),e("./control-bar/control-bar.js")),K=(i(Z),e("./error-display.js")),ee=(i(K),e("./tracks/text-track-settings.js")),te=(i(ee),e("./modal-dialog")),ne=i(te),re=e("./tech/tech.js"),ie=i(re),oe=e("./tech/html5.js"),ae=(i(oe),function(e){function t(n,r,i){var a=this;if(o(this,t),n.id=n.id||"vjs_video_"+w.newGUID(),r=N["default"](t.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var s=n.closest("[lang]");s&&(r.language=s.getAttribute("lang"))}else for(var l=n;l&&1===l.nodeType;){if(g.getElAttributes(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}if(e.call(this,null,r,i),!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");this.tag=n,this.tagAttributes=n&&g.getElAttributes(n),this.language(this.options_.language),r.languages?function(){var e={};Object.getOwnPropertyNames(r.languages).forEach(function(t){e[t.toLowerCase()]=r.languages[t]}),a.languages_=e}():this.languages_=t.prototype.options_.languages,this.cache_={},this.poster_=r.poster||"",this.controls_=!!r.controls,n.controls=!1,this.scrubbing_=!1,this.el_=this.createEl();var u=V["default"](this.options_);r.plugins&&function(){var e=r.plugins;Object.getOwnPropertyNames(e).forEach(function(t){"function"==typeof this[t]?this[t](e[t]):x["default"].error("Unable to find plugin:",t)},a)}(),this.options_.playerOptions=u,this.initChildren(),this.isAudio("audio"===n.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label","audio player"):this.el_.setAttribute("aria-label","video player"),this.isAudio()&&this.addClass("vjs-audio"),this.flexNotSupported_()&&this.addClass("vjs-no-flex"),k.IS_IOS||this.addClass("vjs-workinghover"),t.players[this.id_]=this,this.userActive(!0),this.reportUserActivity(),this.listenForUserActivity_(),this.on("fullscreenchange",this.handleFullscreenChange_),this.on("stageclick",this.handleStageClick_)}return a(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.el_=e.prototype.createEl.call(this,"div"),n=this.tag;n.removeAttribute("width"),n.removeAttribute("height");var r=g.getElAttributes(n);if(Object.getOwnPropertyNames(r).forEach(function(e){"class"===e?t.className=r[e]:t.setAttribute(e,r[e])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==p["default"].VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=A.createStyleElement("vjs-styles-dimensions");var i=g.$(".vjs-styles-defaults"),o=g.$("head");o.insertBefore(this.styleEl_,i?i.nextSibling:o.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=n.getElementsByTagName("a"),s=0;s<a.length;s++){var l=a.item(s);g.addElClass(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&n.parentNode.insertBefore(t,n),g.insertElFirst(n,t),this.children_.unshift(n),this.el_=t,t},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)this[n]=void 0;else{var r=parseFloat(t);if(isNaN(r))return x["default"].error('Improper value "'+t+'" supplied for for '+e),this;this[n]=r}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,void(e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid")))},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),
this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(!0===p["default"].VIDEOJS_NO_DYNAMIC_STYLE){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var r=void 0,i=void 0,o=void 0,a=void 0;o=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9";var s=o.split(":"),l=s[1]/s[0];r=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,i=void 0!==this.height_?this.height_:r*l,a=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(a),A.setTextContent(this.styleEl_,"\n      ."+a+" {\n        width: "+r+"px;\n        height: "+i+"px;\n      }\n\n      ."+a+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(ie["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var n=N["default"]({nativeControlsForTouch:this.options_.nativeControlsForTouch,source:t,playerId:this.id(),techId:this.id()+"_"+e+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(n.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.src=t.src);var r=ie["default"].getTech(e);r||(r=l["default"].getComponent(e)),this.tech_=new r(n),this.tech_.ready(y.bind(this,this.handleTechReady_),!0),H["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"progress",this.handleTechProgress_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"suspend",this.handleTechSuspend_),this.on(this.tech_,"abort",this.handleTechAbort_),this.on(this.tech_,"emptied",this.handleTechEmptied_),this.on(this.tech_,"stalled",this.handleTechStalled_),this.on(this.tech_,"loadedmetadata",this.handleTechLoadedMetaData_),this.on(this.tech_,"loadeddata",this.handleTechLoadedData_),this.on(this.tech_,"timeupdate",this.handleTechTimeUpdate_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.on(this.tech_,"volumechange",this.handleTechVolumeChange_),this.on(this.tech_,"texttrackchange",this.handleTechTextTrackChange_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||g.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=H["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw p["default"].alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){x["default"]("deleting tag.poster throws in some browsers",e)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechProgress_=function(){this.trigger("progress")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechSuspend_=function(){this.trigger("suspend")},t.prototype.handleTechAbort_=function(){this.trigger("abort")},t.prototype.handleTechEmptied_=function(){this.trigger("emptied")},t.prototype.handleTechStalled_=function(){this.trigger("stalled")},t.prototype.handleTechLoadedMetaData_=function(){this.trigger("loadedmetadata")},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.handleTechLoadedData_=function(){this.trigger("loadeddata")},t.prototype.handleTechTimeUpdate_=function(){this.trigger("timeupdate")},t.prototype.handleTechRateChange_=function(){this.trigger("ratechange")},t.prototype.handleTechVolumeChange_=function(){this.trigger("volumechange")},t.prototype.handleTechTextTrackChange_=function(){this.trigger("texttrackchange")},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_&&this.tech_[e](t)}catch(e){throw x["default"](e),e}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?x["default"]("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?(x["default"]("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):x["default"](t),t}},t.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return!1!==this.techGet_("paused")},t.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){return void 0!==e?(this.techCall_("setCurrentTime",e),this):this.cache_.currentTime=this.techGet_("currentTime")||0},t.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:(e=parseFloat(e)||0,e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=S.createTimeRange(0,0)),e},t.prototype.bufferedPercent=function(){return E.bufferedPercent(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=P["default"];return this.isFullscreen(!0),e.requestFullscreen?(h.on(c["default"],e.fullscreenchange,y.bind(this,function t(){this.isFullscreen(c["default"][e.fullscreenElement]),!1===this.isFullscreen()&&h.off(c["default"],e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=P["default"];return this.isFullscreen(!1),e.requestFullscreen?c["default"][e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=c["default"].documentElement.style.overflow,h.on(c["default"],"keydown",y.bind(this,this.fullWindowOnEscKey)),c["default"].documentElement.style.overflow="hidden",g.addElClass(c["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,h.off(c["default"],"keydown",this.fullWindowOnEscKey),c["default"].documentElement.style.overflow=this.docOrigOverflow,g.removeElClass(c["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=T["default"](r[n]),o=ie["default"].getTech(i);if(o||(o=l["default"].getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else x["default"].error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,n=this.options_.techOrder.map(T["default"]).map(function(e){return[e,ie["default"].getTech(e)||l["default"].getComponent(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(x["default"].error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){if(r=n(e,t))return!0})}),r},i=function(e){return function(t,n){return e(n,t)}},o=function(e,n){var r=e[0];if(e[1].canPlaySource(n,t.options_[r.toLowerCase()]))return{source:n,tech:r}};return(this.options_.sourceOrder?r(e,n,i(o)):r(n,e,o))||!1},t.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=ie["default"].getTech(this.techName_);return t||(t=l["default"].getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e,this.options_[this.techName_.toLowerCase()])?this.sourceList_([e]):(this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_(T["default"](this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new j["default"](e),this.addClass("vjs-error"),x["default"].error("(CODE:"+this.error_.code+" "+j["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},t.prototype.ended=function(){return this.techGet_("ended")},t.prototype.seeking=function(){return this.techGet_("seeking")},t.prototype.seekable=function(){return this.techGet_("seekable")},t.prototype.reportUserActivity=function(){this.userActivity_=!0},t.prototype.userActive=function(e){return void 0!==e?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=y.bind(this,this.reportUserActivity),i=function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())},o=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},a=function(){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("keydown",r),this.on("keyup",r);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e>0&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.networkState=function(){return this.techGet_("networkState")},t.prototype.readyState=function(){return this.techGet_("readyState")},t.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new Y["default"],this.videoTracks_)},t.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new z["default"],this.audioTracks_)},t.prototype.textTracks=function(){return this.tech_&&this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){return this.tech_&&this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){return this.tech_&&this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,n){return this.tech_&&this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e){return this.tech_&&this.tech_.addRemoteTextTrack(e)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.track,n=void 0===t?arguments[0]:t;this.tech_&&this.tech_.removeRemoteTextTrack(n)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:(this.language_=(""+e).toLowerCase(),this)},t.prototype.languages=function(){return V["default"](t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=V["default"](this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];r=V["default"](r),r.player=void 0,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var r=new ne["default"](n,t);return n.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=g.getElAttributes(e),r=n["data-setup"];if(null!==r){var i=L["default"](r||"{}"),o=i[0],a=i[1];o&&x["default"].error(o),N["default"](n,a)}if(N["default"](t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,u=s.length;l<u;l++){var c=s[l],d=c.nodeName.toLowerCase();"source"===d?t.sources.push(g.getElAttributes(c)):"track"===d&&t.tracks.push(g.getElAttributes(c))}return t},t}(l["default"]));ae.players={};var se=p["default"].navigator;ae.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:se.languages&&se.languages[0]||se.userLanguage||se.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},ae.prototype.handleTechLoadStart_,ae.prototype.handleLoadedMetaData_,ae.prototype.handleTextData_,ae.prototype.handleLoadedData_,ae.prototype.handleUserActive_,ae.prototype.handleUserInactive_,ae.prototype.handleTimeUpdate_,ae.prototype.handleTechEnded_,ae.prototype.handleVolumeChange_,ae.prototype.handleError_,ae.prototype.flexNotSupported_=function(){var e=c["default"].createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},l["default"].registerComponent("Player",ae),n["default"]=ae,t.exports=n["default"]},{"./big-play-button.js":63,"./component.js":67,"./control-bar/control-bar.js":70,"./error-display.js":103,"./fullscreen-api.js":106,"./loading-spinner.js":107,"./media-error.js":108,"./modal-dialog":112,"./poster-image.js":117,"./tech/html5.js":122,"./tech/loader.js":123,"./tech/tech.js":124,"./tracks/audio-track-list.js":125,"./tracks/text-track-display.js":130,"./tracks/text-track-list-converter.js":131,"./tracks/text-track-settings.js":133,"./tracks/video-track-list.js":138,"./utils/browser.js":140,"./utils/buffer.js":141,"./utils/dom.js":142,"./utils/events.js":143,"./utils/fn.js":144,"./utils/guid.js":146,"./utils/log.js":147,"./utils/merge-options.js":148,"./utils/stylesheet.js":149,"./utils/time-ranges.js":150,"./utils/to-title-case.js":151,"global/document":1,"global/window":2,"object.assign":45,"safe-json-parse/tuple":54}],114:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("./player.js"),o=r(i),a=function(e,t){o["default"].prototype[e]=t};n["default"]=a,t.exports=n["default"]},{"./player.js":113}],115:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../clickable-component.js"),l=i(s),u=e("../component.js"),c=i(u),d=e("./popup.js"),p=(i(d),e("../utils/dom.js")),f=(r(p),e("../utils/fn.js")),h=(r(f),e("../utils/to-title-case.js")),m=(i(h),function(e){function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),e.call(this,n,r),this.update()}return a(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return"vjs-menu-button "+(t+=!0===this.options_.inline?"-inline":"-popup")+" "+e.prototype.buildCSSClass.call(this)},t}(l["default"]));c["default"].registerComponent("PopupButton",m),n["default"]=m,t.exports=n["default"]},{"../clickable-component.js":65,"../component.js":67,"../utils/dom.js":142,"../utils/fn.js":144,"../utils/to-title-case.js":151,"./popup.js":116}],116:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component.js"),l=i(s),u=e("../utils/dom.js"),c=r(u),d=e("../utils/fn.js"),p=r(d),f=e("../utils/events.js"),h=r(f),m=function(e){function t(){o(this,t),e.apply(this,arguments)}return a(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",p.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=c.createEl(t,{className:"vjs-menu-content"});var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),h.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t}(l["default"]);l["default"].registerComponent("Popup",m),n["default"]=m,t.exports=n["default"]},{"../component.js":67,"../utils/dom.js":142,"../utils/events.js":143,"../utils/fn.js":144}],117:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./clickable-component.js"),l=i(s),u=e("./component.js"),c=i(u),d=e("./utils/fn.js"),p=r(d),f=e("./utils/dom.js"),h=r(f),m=e("./utils/browser.js"),g=r(m),v=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.update(),n.on("posterchange",p.bind(this,this.update))}return a(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=h.createEl("div",{className:"vjs-poster",tabIndex:-1});return g.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=h.createEl("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t}(l["default"]);c["default"].registerComponent("PosterImage",v),n["default"]=v,t.exports=n["default"]},{"./clickable-component.js":65,"./component.js":67,"./utils/browser.js":140,"./utils/dom.js":142,"./utils/fn.js":144}],118:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var o=e("./utils/events.js"),a=i(o),s=e("global/document"),l=r(s),u=e("global/window"),c=r(u),d=!1,p=void 0,f=function(){var e=l["default"].getElementsByTagName("video"),t=l["default"].getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var r=0,i=e.length;r<i;r++)n.push(e[r]);if(t&&t.length>0)for(var r=0,i=t.length;r<i;r++)n.push(t[r]);if(n&&n.length>0)for(var r=0,i=n.length;r<i;r++){var o=n[r];if(!o||!o.getAttribute){h(1);break}if(void 0===o.player){var a=o.getAttribute("data-setup");null!==a&&p(o)}}else d||h(1)},h=function(e,t){t&&(p=t),setTimeout(f,e)};"complete"===l["default"].readyState?d=!0:a.one(c["default"],"load",function(){d=!0});var m=function(){return d};n.autoSetup=f,n.autoSetupTimeout=h,n.hasLoaded=m},{"./utils/events.js":143,"global/document":1,"global/window":2}],119:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component.js"),l=i(s),u=e("../utils/dom.js"),c=r(u),d=e("object.assign"),p=i(d),f=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(n,"controlsvisible",this.update),this.on(n,this.playerEvent,this.update)}return a(t,e),t.prototype.createEl=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return n.className=n.className+" vjs-slider",n=p["default"]({tabIndex:0},n),r=p["default"]({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),c.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;c.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=n:t.el().style.width=n}}},t.prototype.calculateDistance=function(e){var t=c.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){
this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},t}(l["default"]);l["default"].registerComponent("Slider",f),n["default"]=f,t.exports=n["default"]},{"../component.js":67,"../utils/dom.js":142,"object.assign":45}],120:[function(e,t,n){"use strict";function r(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?!\w+=)/),r=void 0;return-1!==n?r=n+1:0===(n=r=e.lastIndexOf("/")+1)&&(n=r=e.length),t.connection=e.substring(0,n),t.stream=e.substring(r,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t){var n=e.rtmpSourceHandler.canPlayType(t.type);return n||(e.isStreamingSrc(t.src)?"maybe":"")},e.rtmpSourceHandler.handleSource=function(t,n){var r=e.streamToParts(t.src);n.setRtmpConnection(r.connection),n.setRtmpStream(r.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}n.__esModule=!0,n["default"]=r,t.exports=n["default"]},{}],121:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.charAt(0).toUpperCase()+e.slice(1);T["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function l(e){T[e]=function(){return this.el_.vjs_getProperty(e)}}n.__esModule=!0;for(var u=e("./tech"),c=i(u),d=e("../utils/dom.js"),p=r(d),f=e("../utils/url.js"),h=r(f),m=e("../utils/time-ranges.js"),g=e("./flash-rtmp"),v=i(g),y=e("../component"),b=i(y),w=e("global/window"),_=i(w),k=e("object.assign"),$=i(k),x=_["default"].navigator,C=function(e){function t(n,r){o(this,t),e.call(this,n,r),n.source&&this.ready(function(){this.setSource(n.source)},!0),n.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),_["default"].videojs=_["default"].videojs||{},_["default"].videojs.Flash=_["default"].videojs.Flash||{},_["default"].videojs.Flash.onReady=t.onReady,_["default"].videojs.Flash.onEvent=t.onEvent,_["default"].videojs.Flash.onError=t.onError,this.on("seeked",function(){this.lastSeekTarget_=void 0})}return a(t,e),t.prototype.createEl=function(){var e=this.options_;e.swf||(e.swf="//vjs.zencdn.net/swf/5.1.0/video-js.swf");var n=e.techId,r=$["default"]({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),i=$["default"]({wmode:"opaque",bgcolor:"#000000"},e.params),o=$["default"]({id:n,name:n,"class":"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,r,i,o),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){if(e=h.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()){var t=this;this.setTimeout(function(){t.play()},0)}},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=t>n.start(0)?t:n.start(0),t=t<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function(){if(0===this.readyState())return NaN;var e=this.el_.vjs_getProperty("duration");return e>=0?e:1/0},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?m.createTimeRange():m.createTimeRange(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?m.createTimeRange():m.createTimeRange(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(c["default"]),T=C.prototype,S="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),E="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),D=0;D<S.length;D++)l(S[D]),s(S[D]);for(var D=0;D<E.length;D++)l(E[D]);C.isSupported=function(){return C.version()[0]>=10},c["default"].withSourceHandlers(C),C.nativeSourceHandler={},C.nativeSourceHandler.canPlayType=function(e){return e in C.formats?"maybe":""},C.nativeSourceHandler.canHandleSource=function(e){function t(e){var t=h.getFileExtension(e);return t?"video/"+t:""}var n;return n=e.type?e.type.replace(/;.*/,"").toLowerCase():t(e.src),C.nativeSourceHandler.canPlayType(n)},C.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},C.nativeSourceHandler.dispose=function(){},C.registerSourceHandler(C.nativeSourceHandler),C.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},C.onReady=function(e){var t=p.getEl(e),n=t&&t.tech;n&&n.el()&&C.checkReady(n)},C.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){C.checkReady(e)},50))},C.onEvent=function(e,t){p.getEl(e).tech.trigger(t,Array.prototype.slice.call(arguments,2))},C.onError=function(e,t){var n=p.getEl(e).tech;return"srcnotfound"===t?n.error(4):void n.error("FLASH: "+t)},C.version=function(){var e="0,0,0";try{e=new _["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{x.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(x.plugins["Shockwave Flash 2.0"]||x.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(e){}}return e.split(",")},C.embed=function(e,t,n,r){var i=C.getEmbedCode(e,t,n,r);return p.createEl("div",{innerHTML:i}).childNodes[0]},C.getEmbedCode=function(e,t,n,r){var i="",o="",a="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){i+=e+"="+t[e]+"&amp;"}),n=$["default"]({movie:e,flashvars:i,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){o+='<param name="'+e+'" value="'+n[e]+'" />'}),r=$["default"]({data:e,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(e){a+=e+'="'+r[e]+'" '}),'<object type="application/x-shockwave-flash" '+a+">"+o+"</object>"},v["default"](C),b["default"].registerComponent("Flash",C),c["default"].registerTech("Flash",C),n["default"]=C,t.exports=n["default"]},{"../component":67,"../utils/dom.js":142,"../utils/time-ranges.js":150,"../utils/url.js":152,"./flash-rtmp":120,"./tech":124,"global/window":2,"object.assign":45}],122:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return e.raw=t,e}n.__esModule=!0;var l=s(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used. \n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used. \n            This may prevent text tracks from loading."]),u=e("./tech.js"),c=i(u),d=e("../component"),p=i(d),f=e("../utils/dom.js"),h=r(f),m=e("../utils/url.js"),g=r(m),v=e("../utils/fn.js"),y=r(v),b=e("../utils/log.js"),w=i(b),_=e("tsml"),k=i(_),$=e("../../../src/js/tracks/text-track.js"),x=(i($),e("../utils/browser.js")),C=r(x),T=e("global/document"),S=i(T),E=e("global/window"),D=i(E),A=e("object.assign"),M=i(A),P=e("../utils/merge-options.js"),O=i(P),j=e("../utils/to-title-case.js"),I=i(j),L=function(e){function t(n,r){var i=this;o(this,t),e.call(this,n,r);var a=n.source,s=!1;if(a&&(this.el_.currentSrc!==a.src||n.tag&&3===n.tag.initNetworkState_)?this.setSource(a):this.handleLateInit_(this.el_),this.el_.hasChildNodes()){for(var u=this.el_.childNodes,c=u.length,d=[];c--;){var p=u[c];"track"===p.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(p),this.remoteTextTracks().addTrack_(p.track),s||this.el_.hasAttribute("crossorigin")||!g.isCrossOrigin(p.src)||(s=!0)):d.push(p))}for(var f=0;f<d.length;f++)this.el_.removeChild(d[f])}["audio","video"].forEach(function(e){var t=I["default"](e);if(i["featuresNative"+t+"Tracks"]){var n=i.el()[e+"Tracks"];n&&n.addEventListener&&(n.addEventListener("change",y.bind(i,i["handle"+t+"TrackChange_"])),n.addEventListener("addtrack",y.bind(i,i["handle"+t+"TrackAdd_"])),n.addEventListener("removetrack",y.bind(i,i["handle"+t+"TrackRemove_"])),i.on("loadstart",i["removeOld"+t+"Tracks_"]))}}),this.featuresNativeTextTracks&&(s&&w["default"].warn(k["default"](l)),this.handleTextTrackChange_=y.bind(this,this.handleTextTrackChange),this.handleTextTrackAdd_=y.bind(this,this.handleTextTrackAdd),this.handleTextTrackRemove_=y.bind(this,this.handleTextTrackRemove),this.proxyNativeTextTracks_()),(C.TOUCH_ENABLED||C.IS_IPHONE||C.IS_NATIVE_ANDROID)&&!0===n.nativeControlsForTouch&&this.setControls(!0),this.triggerReady()}return a(t,e),t.prototype.dispose=function(){var n=this;["audio","video","text"].forEach(function(e){var t=I["default"](e),r=n.el_[e+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",n["handle"+t+"TrackChange_"]),r.removeEventListener("addtrack",n["handle"+t+"TrackAdd_"]),r.removeEventListener("removetrack",n["handle"+t+"TrackRemove_"])),r&&n.off("loadstart",n["removeOld"+t+"Tracks_"])}),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!1===this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=S["default"].createElement("video");var r=this.options_.tag&&h.getElAttributes(this.options_.tag),i=O["default"]({},r);C.TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete i.controls,h.setElAttributes(e,M["default"](i,{id:this.options_.techId,"class":"vjs-tech"}))}e.playerId=this.options_.playerId}for(var o=["autoplay","preload","loop","muted"],a=o.length-1;a>=0;a--){var s=o[a],l={};"undefined"!=typeof this.options_[s]&&(l[s]=this.options_[s]),h.setElAttributes(e,l)}return e},t.prototype.handleLateInit_=function(e){var t=this;if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var n=function(){var e=!1,n=function(){e=!0};t.on("loadstart",n);var r=function(){e||this.trigger("loadstart")};return t.on("loadedmetadata",r),t.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),e||this.trigger("loadstart")}),{v:void 0}}();if("object"==typeof n)return n.v}var r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},t.prototype.handleTextTrackChange=function(){var e=this.textTracks();this.textTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.handleVideoTrackChange_=function(){var e=this.videoTracks();this.videoTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},t.prototype.handleVideoTrackAdd_=function(e){this.videoTracks().addTrack_(e.track)},t.prototype.handleVideoTrackRemove_=function(e){this.videoTracks().removeTrack_(e.track)},t.prototype.handleAudioTrackChange_=function(){var e=this.audioTracks();this.audioTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},t.prototype.handleAudioTrackAdd_=function(e){this.audioTracks().addTrack_(e.track)},t.prototype.handleAudioTrackRemove_=function(e){this.audioTracks().removeTrack_(e.track)},t.prototype.removeOldTracks_=function(e,t){var n=[];if(t){for(var r=0;r<e.length;r++){for(var i=e[r],o=!1,a=0;a<t.length;a++)if(t[a]===i){o=!0;break}o||n.push(i)}for(var r=0;r<n.length;r++){var s=n[r];e.removeTrack_(s)}}},t.prototype.removeOldTextTracks_=function(){var e=this.textTracks(),t=this.el().textTracks;this.removeOldTracks_(e,t)},t.prototype.removeOldAudioTracks_=function(){var e=this.audioTracks(),t=this.el().audioTracks;this.removeOldTracks_(e,t)},t.prototype.removeOldVideoTracks_=function(){var e=this.videoTracks(),t=this.el().videoTracks;this.removeOldTracks_(e,t)},t.prototype.play=function(){var e=this.el_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(){})},t.prototype.pause=function(){this.el_.pause()},t.prototype.paused=function(){return this.el_.paused},t.prototype.currentTime=function(){return this.el_.currentTime},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){w["default"](e,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){return this.el_.duration||0},t.prototype.buffered=function(){return this.el_.buffered},t.prototype.volume=function(){return this.el_.volume},t.prototype.setVolume=function(e){this.el_.volume=e},t.prototype.muted=function(){return this.el_.muted},t.prototype.setMuted=function(e){this.el_.muted=e},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=D["default"].navigator.userAgent;if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;"webkitDisplayingFullscreen"in e&&this.one("webkitbeginfullscreen",function(){this.one("webkitendfullscreen",function(){this.trigger("fullscreenchange",{isFullscreen:!1})}),this.trigger("fullscreenchange",{isFullscreen:!0})}),e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},t.prototype.setSrc=function(e){this.el_.src=e},t.prototype.load=function(){this.el_.load()},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.poster=function(){return this.el_.poster},t.prototype.setPoster=function(e){this.el_.poster=e},t.prototype.preload=function(){return this.el_.preload},t.prototype.setPreload=function(e){this.el_.preload=e},t.prototype.autoplay=function(){return this.el_.autoplay},t.prototype.setAutoplay=function(e){this.el_.autoplay=e},t.prototype.controls=function(){return this.el_.controls},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.loop=function(){return this.el_.loop},t.prototype.setLoop=function(e){this.el_.loop=e},t.prototype.error=function(){return this.el_.error},t.prototype.seeking=function(){return this.el_.seeking},t.prototype.seekable=function(){return this.el_.seekable},t.prototype.ended=function(){return this.el_.ended},t.prototype.defaultMuted=function(){return this.el_.defaultMuted},t.prototype.playbackRate=function(){return this.el_.playbackRate},t.prototype.played=function(){return this.el_.played},t.prototype.setPlaybackRate=function(e){this.el_.playbackRate=e},t.prototype.networkState=function(){return this.el_.networkState},t.prototype.readyState=function(){return this.el_.readyState},t.prototype.videoWidth=function(){return this.el_.videoWidth},t.prototype.videoHeight=function(){return this.el_.videoHeight},t.prototype.textTracks=function(){return e.prototype.textTracks.call(this)},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.addRemoteTextTrack=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!this.featuresNativeTextTracks)return e.prototype.addRemoteTextTrack.call(this,t);var n=S["default"].createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t["default"]&&(n["default"]=t["default"]),t.id&&(n.id=t.id),t.src&&(n.src=t.src),this.el().appendChild(n),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.removeRemoteTextTrack.call(this,t);var n=void 0,r=void 0,i=this.remoteTextTrackEls().getTrackElementByTrack_(t);for(this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack_(t),n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},t}(c["default"]);L.TEST_VID=S["default"].createElement("video");var R=S["default"].createElement("track");R.kind="captions",R.srclang="en",R.label="English",L.TEST_VID.appendChild(R),L.isSupported=function(){try{L.TEST_VID.volume=.5}catch(e){return!1}return!!L.TEST_VID.canPlayType},c["default"].withSourceHandlers(L),L.nativeSourceHandler={},L.nativeSourceHandler.canPlayType=function(e){try{return L.TEST_VID.canPlayType(e)}catch(e){return""}},L.nativeSourceHandler.canHandleSource=function(e){var t;return e.type?L.nativeSourceHandler.canPlayType(e.type):e.src?(t=g.getFileExtension(e.src),L.nativeSourceHandler.canPlayType("video/"+t)):""},L.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},L.nativeSourceHandler.dispose=function(){},L.registerSourceHandler(L.nativeSourceHandler),L.canControlVolume=function(){try{var e=L.TEST_VID.volume;return L.TEST_VID.volume=e/2+.1,e!==L.TEST_VID.volume}catch(e){return!1}},L.canControlPlaybackRate=function(){if(C.IS_ANDROID&&C.IS_CHROME)return!1;try{var e=L.TEST_VID.playbackRate;return L.TEST_VID.playbackRate=e/2+.1,e!==L.TEST_VID.playbackRate}catch(e){return!1}},L.supportsNativeTextTracks=function(){var e;return e=!!L.TEST_VID.textTracks,e&&L.TEST_VID.textTracks.length>0&&(e="number"!=typeof L.TEST_VID.textTracks[0].mode),e&&C.IS_FIREFOX&&(e=!1),!e||"onremovetrack"in L.TEST_VID.textTracks||(e=!1),e},L.supportsNativeVideoTracks=function(){return!!L.TEST_VID.videoTracks},L.supportsNativeAudioTracks=function(){return!!L.TEST_VID.audioTracks},L.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],L.prototype.featuresVolumeControl=L.canControlVolume(),L.prototype.featuresPlaybackRate=L.canControlPlaybackRate(),L.prototype.movingMediaElementInDOM=!C.IS_IOS,L.prototype.featuresFullscreenResize=!0,L.prototype.featuresProgressEvents=!0,L.prototype.featuresNativeTextTracks=L.supportsNativeTextTracks(),L.prototype.featuresNativeVideoTracks=L.supportsNativeVideoTracks(),L.prototype.featuresNativeAudioTracks=L.supportsNativeAudioTracks();var N=void 0,F=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,V=/^video\/mp4/i;L.patchCanPlayType=function(){C.ANDROID_VERSION>=4&&(N||(N=L.TEST_VID.constructor.prototype.canPlayType),L.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&F.test(e)?"maybe":N.call(this,e)}),C.IS_OLD_ANDROID&&(N||(N=L.TEST_VID.constructor.prototype.canPlayType),L.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&V.test(e)?"maybe":N.call(this,e)})},L.unpatchCanPlayType=function(){var e=L.TEST_VID.constructor.prototype.canPlayType;return L.TEST_VID.constructor.prototype.canPlayType=N,N=null,e},L.patchCanPlayType(),L.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},L.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},p["default"].registerComponent("Html5",L),c["default"].registerTech("Html5",L),n["default"]=L,t.exports=n["default"]},{"../../../src/js/tracks/text-track.js":134,"../component":67,"../utils/browser.js":140,"../utils/dom.js":142,"../utils/fn.js":144,"../utils/log.js":147,"../utils/merge-options.js":148,"../utils/to-title-case.js":151,"../utils/url.js":152,"./tech.js":124,"global/document":1,"global/window":2,"object.assign":45,tsml:55}],123:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../component.js"),s=r(a),l=e("./tech.js"),u=r(l),c=e("global/window"),d=(r(c),e("../utils/to-title-case.js")),p=r(d),f=function(e){function t(n,r,o){if(i(this,t),e.call(this,n,r,o),r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var a=0,l=r.playerOptions.techOrder;a<l.length;a++){var c=p["default"](l[a]),d=u["default"].getTech(c);if(c||(d=s["default"].getComponent(c)),d&&d.isSupported()){n.loadTech_(c);break}}}return o(t,e),t}(s["default"]);s["default"].registerComponent("MediaLoader",f),n["default"]=f,t.exports=n["default"]},{"../component.js":67,"../utils/to-title-case.js":151,"./tech.js":124,"global/window":2}],124:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component"),l=i(s),u=e("../tracks/html-track-element"),c=i(u),d=e("../tracks/html-track-element-list"),p=i(d),f=e("../utils/merge-options.js"),h=i(f),m=e("../tracks/text-track"),g=i(m),v=e("../tracks/text-track-list"),y=i(v),b=e("../tracks/video-track"),w=(i(b),e("../tracks/video-track-list")),_=i(w),k=e("../tracks/audio-track-list"),$=i(k),x=e("../tracks/audio-track"),C=(i(x),e("../utils/fn.js")),T=r(C),S=e("../utils/log.js"),E=i(S),D=e("../utils/time-ranges.js"),A=e("../utils/buffer.js"),M=e("../media-error.js"),P=i(M),O=e("global/window"),j=i(O),I=e("global/document"),L=i(I),R=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];o(this,t),n.reportTouchActivity=!1,e.call(this,null,n,r),this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),this.textTracks_=n.textTracks,this.videoTracks_=n.videoTracks,this.audioTracks_=n.audioTracks,this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),!1!==n.nativeCaptions&&!1!==n.nativeTextTracks||(this.featuresNativeTextTracks=!1),this.featuresNativeTextTracks||this.on("ready",this.emulateTextTracks),this.initTextTrackListeners(),this.initTrackListeners(),this.emitTapEvents()}return a(t,e),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(T.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(){this.duration_=this.duration()},t.prototype.buffered=function(){return D.createTimeRange(0,0)},t.prototype.bufferedPercent=function(){return A.bufferedPercent(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack_(i)}})},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=new P["default"](e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?D.createTimeRange(0,0):D.createTimeRange()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTextTrackListeners=function(){var e=T.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",T.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},t.prototype.initTrackListeners=function(){var e=this;["video","audio"].forEach(function(t){var n=function(){e.trigger(t+"trackchange")},r=e[t+"Tracks"]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),e.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){j["default"].WebVTT||null==this.el().parentNode||function(){var t=L["default"].createElement("script");t.src=e.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},e.on("dispose",function(){t.onload=null,t.onerror=null}),j["default"].WebVTT=!0,e.el().parentNode.appendChild(t)}();var n=function(){return e.trigger("texttrackchange")},r=function(){n();for(var e=0;e<t.length;e++){var r=t[e];r.removeEventListener("cuechange",n),"showing"===r.mode&&r.addEventListener("cuechange",n)}};r(),t.addEventListener("change",r),this.on("dispose",function(){t.removeEventListener("change",r)})}},t.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new _["default"],this.videoTracks_},t.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new $["default"],this.audioTracks_},t.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new y["default"],this.textTracks_},t.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new y["default"],this.remoteTextTracks_},t.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new p["default"],this.remoteTextTrackEls_},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return N(this,e,t,n)},t.prototype.addRemoteTextTrack=function(e){var t=h["default"](e,{tech:this}),n=new c["default"](t);return this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),this.textTracks().addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(e){this.textTracks().removeTrack_(e);var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e)},t.prototype.setPoster=function(){},t.prototype.canPlayType=function(){return""},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");return t.techs_[e]=n,n},t.getTech=function(e){return t.techs_&&t.techs_[e]?t.techs_[e]:j["default"]&&j["default"].videojs&&j["default"].videojs[e]?(E["default"].warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),j["default"].videojs[e]):void 0},t}(l["default"]);R.prototype.textTracks_,R.prototype.audioTracks_,R.prototype.videoTracks_;var N=function(e,t,n,r){var i=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new g["default"](i);return o.addTrack_(a),a};R.prototype.featuresVolumeControl=!0,R.prototype.featuresFullscreenResize=!1,R.prototype.featuresPlaybackRate=!1,R.prototype.featuresProgressEvents=!1,R.prototype.featuresTimeupdateEvents=!1,R.prototype.featuresNativeTextTracks=!1,R.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""},["seekable","duration"].forEach(function(e){var t=this[e]
;"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);return n||(e.nativeSourceHandler?n=e.nativeSourceHandler:E["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),n!==e.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.successiveLoadStartListener_=function(){this.currentSource_=null,this.disposeSourceHandler(),this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&(this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose(),this.sourceHandler_=null)}},l["default"].registerComponent("Tech",R),l["default"].registerComponent("MediaTechController",R),R.registerTech("Tech",R),n["default"]=R,t.exports=n["default"]},{"../component":67,"../media-error.js":108,"../tracks/audio-track":126,"../tracks/audio-track-list":125,"../tracks/html-track-element":128,"../tracks/html-track-element-list":127,"../tracks/text-track":134,"../tracks/text-track-list":132,"../tracks/video-track":139,"../tracks/video-track-list":138,"../utils/buffer.js":141,"../utils/fn.js":144,"../utils/log.js":147,"../utils/merge-options.js":148,"../utils/time-ranges.js":150,"global/document":1,"global/window":2}],125:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-list"),l=i(s),u=e("../utils/browser.js"),c=r(u),d=e("global/document"),p=i(d),f=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].enabled=!1)},h=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,t);for(var r=void 0,i=n.length-1;i>=0;i--)if(n[i].enabled){f(n,n[i]);break}if(c.IS_IE8){r=p["default"].createElement("custom");for(var a in l["default"].prototype)"constructor"!==a&&(r[a]=l["default"].prototype[a]);for(var a in t.prototype)"constructor"!==a&&(r[a]=t.prototype[a])}return r=e.call(this,n,r),r.changing_=!1,r}return a(t,e),t.prototype.addTrack_=function(t){var n=this;t.enabled&&f(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,f(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(l["default"]);n["default"]=h,t.exports=n["default"]},{"../utils/browser.js":140,"./track-list":136,"global/document":1}],126:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-enums"),l=e("./track"),u=i(l),c=e("../utils/merge-options"),d=i(c),p=e("../utils/browser.js"),f=r(p),h=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t);var r=d["default"](n,{kind:s.AudioTrackKind[n.kind]||""}),i=e.call(this,r),a=!1;if(f.IS_IE8)for(var l in t.prototype)"constructor"!==l&&(i[l]=t.prototype[l]);return Object.defineProperty(i,"enabled",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("enabledchange"))}}),r.enabled&&(i.enabled=r.enabled),i.loaded_=!0,i}return a(t,e),t}(u["default"]);n["default"]=h,t.exports=n["default"]},{"../utils/browser.js":140,"../utils/merge-options":148,"./track":137,"./track-enums":135}],127:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("../utils/browser.js"),s=i(a),l=e("global/document"),u=r(l),c=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,e);var n=this;if(s.IS_IE8){n=u["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var i=0,a=t.length;i<a;i++)n.addTrackElement_(t[i]);if(s.IS_IE8)return n}return e.prototype.addTrackElement_=function(e){this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();n["default"]=c,t.exports=n["default"]},{"../utils/browser.js":140,"global/document":1}],128:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../utils/browser.js"),l=i(s),u=e("global/document"),c=r(u),d=e("../event-target"),p=r(d),f=e("../tracks/text-track"),h=r(f),m=0,g=2,v=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t),e.call(this);var r=void 0,i=this;if(l.IS_IE8){i=c["default"].createElement("custom");for(var a in t.prototype)"constructor"!==a&&(i[a]=t.prototype[a])}var s=new h["default"](n);if(i.kind=s.kind,i.src=s.src,i.srclang=s.language,i.label=s.label,i["default"]=s["default"],Object.defineProperty(i,"readyState",{get:function(){return r}}),Object.defineProperty(i,"track",{get:function(){return s}}),r=m,s.addEventListener("loadeddata",function(){r=g,i.trigger({type:"load",target:i})}),l.IS_IE8)return i}return a(t,e),t}(p["default"]);v.prototype.allowedEvents_={load:"load"},v.NONE=m,v.LOADING=1,v.LOADED=g,v.ERROR=3,n["default"]=v,t.exports=n["default"]},{"../event-target":104,"../tracks/text-track":134,"../utils/browser.js":140,"global/document":1}],129:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("../utils/browser.js"),s=i(a),l=e("global/document"),u=r(l),c=function(){function e(t){o(this,e);var n=this;if(s.IS_IE8){n=u["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}if(e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),s.IS_IE8)return n}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}();n["default"]=c,t.exports=n["default"]},{"../utils/browser.js":140,"global/document":1}],130:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function l(e,t,n){try{e.style[t]=n}catch(e){}}n.__esModule=!0;var u=e("../component"),c=i(u),d=e("../menu/menu.js"),p=(i(d),e("../menu/menu-item.js")),f=(i(p),e("../menu/menu-button.js")),h=(i(f),e("../utils/fn.js")),m=r(h),g=e("global/document"),v=(i(g),e("global/window")),y=i(v),b="#222",w="#ccc",_={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},k=function(e){function t(n,r,i){o(this,t),e.call(this,n,r,i),n.on("loadstart",m.bind(this,this.toggleDisplay)),n.on("texttrackchange",m.bind(this,this.updateDisplay)),n.ready(m.bind(this,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",m.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++){var r=e[t];this.player_.addRemoteTextTrack(r)}var i={captions:1,subtitles:1},o=this.player_.textTracks(),a=void 0,s=void 0;if(o){for(var t=0;t<o.length;t++){var r=o[t];r["default"]&&("descriptions"!==r.kind||a?r.kind in i&&!s&&(s=r):a=r)}s?s.mode="showing":a&&(a.mode="showing")}}))}return a(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"assertive","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof y["default"].WebVTT&&y["default"].WebVTT.processCues(y["default"],[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?this.updateForTrack(n):t&&this.updateForTrack(t)}},t.prototype.updateForTrack=function(e){if("function"==typeof y["default"].WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],r=0;r<e.activeCues.length;r++)n.push(e.activeCues[r]);y["default"].WebVTT.processCues(y["default"],n,this.el_);for(var i=n.length;i--;){var o=n[i];if(o){var a=o.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&l(a.firstChild,"color",s(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&l(a.firstChild,"backgroundColor",s(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?l(a,"backgroundColor",s(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+b+", 2px 2px 4px "+b+", 2px 2px 5px "+b:"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+b+", 2px 2px "+b+", 3px 3px "+b:"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+w+", 0 1px "+w+", -1px -1px "+b+", 0 -1px "+b:"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+b+", 0 0 4px "+b+", 0 0 4px "+b+", 0 0 4px "+b)),t.fontPercent&&1!==t.fontPercent){var u=y["default"].parseFloat(a.style.fontSize);a.style.fontSize=u*t.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=_[t.fontFamily])}}}},t}(c["default"]);c["default"].registerComponent("TextTrackDisplay",k),n["default"]=k,t.exports=n["default"]},{"../component":67,"../menu/menu-button.js":109,"../menu/menu-item.js":110,"../menu/menu.js":111,"../utils/fn.js":144,"global/document":1,"global/window":2}],131:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},i=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=r(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(r))},o=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()};n["default"]={textTracksToJson:i,jsonToTextTracks:o,trackToJson_:r},t.exports=n["default"]},{}],132:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-list"),l=i(s),u=e("../utils/fn.js"),c=r(u),d=e("../utils/browser.js"),p=r(d),f=e("global/document"),h=i(f),m=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,t);var r=void 0;if(p.IS_IE8){r=h["default"].createElement("custom");for(var i in l["default"].prototype)"constructor"!==i&&(r[i]=l["default"].prototype[i]);for(var i in t.prototype)"constructor"!==i&&(r[i]=t.prototype[i])}return r=e.call(this,n,r)}return a(t,e),t.prototype.addTrack_=function(t){e.prototype.addTrack_.call(this,t),t.addEventListener("modechange",c.bind(this,function(){this.trigger("change")}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(l["default"]);n["default"]=m,t.exports=n["default"]},{"../utils/browser.js":140,"../utils/fn.js":144,"./track-list":136,"global/document":1}],133:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=void 0;return e.selectedOptions?t=e.selectedOptions[0]:e.options&&(t=e.options[e.options.selectedIndex]),t.value}function l(e,t){if(t){var n=void 0;for(n=0;n<e.options.length;n++){if(e.options[n].value===t)break}e.selectedIndex=n}}function u(e,t,n){return'\n    <div role="document">\n      <div role="heading" aria-level="1" id="'+t+'" class="vjs-control-text">Captions Settings Dialog</div>\n      <div id="'+n+'" class="vjs-control-text">Beginning of dialog window. Escape will cancel and close the window.</div>\n      <div class="vjs-tracksettings">\n        <div class="vjs-tracksettings-colors">\n          <fieldset class="vjs-fg-color vjs-tracksetting">\n            <legend>Text</legend>\n            <label class="vjs-label" for="captions-foreground-color-'+e+'">Color</label>\n            <select id="captions-foreground-color-'+e+'">\n              <option value="#FFF" selected>White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-text-opacity vjs-opacity">\n              <label class="vjs-label" for="captions-foreground-opacity-'+e+'">Transparency</label>\n              <select id="captions-foreground-opacity-'+e+'">\n                <option value="1" selected>Opaque</option>\n                <option value="0.5">Semi-Opaque</option>\n              </select>\n            </span>\n          </fieldset>\n          <fieldset class="vjs-bg-color vjs-tracksetting">\n            <legend>Background</legend>\n            <label class="vjs-label" for="captions-background-color-'+e+'">Color</label>\n            <select id="captions-background-color-'+e+'">\n              <option value="#000" selected>Black</option>\n              <option value="#FFF">White</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-bg-opacity vjs-opacity">\n              <label class="vjs-label" for="captions-background-opacity-'+e+'">Transparency</label>\n              <select id="captions-background-opacity-'+e+'">\n                <option value="1" selected>Opaque</option>\n                <option value="0.5">Semi-Transparent</option>\n                <option value="0">Transparent</option>\n              </select>\n            </span>\n          </fieldset>\n          <fieldset class="window-color vjs-tracksetting">\n            <legend>Window</legend>\n            <label class="vjs-label" for="captions-window-color-'+e+'">Color</label>\n            <select id="captions-window-color-'+e+'">\n              <option value="#000" selected>Black</option>\n              <option value="#FFF">White</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-window-opacity vjs-opacity">\n              <label class="vjs-label" for="captions-window-opacity-'+e+'">Transparency</label>\n              <select id="captions-window-opacity-'+e+'">\n                <option value="0" selected>Transparent</option>\n                <option value="0.5">Semi-Transparent</option>\n                <option value="1">Opaque</option>\n              </select>\n            </span>\n          </fieldset>\n        </div> <!-- vjs-tracksettings-colors -->\n        <div class="vjs-tracksettings-font">\n          <div class="vjs-font-percent vjs-tracksetting">\n            <label class="vjs-label" for="captions-font-size-'+e+'">Font Size</label>\n            <select id="captions-font-size-'+e+'">\n              <option value="0.50">50%</option>\n              <option value="0.75">75%</option>\n              <option value="1.00" selected>100%</option>\n              <option value="1.25">125%</option>\n              <option value="1.50">150%</option>\n              <option value="1.75">175%</option>\n              <option value="2.00">200%</option>\n              <option value="3.00">300%</option>\n              <option value="4.00">400%</option>\n            </select>\n          </div>\n          <div class="vjs-edge-style vjs-tracksetting">\n            <label class="vjs-label" for="captions-edge-style-'+e+'">Text Edge Style</label>\n            <select id="captions-edge-style-'+e+'">\n              <option value="none" selected>None</option>\n              <option value="raised">Raised</option>\n              <option value="depressed">Depressed</option>\n              <option value="uniform">Uniform</option>\n              <option value="dropshadow">Dropshadow</option>\n            </select>\n          </div>\n          <div class="vjs-font-family vjs-tracksetting">\n            <label class="vjs-label" for="captions-font-family-'+e+'">Font Family</label>\n            <select id="captions-font-family-'+e+'">\n              <option value="proportionalSansSerif" selected>Proportional Sans-Serif</option>\n              <option value="monospaceSansSerif">Monospace Sans-Serif</option>\n              <option value="proportionalSerif">Proportional Serif</option>\n              <option value="monospaceSerif">Monospace Serif</option>\n              <option value="casual">Casual</option>\n              <option value="script">Script</option>\n              <option value="small-caps">Small Caps</option>\n            </select>\n          </div>\n        </div> <!-- vjs-tracksettings-font -->\n        <div class="vjs-tracksettings-controls">\n          <button class="vjs-default-button">Defaults</button>\n          <button class="vjs-done-button">Done</button>\n        </div>\n      </div> <!-- vjs-tracksettings -->\n    </div> <!--  role="document" -->'}n.__esModule=!0;var c=e("../component"),d=i(c),p=e("../utils/events.js"),f=r(p),h=e("../utils/fn.js"),m=r(h),g=e("../utils/log.js"),v=i(g),y=e("safe-json-parse/tuple"),b=i(y),w=e("global/window"),_=i(w),k=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.hide(),void 0===r.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),f.on(this.$(".vjs-done-button"),"click",m.bind(this,function(){this.saveSettings(),this.hide()})),f.on(this.$(".vjs-default-button"),"click",m.bind(this,function(){this.$(".vjs-fg-color > select").selectedIndex=0,this.$(".vjs-bg-color > select").selectedIndex=0,this.$(".window-color > select").selectedIndex=0,this.$(".vjs-text-opacity > select").selectedIndex=0,this.$(".vjs-bg-opacity > select").selectedIndex=0,this.$(".vjs-window-opacity > select").selectedIndex=0,this.$(".vjs-edge-style select").selectedIndex=0,this.$(".vjs-font-family select").selectedIndex=0,this.$(".vjs-font-percent select").selectedIndex=2,this.updateDisplay()})),f.on(this.$(".vjs-fg-color > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-bg-color > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".window-color > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-text-opacity > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-bg-opacity > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-window-opacity > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-font-percent select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-edge-style select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-font-family select"),"change",m.bind(this,this.updateDisplay)),this.options_.persistTextTrackSettings&&this.restoreSettings()}return a(t,e),t.prototype.createEl=function(){var t=this.id_,n="TTsettingsDialogLabel-"+t,r="TTsettingsDialogDescription-"+t;return e.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:u(t,n,r),tabIndex:-1},{role:"dialog","aria-labelledby":n,"aria-describedby":r})},t.prototype.getValues=function(){var e=s(this.$(".vjs-edge-style select")),t=s(this.$(".vjs-font-family select")),n=s(this.$(".vjs-fg-color > select")),r=s(this.$(".vjs-text-opacity > select")),i=s(this.$(".vjs-bg-color > select")),o=s(this.$(".vjs-bg-opacity > select")),a=s(this.$(".window-color > select")),l=s(this.$(".vjs-window-opacity > select")),u=_["default"].parseFloat(s(this.$(".vjs-font-percent > select"))),c={backgroundOpacity:o,textOpacity:r,windowOpacity:l,edgeStyle:e,fontFamily:t,color:n,backgroundColor:i,windowColor:a,fontPercent:u};for(var d in c)(""===c[d]||"none"===c[d]||"fontPercent"===d&&1===c[d])&&delete c[d];return c},t.prototype.setValues=function(e){l(this.$(".vjs-edge-style select"),e.edgeStyle),l(this.$(".vjs-font-family select"),e.fontFamily),l(this.$(".vjs-fg-color > select"),e.color),l(this.$(".vjs-text-opacity > select"),e.textOpacity),l(this.$(".vjs-bg-color > select"),e.backgroundColor),l(this.$(".vjs-bg-opacity > select"),e.backgroundOpacity),l(this.$(".window-color > select"),e.windowColor),l(this.$(".vjs-window-opacity > select"),e.windowOpacity);var t=e.fontPercent;t&&(t=t.toFixed(2)),l(this.$(".vjs-font-percent > select"),t)},t.prototype.restoreSettings=function(){var e=void 0,t=void 0;try{var n=b["default"](_["default"].localStorage.getItem("vjs-text-track-settings"));e=n[0],t=n[1],e&&v["default"].error(e)}catch(e){v["default"].warn(e)}t&&this.setValues(t)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.getOwnPropertyNames(e).length>0?_["default"].localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):_["default"].localStorage.removeItem("vjs-text-track-settings")}catch(e){v["default"].warn(e)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t}(d["default"]);d["default"].registerComponent("TextTrackSettings",k),n["default"]=k,t.exports=n["default"]},{"../component":67,"../utils/events.js":143,"../utils/fn.js":144,"../utils/log.js":147,"global/window":2,"safe-json-parse/tuple":54}],134:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./text-track-cue-list"),l=i(s),u=e("../utils/fn.js"),c=r(u),d=e("./track-enums"),p=e("../utils/log.js"),f=i(p),h=e("global/document"),m=(i(h),e("global/window")),g=i(m),v=e("./track.js"),y=i(v),b=e("../utils/url.js"),w=e("xhr"),_=i(w),k=e("../utils/merge-options"),$=i(k),x=e("../utils/browser.js"),C=r(x),T=function(e,t){var n=new g["default"].WebVTT.Parser(g["default"],g["default"].vttjs,g["default"].WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(console.groupCollapsed,r.forEach(function(e){return f["default"].error(e)}),console.groupEnd),n.flush()},S=function(e,t){var n={uri:e},r=b.isCrossOrigin(e);r&&(n.cors=r),_["default"](n,c.bind(this,function(e,n,r){return e?f["default"].error(e,n):(t.loaded_=!0,void("function"!=typeof g["default"].WebVTT?t.tech_&&function(){var e=function(){return T(r,t)};t.tech_.on("vttjsloaded",e),t.tech_.on("vttjserror",function(){f["default"].error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",e)})}():T(r,t)))}))},E=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(o(this,t),!n.tech)throw new Error("A tech was not provided.");var r=$["default"](n,{kind:d.TextTrackKind[n.kind]||"subtitles",language:n.language||n.srclang||""}),i=d.TextTrackMode[r.mode]||"disabled",a=r["default"];"metadata"!==r.kind&&"chapters"!==r.kind||(i="hidden");var s=e.call(this,r);if(s.tech_=r.tech,C.IS_IE8)for(var u in t.prototype)"constructor"!==u&&(s[u]=t.prototype[u]);s.cues_=[],s.activeCues_=[];var p=new l["default"](s.cues_),f=new l["default"](s.activeCues_),h=!1,m=c.bind(s,function(){this.activeCues,h&&(this.trigger("cuechange"),h=!1)});return"disabled"!==i&&s.tech_.on("timeupdate",m),Object.defineProperty(s,"default",{get:function(){return a},set:function(){}}),Object.defineProperty(s,"mode",{get:function(){return i},set:function(e){d.TextTrackMode[e]&&(i=e,"showing"===i&&this.tech_.on("timeupdate",m),this.trigger("modechange"))}}),Object.defineProperty(s,"cues",{get:function(){return this.loaded_?p:null},set:function(){}}),Object.defineProperty(s,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return f;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(h=!1,t.length!==this.activeCues_.length)h=!0;else for(var n=0;n<t.length;n++)-1===this.activeCues_.indexOf(t[n])&&(h=!0);return this.activeCues_=t,f.setCues_(this.activeCues_),f},set:function(){}}),r.src?(s.src=r.src,S(r.src,s)):s.loaded_=!0,s}return a(t,e),t.prototype.addCue=function(e){var t=this.tech_.textTracks();if(t)for(var n=0;n<t.length;n++)t[n]!==this&&t[n].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=!1,n=0,r=this.cues_.length;n<r;n++){this.cues_[n]===e&&(this.cues_.splice(n,1),t=!0)}t&&this.cues.setCues_(this.cues_)},t}(y["default"]);E.prototype.allowedEvents_={cuechange:"cuechange"},n["default"]=E,t.exports=n["default"]},{"../utils/browser.js":140,"../utils/fn.js":144,"../utils/log.js":147,"../utils/merge-options":148,"../utils/url.js":152,"./text-track-cue-list":129,"./track-enums":135,"./track.js":137,"global/document":1,"global/window":2,xhr:56}],135:[function(e,t,n){"use strict";n.__esModule=!0;var r={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},i={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},o={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},a={disabled:"disabled",hidden:"hidden",showing:"showing"};n["default"]={VideoTrackKind:r,AudioTrackKind:i,TextTrackKind:o,
TextTrackMode:a},t.exports=n["default"]},{}],136:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../event-target"),l=i(s),u=e("../utils/fn.js"),c=(r(u),e("../utils/browser.js")),d=r(c),p=e("global/document"),f=i(p),h=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],r=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(o(this,t),e.call(this),!r&&(r=this,d.IS_IE8)){r=f["default"].createElement("custom");for(var i in t.prototype)"constructor"!==i&&(r[i]=t.prototype[i])}r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var a=0;a<n.length;a++)r.addTrack_(n[a]);return r}return a(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(l["default"]);h.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var m in h.prototype.allowedEvents_)h.prototype["on"+m]=null;n["default"]=h,t.exports=n["default"]},{"../event-target":104,"../utils/browser.js":140,"../utils/fn.js":144,"global/document":1}],137:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../utils/browser.js"),l=i(s),u=e("global/document"),c=r(u),d=e("../utils/guid.js"),p=i(d),f=e("../event-target"),h=r(f),m=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t),e.call(this);var r=this;if(l.IS_IE8){r=c["default"].createElement("custom");for(var i in t.prototype)"constructor"!==i&&(r[i]=t.prototype[i])}var a={id:n.id||"vjs_track_"+p.newGUID(),kind:n.kind||"",label:n.label||"",language:n.language||""},s=function(e){Object.defineProperty(r,e,{get:function(){return a[e]},set:function(){}})};for(var u in a)s(u);return r}return a(t,e),t}(h["default"]);n["default"]=m,t.exports=n["default"]},{"../event-target":104,"../utils/browser.js":140,"../utils/guid.js":146,"global/document":1}],138:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-list"),l=i(s),u=e("../utils/browser.js"),c=r(u),d=e("global/document"),p=i(d),f=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].selected=!1)},h=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,t);for(var r=void 0,i=n.length-1;i>=0;i--)if(n[i].selected){f(n,n[i]);break}if(c.IS_IE8){r=p["default"].createElement("custom");for(var a in l["default"].prototype)"constructor"!==a&&(r[a]=l["default"].prototype[a]);for(var a in t.prototype)"constructor"!==a&&(r[a]=t.prototype[a])}return r=e.call(this,n,r),r.changing_=!1,Object.defineProperty(r,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r}return a(t,e),t.prototype.addTrack_=function(t){var n=this;t.selected&&f(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,f(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(l["default"]);n["default"]=h,t.exports=n["default"]},{"../utils/browser.js":140,"./track-list":136,"global/document":1}],139:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-enums"),l=e("./track"),u=i(l),c=e("../utils/merge-options"),d=i(c),p=e("../utils/browser.js"),f=r(p),h=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t);var r=d["default"](n,{kind:s.VideoTrackKind[n.kind]||""}),i=e.call(this,r),a=!1;if(f.IS_IE8)for(var l in t.prototype)"constructor"!==l&&(i[l]=t.prototype[l]);return Object.defineProperty(i,"selected",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("selectedchange"))}}),r.selected&&(i.selected=r.selected),i}return a(t,e),t}(u["default"]);n["default"]=h,t.exports=n["default"]},{"../utils/browser.js":140,"../utils/merge-options":148,"./track":137,"./track-enums":135}],140:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("global/document"),o=r(i),a=e("global/window"),s=r(a),l=s["default"].navigator.userAgent,u=/AppleWebKit\/([\d.]+)/i.exec(l),c=u?parseFloat(u.pop()):null,d=/iPad/i.test(l);n.IS_IPAD=d;var p=/iPhone/i.test(l)&&!d;n.IS_IPHONE=p;var f=/iPod/i.test(l);n.IS_IPOD=f;var h=p||d||f;n.IS_IOS=h;var m=function(){var e=l.match(/OS (\d+)_/i);if(e&&e[1])return e[1]}();n.IOS_VERSION=m;var g=/Android/i.test(l);n.IS_ANDROID=g;var v=function(){var e,t,n=l.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return n?(e=n[1]&&parseFloat(n[1]),t=n[2]&&parseFloat(n[2]),e&&t?parseFloat(n[1]+"."+n[2]):e||null):null}();n.ANDROID_VERSION=v;var y=g&&/webkit/i.test(l)&&v<2.3;n.IS_OLD_ANDROID=y;var b=g&&v<5&&c<537;n.IS_NATIVE_ANDROID=b;var w=/Firefox/i.test(l);n.IS_FIREFOX=w;var _=/Edge/i.test(l);n.IS_EDGE=_;var k=!_&&/Chrome/i.test(l);n.IS_CHROME=k;var $=/MSIE\s8\.0/.test(l);n.IS_IE8=$;var x=function(e){return e&&parseFloat(e[1])}(/MSIE\s(\d+)\.\d/.exec(l));n.IE_VERSION=x;var C=!!("ontouchstart"in s["default"]||s["default"].DocumentTouch&&o["default"]instanceof s["default"].DocumentTouch);n.TOUCH_ENABLED=C;var T="backgroundSize"in o["default"].createElement("video").style;n.BACKGROUND_SIZE_SUPPORTED=T},{"global/document":1,"global/window":2}],141:[function(e,t,n){"use strict";function r(e,t){var n,r,o=0;if(!t)return 0;e&&e.length||(e=i.createTimeRange(0,0));for(var a=0;a<e.length;a++)n=e.start(a),r=e.end(a),r>t&&(r=t),o+=r-n;return o/t}n.__esModule=!0,n.bufferedPercent=r;var i=e("./time-ranges.js")},{"./time-ranges.js":150}],142:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return e.raw=t,e}function a(e){return"string"==typeof e&&/\S/.test(e)}function s(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function l(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function u(e){return function(t,n){return a(t)?(a(n)&&(n=I["default"].querySelector(n)),(S(n)?n:I["default"])[e](t)):I["default"][e](null)}}function c(e){return 0===e.indexOf("#")&&(e=e.slice(1)),I["default"].getElementById(e)}function d(){var e=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=I["default"].createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(B["default"].warn(U["default"](O,e,n)),r.setAttribute(e,n)):r[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){n[e],r.setAttribute(e,n[e])}),r}function p(e,t){"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t}function f(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function h(e){var t=e[q];return t||(t=e[q]=F.newGUID()),z[t]||(z[t]={}),z[t]}function m(e){var t=e[q];return!!t&&!!Object.getOwnPropertyNames(z[t]).length}function g(e){var t=e[q];if(t){delete z[t];try{delete e[q]}catch(t){e.removeAttribute?e.removeAttribute(q):e[q]=null}}}function v(e,t){return s(t),e.classList?e.classList.contains(t):l(t).test(e.className)}function y(e,t){return e.classList?e.classList.add(t):v(e,t)||(e.className=(e.className+" "+t).trim()),e}function b(e,t){return e.classList?e.classList.remove(t):(s(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function w(e,t,n){var r=v(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?y(e,t):b(e,t),e}function _(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null===r||void 0===r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)})}function k(e){var t,n,r,i,o;if(t={},n=",autoplay,controls,loop,muted,default,",e&&e.attributes&&e.attributes.length>0){r=e.attributes;for(var a=r.length-1;a>=0;a--)i=r[a].name,o=r[a].value,"boolean"!=typeof e[i]&&-1===n.indexOf(","+i+",")||(o=null!==o),t[i]=o}return t}function $(){I["default"].body.focus(),I["default"].onselectstart=function(){return!1}}function x(){I["default"].onselectstart=function(){return!0}}function C(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=I["default"].documentElement,r=I["default"].body,i=n.clientLeft||r.clientLeft||0,o=R["default"].pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,l=R["default"].pageYOffset||r.scrollTop,u=t.top+l-s;return{left:Math.round(a),top:Math.round(u)}}function T(e,t){var n={},r=C(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+o)/o)),n.x=Math.max(0,Math.min(1,(u-s)/i)),n}function S(e){return!!e&&"object"==typeof e&&1===e.nodeType}function E(e){return!!e&&"object"==typeof e&&3===e.nodeType}function D(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function A(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),S(e)||E(e)?e:"string"==typeof e&&/\S/.test(e)?I["default"].createTextNode(e):void 0}).filter(function(e){return e})}function M(e,t){return A(t).forEach(function(t){return e.appendChild(t)}),e}function P(e,t){return M(D(e),t)}n.__esModule=!0,n.getEl=c,n.createEl=d,n.textContent=p,n.insertElFirst=f,n.getElData=h,n.hasElData=m,n.removeElData=g,n.hasElClass=v,n.addElClass=y,n.removeElClass=b,n.toggleElClass=w,n.setElAttributes=_,n.getElAttributes=k,n.blockTextSelection=$,n.unblockTextSelection=x,n.findElPosition=C,n.getPointerPosition=T,n.isEl=S,n.isTextNode=E,n.emptyEl=D,n.normalizeContent=A,n.appendContent=M,n.insertContent=P;var O=o(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),j=e("global/document"),I=i(j),L=e("global/window"),R=i(L),N=e("./guid.js"),F=r(N),V=e("./log.js"),B=i(V),H=e("tsml"),U=i(H),z={},q="vdata"+(new Date).getTime(),Y=u("querySelector");n.$=Y;var W=u("querySelectorAll");n.$$=W},{"./guid.js":146,"./log.js":147,"global/document":1,"global/window":2,tsml:55}],143:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t,n){if(Array.isArray(t))return d(o,e,t,n);var r=f.getElData(e);r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=m.newGUID()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=u(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(e){v["default"].error(e)}}}),1===r.handlers[t].length&&(e.addEventListener?e.addEventListener(t,r.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+t,r.dispatcher))}function a(e,t,n){if(f.hasElData(e)){var r=f.getElData(e);if(r.handlers){if(Array.isArray(t))return d(a,e,t,n);var i=function(t){r.handlers[t]=[],c(e,t)};if(t){var o=r.handlers[t];if(o){if(!n)return void i(t);if(n.guid)for(var s=0;s<o.length;s++)o[s].guid===n.guid&&o.splice(s--,1);c(e,t)}}else for(var l in r.handlers)i(l)}}}function s(e,t,n){var r=f.hasElData(e)?f.getElData(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=u(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)s.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var o=f.getElData(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function l(e,t,n){if(Array.isArray(t))return d(l,e,t,n);var r=function r(){a(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||m.newGUID(),o(e,t,r)}function u(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||b["default"].event;e={};for(var i in r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||_["default"]),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!=e.clientX){var o=_["default"].documentElement,a=_["default"].body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function c(e,t){var n=f.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&f.removeElData(e)}function d(e,t,n,r){n.forEach(function(n){e(t,n,r)})}n.__esModule=!0,n.on=o,n.off=a,n.trigger=s,n.one=l,n.fixEvent=u;var p=e("./dom.js"),f=i(p),h=e("./guid.js"),m=i(h),g=e("./log.js"),v=r(g),y=e("global/window"),b=r(y),w=e("global/document"),_=r(w)},{"./dom.js":142,"./guid.js":146,"./log.js":147,"global/document":1,"global/window":2}],144:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("./guid.js"),i=function(e,t,n){t.guid||(t.guid=r.newGUID());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i};n.bind=i},{"./guid.js":146}],145:[function(e,t,n){"use strict";function r(e){var t=arguments.length<=1||void 0===arguments[1]?e:arguments[1];return function(){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),i=i>0||a>0?i+":":"",r=((i||o>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n}()}n.__esModule=!0,n["default"]=r,t.exports=n["default"]},{}],146:[function(e,t,n){"use strict";function r(){return i++}n.__esModule=!0,n.newGUID=r;var i=1},{}],147:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];l("log",t)}n.__esModule=!0;var o=e("global/window"),a=r(o),s=e("./browser"),l=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!!s.IE_VERSION&&s.IE_VERSION<11:arguments[2],r=a["default"].console,o=r&&r[e]||function(){};"log"!==e&&t.unshift(e.toUpperCase()+":"),i.history.push(t),t.unshift("VIDEOJS:"),n&&(t=t.map(function(e){if(e&&"object"==typeof e||Array.isArray(e))try{return JSON.stringify(e)}catch(e){}return String(e)}).join(" ")),o.apply?o[Array.isArray(t)?"apply":"call"](r,t):o(t)};n.logByType=l,i.history=[],i.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l("error",t)},i.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l("warn",t)},n["default"]=i},{"./browser":140,"global/window":2}],148:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object}function o(){var e=Array.prototype.slice.call(arguments);return e.unshift({}),e.push(l),s["default"].apply(null,e),e[0]}n.__esModule=!0,n["default"]=o;var a=e("lodash-compat/object/merge"),s=r(a),l=function(e,t){return i(t)?i(e)?void 0:o(t):t};t.exports=n["default"]},{"lodash-compat/object/merge":40}],149:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("global/document"),o=r(i),a=function(e){var t=o["default"].createElement("style");return t.className=e,t};n.createStyleElement=a;var s=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};n.setTextContent=s},{"global/document":1}],150:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return Array.isArray(e)?o(e):void 0===e||void 0===t?o():o([[e,t]])}function o(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:a.bind(null,"start",0,e),end:a.bind(null,"end",1,e)}}function a(e,t,n,r){return void 0===r&&(u["default"].warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),r=0),s(e,r,n.length-1),n[r][t]}function s(e,t,n){if(t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+n+").")}n.__esModule=!0,n.createTimeRanges=i;var l=e("./log.js"),u=r(l);n.createTimeRange=i},{"./log.js":147}],151:[function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.__esModule=!0,n["default"]=r,t.exports=n["default"]},{}],152:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("global/document"),o=r(i),a=e("global/window"),s=r(a),l=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=o["default"].createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,i=void 0;r&&(i=o["default"].createElement("div"),i.innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),o["default"].body.appendChild(i));for(var a={},s=0;s<t.length;s++)a[t[s]]=n[t[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),r&&o["default"].body.removeChild(i),a};n.parseUrl=l;var u=function(e){if(!e.match(/^https?:\/\//)){var t=o["default"].createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e};n.getAbsoluteURL=u;var c=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""};n.getFileExtension=c;var d=function(e){var t=s["default"].location,n=l(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host};n.isCrossOrigin=d},{"global/document":1,"global/window":2}],153:[function(t,n,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){var r=void 0;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),a.getPlayers()[e])return t&&F["default"].warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&a.getPlayers()[e].ready(n),a.getPlayers()[e];r=B.getEl(e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return r.player||k["default"].players[r.playerId]||new k["default"](r,t,n)}r.__esModule=!0;var s=t("global/window"),l=o(s),u=t("global/document"),c=o(u),d=t("./setup"),p=i(d),f=t("./utils/stylesheet.js"),h=i(f),m=t("./component"),g=o(m),v=t("./event-target"),y=o(v),b=t("./utils/events.js"),w=i(b),_=t("./player"),k=o(_),$=t("./plugins.js"),x=o($),C=t("../../src/js/utils/merge-options.js"),T=o(C),S=t("./utils/fn.js"),E=i(S),D=t("./tracks/text-track.js"),A=o(D),M=t("./tracks/audio-track.js"),P=o(M),O=t("./tracks/video-track.js"),j=o(O),I=t("./utils/time-ranges.js"),L=t("./utils/format-time.js"),R=o(L),N=t("./utils/log.js"),F=o(N),V=t("./utils/dom.js"),B=i(V),H=t("./utils/browser.js"),U=i(H),z=t("./utils/url.js"),q=i(z),Y=t("./extend.js"),W=o(Y),G=t("lodash-compat/object/merge"),X=o(G),J=t("xhr"),Q=o(J),Z=t("./tech/tech.js"),K=o(Z);if(o((o(t("./tech/html5.js")),t("./tech/flash.js"))),"undefined"==typeof HTMLVideoElement&&(c["default"].createElement("video"),c["default"].createElement("audio"),c["default"].createElement("track")),!0!==l["default"].VIDEOJS_NO_DYNAMIC_STYLE){var ee=B.$(".vjs-styles-defaults");if(!ee){ee=h.createStyleElement("vjs-styles-defaults");var te=B.$("head");te.insertBefore(ee,te.firstChild),h.setTextContent(ee,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}p.autoSetupTimeout(1,a),a.VERSION="5.11.9",a.options=k["default"].prototype.options_,a.getPlayers=function(){return k["default"].players},a.players=k["default"].players,a.getComponent=g["default"].getComponent,a.registerComponent=function(e,t){K["default"].isTech(t)&&F["default"].warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),g["default"].registerComponent.call(g["default"],e,t)},a.getTech=K["default"].getTech,a.registerTech=K["default"].registerTech,a.browser=U,a.TOUCH_ENABLED=U.TOUCH_ENABLED,a.extend=W["default"],a.mergeOptions=T["default"],a.bind=E.bind,a.plugin=x["default"],a.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),X["default"](a.options.languages,(n={},n[e]=t,n))[e]},a.log=F["default"],a.createTimeRange=a.createTimeRanges=I.createTimeRanges,a.formatTime=R["default"],a.parseUrl=q.parseUrl,a.isCrossOrigin=q.isCrossOrigin,a.EventTarget=y["default"],a.on=w.on,a.one=w.one,a.off=w.off,a.trigger=w.trigger,a.xhr=Q["default"],a.TextTrack=A["default"],a.AudioTrack=P["default"],a.VideoTrack=j["default"],a.isEl=B.isEl,a.isTextNode=B.isTextNode,a.createEl=B.createEl,a.hasClass=B.hasElClass,a.addClass=B.addElClass,a.removeClass=B.removeElClass,a.toggleClass=B.toggleElClass,a.setAttributes=B.setElAttributes,a.getAttributes=B.getElAttributes,a.emptyEl=B.emptyEl,a.appendContent=B.appendContent,a.insertContent=B.insertContent,"function"==typeof e&&e.amd?e("videojs",[],function(){return a}):"object"==typeof r&&"object"==typeof n&&(n.exports=a),r["default"]=a,n.exports=r["default"]},{"../../src/js/utils/merge-options.js":148,"./component":67,"./event-target":104,"./extend.js":105,"./player":113,"./plugins.js":114,"./setup":118,"./tech/flash.js":121,"./tech/html5.js":122,"./tech/tech.js":124,"./tracks/audio-track.js":126,"./tracks/text-track.js":134,"./tracks/video-track.js":139,"./utils/browser.js":140,"./utils/dom.js":142,"./utils/events.js":143,"./utils/fn.js":144,"./utils/format-time.js":145,"./utils/log.js":147,"./utils/stylesheet.js":149,"./utils/time-ranges.js":150,"./utils/url.js":152,"global/document":1,"global/window":2,"lodash-compat/object/merge":40,xhr:56}]},{},[153])(153)}),function(e){var t=e.vttjs={},n=t.VTTCue,r=t.VTTRegion,i=e.VTTCue,o=e.VTTRegion;t.shim=function(){t.VTTCue=n,t.VTTRegion=r},t.restore=function(){t.VTTCue=i,t.VTTRegion=o}}(this),function(e,t){function n(e){return"string"==typeof e&&(!!s[e.toLowerCase()]&&e.toLowerCase())}function r(e){return"string"==typeof e&&(!!l[e.toLowerCase()]&&e.toLowerCase())}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function o(e,t,o){var s=this,l=/MSIE\s8\.0/.test(navigator.userAgent),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,p=e,f=t,h=o,m=null,g="",v=!0,y="auto",b="start",w=50,_="middle",k=50,$="middle";if(Object.defineProperty(s,"id",i({},u,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},u,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",i({},u,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},u,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},u,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},u,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},u,{get:function(){return g},set:function(e){var t=n(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},u,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},u,{get:function(){return y},set:function(e){if("number"!=typeof e&&e!==a)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},u,{get:function(){return b},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},u,{get:function(){return w},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},u,{get:function(){return _},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},u,{get:function(){return k},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");k=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},u,{get:function(){return $},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");$=t,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}var a="auto",s={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||o,t.VTTCue=o}(this,this.vttjs||{}),function(e,t){function n(e){return"string"==typeof e&&(!!o[e.toLowerCase()]&&e.toLowerCase())}function r(e){return"number"==typeof e&&e>=0&&e<=100}function i(){var e=100,t=3,i=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=n(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");l=t}}})}var o={"":!0,up:!0};e.VTTRegion=e.VTTRegion||i,t.VTTRegion=i}(this,this.vttjs||{}),function(e){function t(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function n(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function r(){this.values=h(null)}function i(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length){var s=a[0],l=a[1];t(s,l)}}}function o(e,o,a){function s(){var r=n(e);if(null===r)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+c);return e=e.replace(/^[^\sa-zA-Z-]+/,""),r}function l(e,t){var n=new r;i(e,function(e,t){switch(e){case"region":for(var r=a.length-1;r>=0;r--)if(a[r].id===t){n.set(e,a[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];n.integer(e,o),n.percent(e,o)&&n.set("snapToLines",!1),n.alt(e,o,["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function u(){e=e.replace(/^\s+/,"")}var c=e;if(u(),o.startTime=s(),u(),
"-->"!==e.substr(0,3))throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+c);e=e.substr(3),u(),o.endTime=s(),u(),l(e,o)}function a(e,t){function r(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function i(e){return m[e]}function o(e){for(;h=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(h[0],i);return e}function a(e,t){return!y[t.localName]||y[t.localName]===e.localName}function s(t,n){var r=g[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var o=v[t];return o&&n&&(i[o]=n.trim()),i}for(var l,u=e.document.createElement("div"),c=u,d=[];null!==(l=r());)if("<"!==l[0])c.appendChild(e.document.createTextNode(o(l)));else{if("/"===l[1]){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),c=c.parentNode);continue}var p,f=n(l.substr(1,l.length-2));if(f){p=e.document.createProcessingInstruction("timestamp",f),c.appendChild(p);continue}var h=l.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(!(p=s(h[1],h[3])))continue;if(!a(c,p))continue;h[2]&&(p.className=h[2].substr(1).replace("."," ")),d.push(h[1]),c.appendChild(p),c=p}return u}function s(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var r=e.pop(),i=r.textContent||r.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):i}return"ruby"===r.tagName?n(e):r.childNodes?(t(e,r),n(e)):void 0}var r,i=[],o="";if(!e||!e.childNodes)return"ltr";for(t(i,e);o=n(i);)for(var a=0;a<o.length;a++){r=o.charCodeAt(a);for(var s=0;s<b.length;s++)if(b[s]===r)return"rtl"}return"ltr"}function l(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}function u(){}function c(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),u.call(this),this.cue=t,this.cueDiv=a(e,t.text);var l={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",l.unicodeBidi="plaintext"),this.applyStyles(l,this.cueDiv),this.div=e.document.createElement("div"),l={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(l.direction=s(this.cueDiv),l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(l),this.div.appendChild(this.cueDiv);var c=0;switch(t.positionAlign){case"start":c=t.position;break;case"middle":c=t.position-t.size/2;break;case"end":c=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(c,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(c,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function d(e){var t,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function p(e,t,n,r){function i(e,t){for(var i,o=new d(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(i=new d(e),a=l),e=new d(o)}return i||o}var o=new d(t),a=t.cue,s=l(a),u=[];if(a.snapToLines){var c;switch(a.vertical){case"":u=["+y","-y"],c="height";break;case"rl":u=["+x","-x"],c="width";break;case"lr":u=["-x","+x"],c="width"}var p=o.lineHeight,f=p*Math.round(s),h=n[c]+p,m=u[0];Math.abs(f)>h&&(f=f<0?-1:1,f*=Math.ceil(h/p)*p),s<0&&(f+=""===a.vertical?n.height:n.width,u=u.reverse()),o.move(m,f)}else{var g=o.lineHeight/n.height*100;switch(a.lineAlign){case"middle":s-=g/2;break;case"end":s-=g}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}u=["+y","-x","+x","-y"],o=new d(t)}var v=i(o,u);t.move(v.toCSSCompatValues(n))}function f(){}var h=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();t.prototype=h(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var m={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":" "},g={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},v={v:"title",lang:"lang"},y={rt:"ruby"},b=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];u.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},u.prototype.formatStyle=function(e,t){return 0===e?0:e+t},c.prototype=h(u.prototype),c.prototype.constructor=c,d.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},d.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},d.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},d.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},d.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},d.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},d.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},d.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e,{left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},f.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},f.convertCueToDOMTree=function(e,t){return e&&t?a(e,t):null},f.processCues=function(e,t,n){function r(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),r(t)){var o=[],a=d.getSimpleBoxPosition(i),s=Math.round(.05*a.height*100)/100,l={font:s+"px sans-serif"};!function(){for(var n,r,s=0;s<t.length;s++)r=t[s],n=new c(e,r,l),i.appendChild(n.div),p(e,n,a,o),r.displayState=n.div,o.push(d.getSimpleBoxPosition(n))}()}else for(var u=0;u<t.length;u++)i.appendChild(t[u].displayState)},f.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},f.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof t))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function n(){for(var e=l.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,l.buffer=e.substr(t),n}function a(e){var t=new r;if(i(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var o=new r;if(o.percent("x",i[0]),o.percent("y",i[1]),!o.has("x")||!o.has("y"))break;t.set(e+"X",o.get("x")),t.set(e+"Y",o.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(l.vttjs.VTTRegion||l.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),l.onregion&&l.onregion(n),l.regionList.push({id:t.get("id"),region:n})}}function s(e){i(e,function(e,t){switch(e){case"Region":a(t)}},/:/)}var l=this;e&&(l.buffer+=l.decoder.decode(e,{stream:!0}));try{var u;if("INITIAL"===l.state){if(!/\r\n|\n/.test(l.buffer))return this;u=n();var c=u.match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new t(t.Errors.BadSignature);l.state="HEADER"}for(var d=!1;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(d?d=!1:u=n(),l.state){case"HEADER":/:/.test(u)?s(u):u||(l.state="ID");continue;case"NOTE":u||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(u)){l.state="NOTE";break}if(!u)continue;if(l.cue=new(l.vttjs.VTTCue||l.window.VTTCue)(0,0,""),l.state="CUE",-1===u.indexOf("-->")){l.cue.id=u;continue}case"CUE":try{o(u,l.cue,l.regionList)}catch(e){l.reportOrThrowError(e),l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":var p=-1!==u.indexOf("-->");if(!u||p&&(d=!0)){l.oncue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}l.cue.text&&(l.cue.text+="\n"),l.cue.text+=u;continue;case"BADCUE":u||(l.state="ID");continue}}}catch(e){l.reportOrThrowError(e),"CUETEXT"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state="INITIAL"===l.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new t(t.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.WebVTT=f}(this,this.vttjs),function(){!function(e){var t=e&&e.videojs;if(t){t.CDN_VERSION="5.11.9";var n="https:"===e.location.protocol?"https://":"http://";t.options.flash.swf=n+"vjs.zencdn.net/swf/5.1.0/video-js.swf"}}(window),function(e,t,n,r,i,o,a){t&&!1!==t.HELP_IMPROVE_VIDEOJS&&(i.random()>.01||(o=t.location,a=t.videojs||{},e.src="//www.google-analytics.com/__utm.gif?utmwv=5.4.2&utmac=UA-16505296-3&utmn=1&utmhn="+r(o.hostname)+"&utmsr="+t.screen.availWidth+"x"+t.screen.availHeight+"&utmul="+(n.language||n.userLanguage||"").toLowerCase()+"&utmr="+r(o.href)+"&utmp="+r(o.hostname+o.pathname)+"&utmcc=__utma%3D1."+i.floor(1e10*i.random())+".1.1.1.1%3B&utme=8(vjsv*cdnv)9("+a.VERSION+"*"+a.CDN_VERSION+")"))}(new Image,window,navigator,encodeURIComponent,Math)}(),function(){}.call(this),window.libpannellum=function(e,t,n){function r(r,u,c,d){function p(e,t){return 1==e.level&&1!=t.level?-1:1==t.level&&1!=e.level?1:t.timestamp-e.timestamp}function f(e,t){return e.level!=t.level?e.level-t.level:e.diff-t.diff}function h(e,t,n,r,i,o){this.vertices=e,this.side=t,this.level=n,this.x=r,this.y=i,this.path=o.replace("%s",t).replace("%l",n).replace("%x",r).replace("%y",i)}function m(e,t,n,r,i){var o,a=t.vertices;o=w(e,a.slice(0,3));var s=w(e,a.slice(3,6)),l=w(e,a.slice(6,9)),a=w(e,a.slice(9,12)),c=o[0]+s[0]+l[0]+a[0];if(-4==c||4==c?o=!1:(c=o[1]+s[1]+l[1]+a[1],o=-4!=c&&4!=c&&4!=o[2]+s[2]+l[2]+a[2]),o){for(o=t.vertices,s=o[0]+o[3]+o[6]+o[9],l=o[1]+o[4]+o[7]+o[10],a=o[2]+o[5]+o[8]+o[11],c=Math.sqrt(s*s+l*l+a*a),a=Math.asin(a/c),s=Math.atan2(l,s)-r,s+=s>Math.PI?-2*Math.PI:s<-Math.PI?2*Math.PI:0,s=Math.abs(s),t.diff=Math.acos(Math.sin(n)*Math.sin(a)+Math.cos(n)*Math.cos(a)*Math.cos(s)),s=!1,l=0;l<k.nodeCache.length;l++)if(k.nodeCache[l].path==t.path){s=!0,k.nodeCache[l].timestamp=k.nodeCacheTimestamp++,k.nodeCache[l].diff=t.diff,k.currentNodes.push(k.nodeCache[l]);break}if(s||(t.timestamp=k.nodeCacheTimestamp++,k.currentNodes.push(t),k.nodeCache.push(t)),t.level<k.level){var a=u.cubeResolution*Math.pow(2,t.level-u.maxLevel),s=Math.ceil(a*u.invTileResolution)-1,l=a%u.tileResolution*2,d=2*a%u.tileResolution;0===d&&(d=u.tileResolution),0===l&&(l=2*u.tileResolution),c=.5,t.x!=s&&t.y!=s||(c=1-u.tileResolution/(u.tileResolution+d));var p=1-c,a=[],f=c,g=c,v=c,y=p,b=p,_=p;for(d<u.tileResolution&&(t.x==s&&t.y!=s?(b=g=.5,("d"==t.side||"u"==t.side)&&(_=v=.5)):t.x!=s&&t.y==s&&(y=f=.5,"l"==t.side||"r"==t.side)&&(_=v=.5)),l<u.tileResolution&&(t.x==s&&(f=0,y=1,"l"==t.side||"r"==t.side)&&(v=0,_=1),t.y==s&&(g=0,b=1,"d"==t.side||"u"==t.side)&&(v=0,_=1)),d=[o[0],o[1],o[2],o[0]*f+o[3]*y,o[1]*c+o[4]*p,o[2]*v+o[5]*_,o[0]*f+o[6]*y,o[1]*g+o[7]*b,o[2]*v+o[8]*_,o[0]*c+o[9]*p,o[1]*g+o[10]*b,o[2]*v+o[11]*_],d=new h(d,t.side,t.level+1,2*t.x,2*t.y,u.fullpath),a.push(d),t.x==s&&l<u.tileResolution||(d=[o[0]*f+o[3]*y,o[1]*c+o[4]*p,o[2]*v+o[5]*_,o[3],o[4],o[5],o[3]*c+o[6]*p,o[4]*g+o[7]*b,o[5]*v+o[8]*_,o[0]*f+o[6]*y,o[1]*g+o[7]*b,o[2]*v+o[8]*_],d=new h(d,t.side,t.level+1,2*t.x+1,2*t.y,u.fullpath),a.push(d)),t.x==s&&l<u.tileResolution||t.y==s&&l<u.tileResolution||(d=[o[0]*f+o[6]*y,o[1]*g+o[7]*b,o[2]*v+o[8]*_,o[3]*c+o[6]*p,o[4]*g+o[7]*b,o[5]*v+o[8]*_,o[6],o[7],o[8],o[9]*f+o[6]*y,o[10]*c+o[7]*p,o[11]*v+o[8]*_],d=new h(d,t.side,t.level+1,2*t.x+1,2*t.y+1,u.fullpath),a.push(d)),t.y==s&&l<u.tileResolution||(d=[o[0]*c+o[9]*p,o[1]*g+o[10]*b,o[2]*v+o[11]*_,o[0]*f+o[6]*y,o[1]*g+o[7]*b,o[2]*v+o[8]*_,o[9]*f+o[6]*y,o[10]*c+o[7]*p,o[11]*v+o[8]*_,o[9],o[10],o[11]],d=new h(d,t.side,t.level+1,2*t.x,2*t.y+1,u.fullpath),a.push(d)),t=0;t<a.length;t++)m(e,a[t],n,r,i)}}}function g(){return[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1]}function v(e,t,n){var r=Math.sin(t);return t=Math.cos(t),"x"==n?[e[0],t*e[1]+r*e[2],t*e[2]-r*e[1],e[3],t*e[4]+r*e[5],t*e[5]-r*e[4],e[6],t*e[7]+r*e[8],t*e[8]-r*e[7]]:"y"==n?[t*e[0]-r*e[2],e[1],t*e[2]+r*e[0],t*e[3]-r*e[5],e[4],t*e[5]+r*e[3],t*e[6]-r*e[8],e[7],t*e[8]+r*e[6]]:void 0}function y(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]}function b(e){e.texture||(e.texture=$.createTexture(),e.image=new Image,e.image.crossOrigin="anonymous",e.image.onload=function(){var t=e.image;$.bindTexture($.TEXTURE_2D,e.texture),$.texImage2D($.TEXTURE_2D,0,$.RGB,$.RGB,$.UNSIGNED_BYTE,t),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.LINEAR),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.LINEAR),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,$.CLAMP_TO_EDGE),$.bindTexture($.TEXTURE_2D,null),e.textureLoaded=!0,delete e.image},e.image.src=encodeURI(e.path+"."+u.extension))}function w(e,t){var n=[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[4]*t[0]+e[5]*t[1]+e[6]*t[2],e[11]+e[8]*t[0]+e[9]*t[1]+e[10]*t[2],1/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2])],r=n[0]*n[3],i=n[1]*n[3],n=n[2]*n[3],o=[0,0,0];return-1>r&&(o[0]=-1),1<r&&(o[0]=1),-1>i&&(o[1]=-1),1<i&&(o[1]=1),(-1>n||1<n)&&(o[2]=1),o}var _=t.createElement("canvas");_.style.width=_.style.height="100%",r.appendChild(_),typeof c===n&&(c="equirectangular");var k,$,x,C,T,S;this.init=function(e,d,p,f){var h;if("cubemap"==c&&0!=(u[0].width&u[0].width-1)&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||($=_.getContext("experimental-webgl",{alpha:!1,depth:!1})),!$&&("multires"==c&&u.hasOwnProperty("fallbackPath")||"cubemap"==c)&&("WebkitAppearance"in t.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1!==navigator.appVersion.indexOf("MSIE 10"))){C&&r.removeChild(C),C=t.createElement("div"),C.className="pnlm-world",e=u.basePath?u.basePath+u.fallbackPath:u.fallbackPath;var m="frblud".split(""),v=0;for(d=function(){var e=t.createElement("canvas");e.className="pnlm-face pnlm-"+m[this.side]+"face",C.appendChild(e);var n=e.getContext("2d");e.style.width=this.width+4+"px",e.style.height=this.height+4+"px",e.width=this.width+4,e.height=this.height+4,n.drawImage(this,2,2);var i,o,a=n.getImageData(0,0,e.width,e.height),s=a.data;for(i=2;i<e.width-2;i++)for(o=0;4>o;o++)s[4*(i+e.width)+o]=s[4*(i+2*e.width)+o],s[4*(i+e.width*(e.height-2))+o]=s[4*(i+e.width*(e.height-3))+o];for(i=2;i<e.height-2;i++)for(o=0;4>o;o++)s[4*(i*e.width+1)+o]=s[4*(i*e.width+2)+o],s[4*((i+1)*e.width-2)+o]=s[4*((i+1)*e.width-3)+o];for(o=0;4>o;o++)s[4*(e.width+1)+o]=s[4*(2*e.width+2)+o],s[4*(2*e.width-2)+o]=s[4*(3*e.width-3)+o],s[4*(e.width*(e.height-2)+1)+o]=s[4*(e.width*(e.height-3)+2)+o],s[4*(e.width*(e.height-1)-2)+o]=s[4*(e.width*(e.height-2)-3)+o];for(i=1;i<e.width-1;i++)for(o=0;4>o;o++)s[4*i+o]=s[4*(i+e.width)+o],s[4*(i+e.width*(e.height-1))+o]=s[4*(i+e.width*(e.height-2))+o];for(i=1;i<e.height-1;i++)for(o=0;4>o;o++)s[i*e.width*4+o]=s[4*(i*e.width+1)+o],s[4*((i+1)*e.width-1)+o]=s[4*((i+1)*e.width-2)+o];for(o=0;4>o;o++)s[o]=s[4*(e.width+1)+o],s[4*(e.width-1)+o]=s[4*(2*e.width-2)+o],s[e.width*(e.height-1)*4+o]=s[4*(e.width*(e.height-2)+1)+o],s[4*(e.width*e.height-1)+o]=s[4*(e.width*(e.height-1)-2)+o];n.putImageData(a,0,0),6==++v&&(x=this.width,r.appendChild(C),f())},h=0;6>h;h++)p=new Image,p.crossOrigin="anonymous",p.side=h,p.onload=d,p.src="multires"==c?encodeURI(e.replace("%s",m[h])+"."+u.extension):encodeURI(u[h].src)}else{if(!$)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};u.fullpath=u.basePath?u.basePath+u.path:u.path,u.invTileResolution=1/u.tileResolution;var y=g();for(T=[],h=0;6>h;h++)T[h]=y.slice(12*h,12*h+12),y=g();if("equirectangular"==c){if(h=Math.max(u.width,u.height),y=$.getParameter($.MAX_TEXTURE_SIZE),h>y)throw console.log("Error: The image is too big; it's "+h+"px wide, but this device's maximum supported width is "+y+"px."),{type:"webgl size error",width:h,maxWidth:y}}else if("cubemap"==c&&(h=u[0].width,y=$.getParameter($.MAX_CUBE_MAP_TEXTURE_SIZE),h>y))throw console.log("Error: The cube face image is too big; it's "+h+"px wide, but this device's maximum supported width is "+y+"px."),{type:"webgl size error",width:h,maxWidth:y};u.horizonPitch!==n&&u.horizonRoll!==n&&(S=[u.horizonPitch,u.horizonRoll]),h=$.TEXTURE_2D,$.viewport(0,0,_.width,_.height);var y=$.createShader($.VERTEX_SHADER),b=i;"multires"==c&&(b=o),$.shaderSource(y,b),$.compileShader(y);var b=$.createShader($.FRAGMENT_SHADER),w=s;if("cubemap"==c?(h=$.TEXTURE_CUBE_MAP,w=a):"multires"==c&&(w=l),$.shaderSource(b,w),$.compileShader(b),k=$.createProgram(),$.attachShader(k,y),$.attachShader(k,b),$.linkProgram(k),$.getShaderParameter(y,$.COMPILE_STATUS)||console.log($.getShaderInfoLog(y)),$.getShaderParameter(b,$.COMPILE_STATUS)||console.log($.getShaderInfoLog(b)),$.getProgramParameter(k,$.LINK_STATUS)||console.log($.getProgramInfoLog(k)),$.useProgram(k),k.drawInProgress=!1,k.texCoordLocation=$.getAttribLocation(k,"a_texCoord"),$.enableVertexAttribArray(k.texCoordLocation),"multires"!=c?(k.texCoordBuffer=$.createBuffer(),$.bindBuffer($.ARRAY_BUFFER,k.texCoordBuffer),$.bufferData($.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),$.STATIC_DRAW),$.vertexAttribPointer(k.texCoordLocation,2,$.FLOAT,!1,0,0),k.aspectRatio=$.getUniformLocation(k,"u_aspectRatio"),$.uniform1f(k.aspectRatio,_.width/_.height),k.psi=$.getUniformLocation(k,"u_psi"),k.theta=$.getUniformLocation(k,"u_theta"),k.f=$.getUniformLocation(k,"u_f"),k.h=$.getUniformLocation(k,"u_h"),k.v=$.getUniformLocation(k,"u_v"),k.vo=$.getUniformLocation(k,"u_vo"),k.rot=$.getUniformLocation(k,"u_rot"),$.uniform1f(k.h,e/(2*Math.PI)),$.uniform1f(k.v,d/Math.PI),$.uniform1f(k.vo,p/Math.PI*2),k.texture=$.createTexture(),$.bindTexture(h,k.texture),"cubemap"==c?($.texImage2D($.TEXTURE_CUBE_MAP_POSITIVE_X,0,$.RGB,$.RGB,$.UNSIGNED_BYTE,u[1]),$.texImage2D($.TEXTURE_CUBE_MAP_NEGATIVE_X,0,$.RGB,$.RGB,$.UNSIGNED_BYTE,u[3]),$.texImage2D($.TEXTURE_CUBE_MAP_POSITIVE_Y,0,$.RGB,$.RGB,$.UNSIGNED_BYTE,u[4]),$.texImage2D($.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,$.RGB,$.RGB,$.UNSIGNED_BYTE,u[5]),$.texImage2D($.TEXTURE_CUBE_MAP_POSITIVE_Z,0,$.RGB,$.RGB,$.UNSIGNED_BYTE,u[0]),$.texImage2D($.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,$.RGB,$.RGB,$.UNSIGNED_BYTE,u[2])):$.texImage2D(h,0,$.RGB,$.RGB,$.UNSIGNED_BYTE,u),$.texParameteri(h,$.TEXTURE_WRAP_S,$.CLAMP_TO_EDGE),$.texParameteri(h,$.TEXTURE_WRAP_T,$.CLAMP_TO_EDGE),$.texParameteri(h,$.TEXTURE_MIN_FILTER,$.LINEAR),
$.texParameteri(h,$.TEXTURE_MAG_FILTER,$.LINEAR)):(k.vertPosLocation=$.getAttribLocation(k,"a_vertCoord"),$.enableVertexAttribArray(k.vertPosLocation),k.cubeVertBuf=$.createBuffer(),k.cubeVertTexCoordBuf=$.createBuffer(),k.cubeVertIndBuf=$.createBuffer(),$.bindBuffer($.ARRAY_BUFFER,k.cubeVertTexCoordBuf),$.bufferData($.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),$.STATIC_DRAW),$.bindBuffer($.ELEMENT_ARRAY_BUFFER,k.cubeVertIndBuf),$.bufferData($.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),$.STATIC_DRAW),k.perspUniform=$.getUniformLocation(k,"u_perspMatrix"),k.cubeUniform=$.getUniformLocation(k,"u_cubeMatrix"),k.level=-1,k.currentNodes=[],k.nodeCache=[],k.nodeCacheTimestamp=0),0!==$.getError())throw console.log("Error: Something went wrong with WebGL!"),{type:"webgl error"};f()}},this.destroy=function(){r!==n&&(_!==n&&r.removeChild(_),C!==n&&r.removeChild(C))},this.resize=function(){var t=e.devicePixelRatio||1;_.width=_.clientWidth*t,_.height=_.clientHeight*t,$&&($.viewport(0,0,_.width,_.height),"multires"!=c&&$.uniform1f(k.aspectRatio,_.width/_.height))},this.resize(),this.render=function(t,r,i,o){var a;if($||"multires"!=c&&"cubemap"!=c){if("multires"!=c){if(i=2*Math.atan(Math.tan(.5*i)/(_.width/_.height)),i=1/Math.tan(.5*i),"equirectangular"==c&&S!==n){a=S[0];var s=S[1],l=t,g=r,w=Math.cos(s)*Math.sin(t)*Math.sin(a)+Math.cos(t)*(Math.cos(a)*Math.cos(r)+Math.sin(s)*Math.sin(a)*Math.sin(r)),E=-Math.sin(t)*Math.sin(s)+Math.cos(t)*Math.cos(s)*Math.sin(r);t=Math.cos(s)*Math.cos(a)*Math.sin(t)+Math.cos(t)*(-Math.cos(r)*Math.sin(a)+Math.cos(a)*Math.sin(s)*Math.sin(r)),t=Math.asin(t),r=Math.atan2(E,w),a=[Math.cos(l)*(Math.sin(s)*Math.sin(a)*Math.cos(g)-Math.cos(a)*Math.sin(g)),Math.cos(l)*Math.cos(s)*Math.cos(g),Math.cos(l)*(Math.cos(a)*Math.sin(s)*Math.cos(g)+Math.sin(g)*Math.sin(a))],s=[-Math.cos(t)*Math.sin(r),Math.cos(t)*Math.cos(r)],s=Math.acos((a[0]*s[0]+a[1]*s[1])/(Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])*Math.sqrt(s[0]*s[0]+s[1]*s[1]))),0>a[2]&&(s=2*Math.PI-s),$.uniform1f(k.rot,s)}$.uniform1f(k.psi,r),$.uniform1f(k.theta,t),$.uniform1f(k.f,i),!0===d&&"equirectangular"==c&&($.bindTexture($.TEXTURE_2D,k.texture),$.texImage2D($.TEXTURE_2D,0,$.RGB,$.RGB,$.UNSIGNED_BYTE,u)),$.drawArrays($.TRIANGLES,0,6)}else{for(a=_.width/_.height,s=2*Math.atan(Math.tan(i/2)*_.height/_.width),s=1/Math.tan(s/2),a=[s/a,0,0,0,0,s,0,0,0,0,100.1/-99.9,20/-99.9,0,0,-1,0],s=1;s<u.maxLevel&&_.width>u.tileResolution*Math.pow(2,s-1)*Math.tan(i/2)*.707;)s++;for(k.level=s,s=[1,0,0,0,1,0,0,0,1],s=v(s,-t,"x"),s=v(s,r,"y"),s=[s[0],s[1],s[2],0,s[3],s[4],s[5],0,s[6],s[7],s[8],0,0,0,0,1],$.uniformMatrix4fv(k.perspUniform,!1,new Float32Array(y(a))),$.uniformMatrix4fv(k.cubeUniform,!1,new Float32Array(y(s))),s=[a[0]*s[0],a[0]*s[1],a[0]*s[2],0,a[5]*s[4],a[5]*s[5],a[5]*s[6],0,a[10]*s[8],a[10]*s[9],a[10]*s[10],a[11],-s[8],-s[9],-s[10],0],k.nodeCache.sort(p),200<k.nodeCache.length&&k.nodeCache.length>k.currentNodes.length+50&&k.nodeCache.splice(200,k.nodeCache.length-200),k.currentNodes=[],l="fbudlr".split(""),a=0;6>a;a++)g=new h(T[a],l[a],1,0,0,u.fullpath),m(s,g,t,r,i);for(k.currentNodes.sort(f),t=0;t<k.currentNodes.length;t++)if(!k.currentNodes[t].texture){setTimeout(b(k.currentNodes[t]),0);break}if(!k.drawInProgress){for(k.drawInProgress=!0,t=0;t<k.currentNodes.length;t++)k.currentNodes[t].textureLoaded&&($.bindBuffer($.ARRAY_BUFFER,k.cubeVertBuf),$.bufferData($.ARRAY_BUFFER,new Float32Array(k.currentNodes[t].vertices),$.STATIC_DRAW),$.vertexAttribPointer(k.vertPosLocation,3,$.FLOAT,!1,0,0),$.bindBuffer($.ARRAY_BUFFER,k.cubeVertTexCoordBuf),$.vertexAttribPointer(k.texCoordLocation,2,$.FLOAT,!1,0,0),$.bindTexture($.TEXTURE_2D,k.currentNodes[t].texture),$.drawElements($.TRIANGLES,6,$.UNSIGNED_SHORT,0));k.drawInProgress=!1}}if(o!==n)return _.toDataURL("image/png")}else for(a=x/2,o={f:"translate3d(-"+(a+2)+"px, -"+(a+2)+"px, -"+a+"px)",b:"translate3d("+(a+2)+"px, -"+(a+2)+"px, "+a+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(a+2)+"px, -"+a+"px, "+(a+2)+"px) rotateX(270deg)",d:"translate3d(-"+(a+2)+"px, "+a+"px, -"+(a+2)+"px) rotateX(90deg)",l:"translate3d(-"+a+"px, -"+(a+2)+"px, "+(a+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+a+"px, -"+(a+2)+"px, -"+(a+2)+"px) rotateY(270deg)"},i=1/Math.tan(i/2),i=i*_.width/(e.devicePixelRatio||1)/2+"px",r="perspective("+i+") translateZ("+i+") rotateX("+t+"rad) rotateY("+r+"rad) ",i=Object.keys(o),t=0;6>t;t++)a=C.querySelector(".pnlm-"+i[t]+"face").style,a.webkitTransform=r+o[i[t]],a.transform=r+o[i[t]]},this.isLoading=function(){if($&&"multires"==c)for(var e=0;e<k.currentNodes.length;e++)if(!k.currentNodes[e].textureLoaded)return!0;return!1},this.getCanvas=function(){return _}}var i="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",o="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",a="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nconst float PI = 3.14159265358979323846264;\nuniform samplerCube u_image;\nvarying vec2 v_texCoord;\nvoid main() {\nvec3 planePos = vec3(v_texCoord.xy, 0.0);\nplanePos.x *= u_aspectRatio;\nvec3 viewVector = planePos - vec3(0.0,0.0,-u_f);\nfloat sinpsi = sin(-u_psi);\nfloat cospsi = cos(-u_psi);\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nvec3 viewVectorTheta = viewVector;\nviewVectorTheta.z = viewVector.z * costheta - viewVector.y * sintheta;\nviewVectorTheta.y = viewVector.z * sintheta + viewVector.y * costheta;\nvec3 viewVectorPsi = viewVectorTheta;\nviewVectorPsi.x = viewVectorTheta.x * cospsi - viewVectorTheta.z * sinpsi;\nviewVectorPsi.z = viewVectorTheta.x * sinpsi + viewVectorTheta.z * cospsi;\ngl_FragColor = textureCube(u_image, viewVectorPsi);\n}",s="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);\nif(lambda > PI)\nlambda = lambda - PI * 2.0;\nif(lambda < -PI)\nlambda = lambda + PI * 2.0;\nvec2 coord = vec2(lambda / PI, phi / (PI / 2.0));\nif(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)\ngl_FragColor = vec4(0, 0, 0, 1.0);\nelse\ngl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));\n}",l="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(e,t,n,i){return new r(e,t,n,i)}}}(window,document),window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()),window.pannellum=function(e,t,n){function r(r,i){function o(){var i=t.createElement("div");if(i.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",1==i.getElementsByTagName("i").length)l();else{var o;if("cubemap"==V.type){for(z=[],i=0;6>i;i++)z.push(new Image),z[i].crossOrigin="anonymous";he.load.lbox.style.display="block",he.load.lbar.style.display="none"}else if("multires"==V.type)i=JSON.parse(JSON.stringify(V.multiRes)),V.basePath&&V.multiRes.basePath?i.basePath=V.basePath+V.multiRes.basePath:V.basePath&&(i.basePath=V.basePath),z=i;else if(!0===V.dynamic)z=V.panorama;else{if(V.panorama===n)return void l("No panorama image was specified.");z=new Image}var u=function(e){return/^(?:[a-z]+:)?\/\//i.test(e)|"/"==e[0]};if("cubemap"==V.type)for(var c=6,d=function(){0===--c&&a()},p=function(e){var n=t.createElement("a");n.href=e.target.src,n.innerHTML=n.href,l("The file "+n.outerHTML+" could not be accessed.")},i=0;i<z.length;i++)z[i].onload=d,z[i].onerror=p,o=V.cubeMap[i],V.basePath&&!u(o)&&(o=V.basePath+o),z[i].src=encodeURI(o);else if("multires"==V.type)a();else if(o="",V.basePath&&(o=V.basePath),!0!==V.dynamic){o=u(V.panorama)?V.panorama:o+V.panorama,z.onload=function(){e.URL.revokeObjectURL(this.src),a()};var f=new XMLHttpRequest;f.onloadend=function(){if(200!=f.status){var e=t.createElement("a");e.href=encodeURI(o),e.innerHTML=e.href,l("The file "+e.outerHTML+" could not be accessed.")}s(this.response),he.load.msg.innerHTML=""},f.onprogress=function(e){if(e.lengthComputable){he.load.lbarFill.style.width=e.loaded/e.total*100+"%";var t,n;1e6<e.total?(t="MB",n=(e.loaded/1e6).toFixed(2),e=(e.total/1e6).toFixed(2)):1e3<e.total?(t="kB",n=(e.loaded/1e3).toFixed(1),e=(e.total/1e3).toFixed(1)):(t="B",n=e.loaded,e=e.total),he.load.msg.innerHTML=n+" / "+e+" "+t}else he.load.lbox.style.display="block",he.load.lbar.style.display="none"};try{f.open("GET",o,!0)}catch(e){l("There is something wrong with the panorama URL.")}f.responseType="blob",f.setRequestHeader("Accept","image/*,*/*;q=0.9"),f.send()}r.classList.add("pnlm-grab"),r.classList.remove("pnlm-grabbing")}}function a(){B=new libpannellum.renderer(de,z,V.type,V.dynamic),!0!==V.dynamic&&(z=n),re||(re=!0,r.addEventListener("mousedown",d,!1),t.addEventListener("mousemove",f,!1),t.addEventListener("mouseup",h,!1),r.addEventListener("mousewheel",_,!1),r.addEventListener("DOMMouseScroll",_,!1),r.addEventListener("mozfullscreenchange",I,!1),r.addEventListener("webkitfullscreenchange",I,!1),r.addEventListener("msfullscreenchange",I,!1),r.addEventListener("fullscreenchange",I,!1),e.addEventListener("resize",T,!1),r.addEventListener("keydown",k,!1),r.addEventListener("keyup",x,!1),r.addEventListener("blur",$,!1),t.addEventListener("mouseleave",h,!1),r.addEventListener("touchstart",m,!1),r.addEventListener("touchmove",g,!1),r.addEventListener("touchend",v,!1),r.addEventListener("pointerdown",y,!1),r.addEventListener("pointermove",b,!1),r.addEventListener("pointerup",w,!1),r.addEventListener("pointerleave",w,!1),e.navigator.pointerEnabled&&(r.style.touchAction="none"));try{B.init(V.haov*Math.PI/180,V.vaov*Math.PI/180,V.vOffset*Math.PI/180,D)}catch(e){"webgl error"==e.type||"no webgl"==e.type?l():"webgl size error"==e.type&&l("This panorama is too big for your device! It's "+e.width+"px wide, but your device only supports images up to "+e.maxWidth+"px wide. Try another device. (If you're the author, try scaling down the image.)")}setTimeout(function(){},500)}function s(t){var r=new FileReader;r.addEventListener("loadend",function(){var i=r.result;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)){var o=i.indexOf("\xff\xc2");(0>o||65536<o)&&l("Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).")}if(-1<(o=i.indexOf("<x:xmpmeta"))&&!0!==V.ignoreGPanoXMP){var a=i.substring(o,i.indexOf("</x:xmpmeta>")+12),s=function(e){var t;return 0<=a.indexOf(e+'="')?(t=a.substring(a.indexOf(e+'="')+e.length+2),t=t.substring(0,t.indexOf('"'))):0<=a.indexOf(e+">")&&(t=a.substring(a.indexOf(e+">")+e.length+1),t=t.substring(0,t.indexOf("<"))),t!==n?Number(t):null},i=s("GPano:FullPanoWidthPixels"),o=s("GPano:CroppedAreaImageWidthPixels"),u=s("GPano:FullPanoHeightPixels"),c=s("GPano:CroppedAreaImageHeightPixels"),d=s("GPano:CroppedAreaTopPixels"),p=s("GPano:PoseHeadingDegrees"),f=s("GPano:PosePitchDegrees"),s=s("GPano:PoseRollDegrees");null!==i&&null!==o&&null!==u&&null!==c&&null!==d&&(V.haov=o/i*360,V.vaov=c/u*180,V.vOffset=-180*((d+c/2)/u-.5),null!==p&&(V.northOffset=p,!1!==V.compass&&(V.compass=!0)),null!==f&&null!==s&&(z.horizonPitch=f/180*Math.PI,z.horizonRoll=s/180*Math.PI))}z.src=e.URL.createObjectURL(t)}),r.readAsBinaryString!==n?r.readAsBinaryString(t):r.readAsText(t)}function l(e){he.errorMsg.innerHTML=e!==n?"<p>"+e+"</p>":"<p>Your browser does not have the necessary WebGL support to display this panorama.</p>",me.load.style.display="none",he.load.box.style.display="none",he.errorMsg.style.display="table",de.style.display="none"}function u(e){var t=c(e);fe.style.left=t.x+"px",fe.style.top=t.y+"px",clearTimeout(u.t1),clearTimeout(u.t2),fe.style.display="block",fe.style.opacity=1,u.t1=setTimeout(function(){fe.style.opacity=0},2e3),u.t2=setTimeout(function(){fe.style.display="none"},2500),e.preventDefault()}function c(e){var t=r.getBoundingClientRect(),n={};return n.x=e.clientX-t.left,n.y=e.clientY-t.top,n}function d(e){if(e.preventDefault(),r.focus(),te){var t=c(e);V.hotSpotDebug&&(e=p(e),console.log("Pitch: "+e[0]+", Yaw: "+e[1]+", Center Pitch: "+V.pitch+", Center Yaw: "+V.yaw+", HFOV: "+V.hfov)),V.autoRotate=!1,Y=!0,W=Date.now(),G=t.x,X=t.y,Q=V.yaw,Z=V.pitch,r.classList.add("pnlm-grabbing"),r.classList.remove("pnlm-grab"),S()}}function p(e){var t=c(e),n=B.getCanvas();e=t.x/n.width*2-1;var r=(1-t.y/n.height*2)*n.height/n.width,i=1/Math.tan(V.hfov*Math.PI/360),o=Math.sin(V.pitch*Math.PI/180),a=Math.cos(V.pitch*Math.PI/180),t=i*a-r*o,n=Math.sqrt(e*e+t*t),r=180*Math.atan((r*a+i*o)/n)/Math.PI;return e=180*Math.atan2(e/n,t/n)/Math.PI+V.yaw,[r,e]}function f(e){if(Y&&te){W=Date.now();var t=B.getCanvas();e=c(e);var n=180*(Math.atan(G/t.width*2-1)-Math.atan(e.x/t.width*2-1))/Math.PI*V.hfov/90+Q;ie=(n-V.yaw)%360*.2,V.yaw=n,n=360*Math.atan(Math.tan(V.hfov/360*Math.PI)*t.height/t.width)/Math.PI,t=180*(Math.atan(e.y/t.height*2-1)-Math.atan(X/t.height*2-1))/Math.PI*n/90+Z,oe=.2*(t-V.pitch),V.pitch=t}}function h(){Y&&(Y=!1,15<Date.now()-W&&(oe=ie=0),r.classList.add("pnlm-grab"),r.classList.remove("pnlm-grabbing"))}function m(e){if(te){var t=c(e.targetTouches[0]);G=t.x,X=t.y,2==e.targetTouches.length&&(e=c(e.targetTouches[1]),G+=.5*(e.x-t.x),X+=.5*(e.y-t.y),J=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))),Y=!0,W=Date.now(),Q=V.yaw,Z=V.pitch,S()}}function g(e){if(e.preventDefault(),te&&(W=Date.now()),Y&&te){var t=c(e.targetTouches[0]),n=t.x,r=t.y;2==e.targetTouches.length&&-1!=J&&(e=c(e.targetTouches[1]),n+=.5*(e.x-t.x),r+=.5*(e.y-t.y),t=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),L(V.hfov+.1*(J-t)),J=t),n=.1*(G-n)+Q,ie=(n-V.yaw)%360*.2,V.yaw=n,r=.1*(r-X)+Z,oe=.2*(r-V.pitch),V.pitch=r}}function v(){Y=!1,150<Date.now()-W&&(oe=ie=0),J=-1}function y(e){"touch"==e.pointerType&&(ve.push(e.pointerId),ye.push({clientX:e.clientX,clientY:e.clientY}),e.targetTouches=ye,m(e),e.preventDefault())}function b(e){if("touch"==e.pointerType)for(var t=0;t<ve.length;t++)if(e.pointerId==ve[t]){ye[t]={clientX:e.clientX,clientY:e.clientY},e.targetTouches=ye,g(e);break}}function w(e){if("touch"==e.pointerType){for(var t=!1,r=0;r<ve.length;r++)e.pointerId==ve[r]&&(ve[r]=n),ve[r]&&(t=!0);t||(ve=[],ye=[],v()),e.preventDefault()}}function _(e){e.preventDefault(),te&&(W=Date.now(),e.wheelDeltaY?(L(V.hfov-.05*e.wheelDeltaY),ae=0>e.wheelDelta?1:-1):e.wheelDelta?(L(V.hfov-.05*e.wheelDelta),ae=0>e.wheelDelta?1:-1):e.detail&&(L(V.hfov+1.5*e.detail),ae=0<e.detail?1:-1),S())}function k(e){e.preventDefault(),V.autoRotate=!1;var t=e.keycode;e.which&&(t=e.which),27==t?ee&&j():C(t,!0)}function $(){for(var e=0;10>e;e++)K[e]=!1}function x(e){e.preventDefault();var t=e.keycode;e.which&&(t=e.which),C(t,!1)}function C(e,t){var n=!1;switch(e){case 109:case 189:case 17:K[0]!=t&&(n=!0),K[0]=t;break;case 107:case 187:case 16:K[1]!=t&&(n=!0),K[1]=t;break;case 38:K[2]!=t&&(n=!0),K[2]=t;break;case 87:K[6]!=t&&(n=!0),K[6]=t;break;case 40:K[3]!=t&&(n=!0),K[3]=t;break;case 83:K[7]!=t&&(n=!0),K[7]=t;break;case 37:K[4]!=t&&(n=!0),K[4]=t;break;case 65:K[8]!=t&&(n=!0),K[8]=t;break;case 39:K[5]!=t&&(n=!0),K[5]=t;break;case 68:K[9]!=t&&(n=!0),K[9]=t}n&&t&&(q="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),S())}function T(){B.resize(),S(),I()}function S(){se||(se=!0,E())}function E(){var e;if(te&&(180<V.yaw?V.yaw-=360:-180>V.yaw&&(V.yaw+=360),e=V.yaw,V.yaw=Math.max(V.minYaw,Math.min(V.maxYaw,V.yaw)),!1!==V.autoRotate&&e!=V.yaw&&(V.autoRotate*=-1),V.pitch=Math.max(V.minPitch,Math.min(V.maxPitch,V.pitch)),B.render(V.pitch*Math.PI/180,V.yaw*Math.PI/180,V.hfov*Math.PI/180),M(),V.compass&&(ge.style.transform="rotate("+(-V.yaw-V.northOffset)+"deg)",ge.style.webkitTransform="rotate("+(-V.yaw-V.northOffset)+"deg)")),Y)requestAnimationFrame(E);else if(K[0]||K[1]||K[2]||K[3]||K[4]||K[5]||K[6]||K[7]||K[8]||K[9]||V.autoRotate||.01<Math.abs(ie)||.01<Math.abs(oe)||.01<Math.abs(ae)){if(te){e=V.pitch;var t,r=V.yaw,i=V.hfov;t="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),q===n&&(q=t);var o=(t-q)*V.hfov/1700,o=Math.min(o,1);K[0]&&!0===V.keyboardZoom&&L(V.hfov+(.8*ae+.5)*o),K[1]&&!0===V.keyboardZoom&&L(V.hfov+(.8*ae-.2)*o),(K[2]||K[6])&&(V.pitch+=(.8*oe+.2)*o),(K[3]||K[7])&&(V.pitch+=(.8*oe-.2)*o),(K[4]||K[8])&&(V.yaw+=(.8*ie-.2)*o),(K[5]||K[9])&&(V.yaw+=(.8*ie+.2)*o);var a=Date.now()-W;V.autoRotate&&a>V.autoRotateInactivityDelay&&!1!==V.autoRotateStopDelay&&(1e-6<o&&(V.yaw-=V.autoRotate/60*o),V.autoRotateStopDelay&&(V.autoRotateStopDelay-=t-q,0>=V.autoRotateStopDelay&&(V.autoRotateStopDelay=!1))),0<o&&(K[4]||K[5]||K[8]||K[9]||(V.yaw+=ie*o*.85),K[2]||K[3]||K[6]||K[7]||(V.pitch+=oe*o*.85),K[0]||K[1]||L(V.hfov+ae*o*.85)),q=t,0<o&&(ie=.8*ie+(V.yaw-r)/o*.2,oe=.8*oe+(V.pitch-e)/o*.2,ae=.8*ae+(V.hfov-i)/o*.2,ie=Math.min(5,Math.max(ie,-5)),oe=Math.min(5,Math.max(oe,-5)),ae=Math.min(5,Math.max(ae,-5))),K[0]&&K[0]&&(ae=0),(K[2]||K[6])&&(K[3]||K[7])&&(oe=0),(K[4]||K[8])&&(K[5]||K[9])&&(ie=0)}requestAnimationFrame(E)}else B&&(B.isLoading()||!0===V.dynamic&&le)?requestAnimationFrame(E):se=!1}function D(){if(H!==n&&(H.destroy(),V.sceneFadeDuration&&H.fadeImg!==n)){H.fadeImg.style.opacity=0;var e=H.fadeImg;H=n,setTimeout(function(){de.removeChild(e)},V.sceneFadeDuration)}ge.style.display=V.compass?"inline":"none",A(),he.load.box.style.display="none",U!==n&&(de.removeChild(U),U=n),te=!0,S()}function A(){ue||(V.hotSpots?(V.hotSpots=V.hotSpots.sort(function(e,t){return e.pitch<t.pitch}),V.hotSpots.forEach(function(e){var n=t.createElement("div");n.className="pnlm-hotspot pnlm-tooltip pnlm-sprite pnlm-"+F(e.type);var r=t.createElement("span");e.text&&(r.innerHTML=F(e.text));var i;if(e.URL)i=t.createElement("a"),i.href=encodeURI(e.URL),i.target="_blank",de.appendChild(i),n.style.cursor="pointer",r.style.cursor="pointer",i.appendChild(n);else if(e.video)i=t.createElement("video"),i.src=encodeURI(e.video),i.controls=!0,i.style.width=e.width+"px",de.appendChild(n),r.appendChild(i);else if(e.image){i=t.createElement("a"),i.href=encodeURI(e.image),i.target="_blank",r.appendChild(i);var o=t.createElement("img");o.src=encodeURI(e.image),o.style.width=e.width+"px",o.style.paddingTop="5px",de.appendChild(n),i.appendChild(o),r.style.maxWidth="initial"}else e.sceneId&&(n.onclick=function(){return N(e.sceneId,e.targetPitch,e.targetYaw),!1},n.ontouchend=function(){return N(e.sceneId,e.targetPitch,e.targetYaw),!1},n.style.cursor="pointer",r.style.cursor="pointer"),de.appendChild(n);n.appendChild(r),r.style.width=r.scrollWidth-20+"px",r.style.marginLeft=-(r.scrollWidth-26)/2+"px",r.style.marginTop=-r.scrollHeight-12+"px",e.div=n})):V.hotSpots=[],ue=!0,M())}function M(){V.hotSpots.forEach(function(t){var n=Math.sin(t.pitch*Math.PI/180),r=Math.cos(t.pitch*Math.PI/180),i=Math.sin(V.pitch*Math.PI/180),o=Math.cos(V.pitch*Math.PI/180),a=Math.cos((-t.yaw+V.yaw)*Math.PI/180),s=Math.tan(V.hfov*Math.PI/360),l=n*i+r*a*o;if(90>=t.yaw&&-90<t.yaw&&0>=l||(90<t.yaw||-90>=t.yaw)&&0>=l)t.div.style.visibility="hidden";else{t.div.style.visibility="visible";var u=B.getCanvas(),c=u.width/(e.devicePixelRatio||1),u=u.height/(e.devicePixelRatio||1),n="translate("+(-c/s*Math.sin((-t.yaw+V.yaw)*Math.PI/180)*r/l/2+c/2-13)+"px, "+(-c/s*(n*o-r*a*i)/l/2+u/2-13)+"px) translateZ(9999px)";t.div.style.webkitTransform=n,t.div.style.MozTransform=n,t.div.style.transform=n}})}function P(e){V={};var t,n=["haov","vaov","vOffset","northOffset"];for(t in ce)ce.hasOwnProperty(t)&&(V[t]=ce[t]);for(t in i["default"])i["default"].hasOwnProperty(t)&&(V[t]=i["default"][t],0<=n.indexOf(t)&&(V.ignoreGPanoXMP=!0));if(null!==e&&""!==e&&i.scenes&&i.scenes[e]){var r=i.scenes[e];for(t in r)r.hasOwnProperty(t)&&(V[t]=r[t],0<=n.indexOf(t)&&(V.ignoreGPanoXMP=!0));V.activeScene=e}for(t in i)i.hasOwnProperty(t)&&(V[t]=i[t],0<=n.indexOf(t)&&(V.ignoreGPanoXMP=!0))}function O(){if("preview"in V){var e=V.preview;V.basePath&&(e=V.basePath+e),U=t.createElement("div"),U.className="pnlm-preview-img",U.style.backgroundImage="url('"+encodeURI(e)+"')",de.appendChild(U)}for(var r in V)if(V.hasOwnProperty(r))switch(r){case"title":he.title.innerHTML=F(V[r]),he.container.style.display="inline";break;case"author":he.author.innerHTML="by "+F(V[r]),he.container.style.display="inline";break;case"fallback":he.errorMsg.innerHTML='<p>Your browser does not support WebGL.<br><a href="'+encodeURI(V[r])+'" target="_blank">Click here to view this panorama in an alternative viewer.</a></p>';break;case"hfov":L(Number(V[r]));break;case"pitch":V.pitch=Math.max(V.minPitch,Math.min(V.maxPitch,V.pitch));break;case"autoLoad":!0===V[r]&&H===n&&(he.load.box.style.display="inline",me.load.style.display="none",o());break;case"showZoomCtrl":me.zoom.style.display=V[r]?"block":"none";break;case"showFullscreenCtrl":me.fullscreen.style.display=V[r]&&("fullscreen"in t||"mozFullScreen"in t||"webkitIsFullScreen"in t||"msFullscreenElement"in t)?"block":"none"}}function j(){if(te&&!ne)if(ee)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen();else try{r.requestFullscreen?r.requestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen?r.msRequestFullscreen():r.webkitRequestFullScreen()}catch(e){}}function I(){t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement?(me.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),ee=!0):(me.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),ee=!1)}function L(e){var t=V.minHfov;"multires"==V.type&&B&&(t=Math.min(t,B.getCanvas().width/(V.multiRes.cubeResolution/90*.9))),t>=V.maxHfov?console.log("HFOV bounds do not make sense (minHfov >= maxHfov)."):V.hfov=e<t?t:e>V.maxHfov?V.maxHfov:e}function R(){he.load.box.style.display="none",he.errorMsg.style.display="none",ne=!1,me.load.style.display="none",he.load.box.style.display="inline",o()}function N(e,t,r){te=!1,H=B;var o;if(V.sceneFadeDuration){o=new Image,o.className="pnlm-fade-img",o.style.transition="opacity "+V.sceneFadeDuration/1e3+"s",o.style.width="100%",o.style.height="100%";var a=B.render(V.pitch*Math.PI/180,V.yaw*Math.PI/180,V.hfov*Math.PI/180,!0);a!==n&&(o.src=a),de.appendChild(o),H.fadeImg=o}if(t="same"===t?V.pitch:t,r="same"===r?V.yaw:"sameAzimuth"===r?V.yaw+V.northOffset-i.scenes[e].northOffset:r,V.hotSpots)for(o=0;o<V.hotSpots.length;o++){for(a=V.hotSpots[o].div;a.parentNode!=de;)a=a.parentNode;de.removeChild(a),delete V.hotSpots[o].div}ue=!1,delete V.hotSpots,P(e),O(),t&&(V.pitch=t),r&&(V.yaw=r),R()}function F(e){return String(e).replace(/&/g,"&amp;").replace('"',"&quot;").replace("'","&#39;").replace("<","&lt;").replace(">","&gt;").replace("/","&#x2f;")}var V,B,H,U,z,q,Y=!1,W=Date.now(),G=0,X=0,J=-1,Q=0,Z=0,K=Array(10),ee=!1,te=!1,ne=!1,re=!1,ie=0,oe=0,ae=0,se=!1,le=!1,ue=!1,ce={hfov:100,minHfov:50,maxHfov:120,pitch:0,minPitch:-85,maxPitch:85,yaw:0,minYaw:-180,maxYaw:180,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,keyboardZoom:!0};r="string"==typeof r?t.getElementById(r):r,r.className+=" pnlm-container",r.tabIndex=0;var de=t.createElement("div");de.className="pnlm-render-container",r.appendChild(de);var pe=t.createElement("div");pe.className="pnlm-dragfix",r.appendChild(pe);var fe=t.createElement("span");fe.className="pnlm-about-msg",fe.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a> 2.2.1',r.appendChild(fe),pe.addEventListener("contextmenu",u);var he={};he.container=t.createElement("div"),he.container.className="pnlm-panorama-info",he.title=t.createElement("div"),he.title.className="pnlm-title-box",he.container.appendChild(he.title),he.author=t.createElement("div"),he.author.className="pnlm-author-box",he.container.appendChild(he.author),r.appendChild(he.container),he.load={},he.load.box=t.createElement("div"),he.load.box.className="pnlm-load-box",he.load.box.innerHTML="<p>Loading...</p>",he.load.lbox=t.createElement("div"),he.load.lbox.className="pnlm-lbox",he.load.lbox.innerHTML='<div class="pnlm-loading"></div>',he.load.box.appendChild(he.load.lbox),he.load.lbar=t.createElement("div"),he.load.lbar.className="pnlm-lbar",he.load.lbarFill=t.createElement("div"),he.load.lbarFill.className="pnlm-lbar-fill",he.load.lbar.appendChild(he.load.lbarFill),he.load.box.appendChild(he.load.lbar),he.load.msg=t.createElement("p"),he.load.msg.className="pnlm-lmsg",he.load.box.appendChild(he.load.msg),r.appendChild(he.load.box),he.errorMsg=t.createElement("div"),he.errorMsg.className="pnlm-error-msg pnlm-info-box",r.appendChild(he.errorMsg);var me={};me.load=t.createElement("div"),me.load.className="pnlm-load-button",me.load.innerHTML="<p>Click to<br>Load<br>Panorama<p>",me.load.addEventListener("click",R),r.appendChild(me.load),me.zoom=t.createElement("div"),me.zoom.className="pnlm-zoom-controls pnlm-controls",me.zoomIn=t.createElement("div"),me.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",me.zoomIn.addEventListener("click",function(){te&&L(V.hfov-5)}),me.zoom.appendChild(me.zoomIn),me.zoomOut=t.createElement("div"),me.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",me.zoomOut.addEventListener("click",function(){te&&L(V.hfov+5)}),me.zoom.appendChild(me.zoomOut),r.appendChild(me.zoom),me.fullscreen=t.createElement("div"),me.fullscreen.addEventListener("click",j),me.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(t.fullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled)&&r.appendChild(me.fullscreen);var ge=t.createElement("div");ge.className="pnlm-compass pnlm-controls pnlm-control",r.appendChild(ge),P(i.firstScene?i.firstScene:i["default"]&&i["default"].firstScene?i["default"].firstScene:null),O();var ve=[],ye=[];this.getPitch=function(){return V.pitch},this.setPitch=function(e){return V.pitch=Math.max(V.minPitch,Math.min(V.maxPitch,e)),this},this.getPitchBounds=function(){return[V.minPitch,V.maxPitch]},this.setPitchBounds=function(e){return V.minPitch=Math.max(-90,Math.min(e[0],90)),V.maxPitch=Math.max(-90,Math.min(e[1],90)),this},this.getYaw=function(){return V.yaw},this.setYaw=function(e){for(;180<e;)e-=360;for(;-180>e;)e+=360;return V.yaw=Math.max(V.minYaw,Math.min(V.maxYaw,e)),this},this.getYawBounds=function(){return[V.minYaw,V.maxYaw]},this.setYawBounds=function(e){return V.minYaw=Math.max(-180,Math.min(e[0],180)),V.maxYaw=Math.max(-180,Math.min(e[1],180)),this},this.getHfov=function(){return V.hfov},this.setHfov=function(e){return L(e),this},this.getHfovBounds=function(){return[V.minHfov,V.maxHfov]},this.setHfovBounds=function(e){return V.minHfov=Math.max(0,e[0]),V.maxHfov=Math.max(0,e[1]),this},this.getRenderer=function(){return B},this.setUpdate=function(e){return le=!0===e,B===n?a():requestAnimationFrame(E),this},this.mouseEventToCoords=function(e){return p(e)}}return{viewer:function(e,t){return new r(e,t)}}}(window,document),function(e,t,n){"use strict";t.plugin("pannellum",function(){var t=this,r=t.el(),i=r.getElementsByTagName("video")[0],o=e.createElement("div"),a={type:"equirectangular",dynamic:!0,showZoomCtrl:!1,showFullscreenCtrl:!1,autoLoad:!0,hfov:120,autoRotate:-1,panorama:i},s=window.pannellumConfig||a;s.panorama=i,o.style.visibility="hidden";var l=n.viewer(o,s);r.insertBefore(o,r.firstChild),i.style.display="none",t.on("play",function(){i.readyState>1&&l.setUpdate(!0)}),t.on("canplay",function(){t.paused()||l.setUpdate(!0)}),t.on("pause",function(){l.setUpdate(!1)}),t.on("loadeddata",function(){o.style.visibility="visible"}),t.on("seeking",function(){t.paused()&&l.setUpdate(!0)}),t.on("seeked",function(){t.paused()&&l.setUpdate(!1)})})}(document,videojs,pannellum),function(){}.call(this),function(){angular.module("AdpApp").controller("RequestPreviewController",["$scope","$location","$window","$http",function(e,t,n,r){return e.requestPreview=function(){return r({method:"POST",url:"/asset-detail/request-preview/send",data:e.request_preview_form})},n.onload=function(){return e.assets=JSON.parse(e.request_preview_form.assets)}}])}.call(this),angular.module("giDropbox",["giLocalStorage","giRails"]),function(){angular.module("giDropbox").directive("dropboxDownloadNotification",["$timeout","$window","DropboxService",function(e,n,r){return{restrict:"E",templateUrl:"dropbox/_dropbox_download_notification.html",replace:!0,scope:{showModal:"=?"},link:function(i){return i.hide=!0,i.close=function(){return i.hide=!0},i.show=function(n){return i.downloadLocally=void 0,n.downloadLocally&&(i.downloadLocally=function(){return n.downloadLocally(),i.trackDownloadLocally()}),i.downloading=t("downloading_to_dropbox",{asset_id:n.assetId,dropbox_folder:i.dropboxFolder}),i.hide=!1,e(i.close,1e4)},i.$on("dropbox.asset-downloaded",function(e,t){return null==i.dropboxConnected?r.getConnectStatus().then(function(e){if(i.dropboxFolder=e.dropboxAppFolder,i.dropboxConnected=e.dropboxConnected,e.dropboxConnected)return i.show(t)}):i.dropboxConnected?i.show(t):void 0}),i.trackDownloadLocally=function(){return n.s.events="event176",n.s.linkTrackEvents="event176",n.s.tl(!0,"o","Dropbox|savefilelocally")}}}}])}.call(this),function(){angular.module("giDropbox").directive("dropboxIntroModal",["$rootScope","$timeout","$window","MODAL_TIMEOUT","DropboxService",function(e,n,r,i,o){return{restrict:"E",templateUrl:function(e,t){return"footer"===(null!=t?t.impl:void 0)?"dropbox/_dropbox_intro_footer.html":"dropbox/_dropbox_intro_modal.html"},replace:!1,scope:{showModal:"=?"},link:function(e,a,s){var l;return l=null,e.impl={},"footer"===(null!=s?s.impl:void 0)?(e.impl.close=function(){},e.impl.mouseover=function(){},e.impl.mouseout=function(){}):($.gettyModal.initElement(".dropbox-intro-modal"),e.impl.close=function(){return n(function(){return $.gettyModal.find(".dropbox-intro-modal").close()})},e.impl.mouseover=function(){return n.cancel(l)},e.impl.mouseout=function(){return l=n(e.impl.close,i)}),e.dismissed=!1,e.t=t,e.trackEvent=function(e,t){var n;r.s.events=e,r.s.linkTrackEvents=e,r.s.eVar47="D=pageName",r.s.linkTrackVars="channel,charSet,pageURL,purchaseID,currencyCode,eVar1,eVar2,eVar11,eVar30,eVar44,eVar47,prop1,prop2,prop11,prop39,prop40,prop44,prop58,prop71,server,pageName,account_id,products,eVar4,prop4,eVar8,prop8,prop10,eVar10,eVar18,eVar19,prop19,eVar23,eVar24,prop53,prop56,eVar65,prop65,eVar91,cookieDomainPeriods,prop72,prop73,eVar29,prop29,referrer,prop47,prop32,prop52,prop54,prop74,prop66,prop69,eVar96,eVar97,eVar7,prop7,eVar84,events,linkTrackEvents,event3,prop37,eVar37,eVar86,eVar85",r.s.tl(!0,"o",t),null!=(n=window.combinedGtmTracking)&&n.gtmPushTracking(t)},e.trackClose=function(){e.trackEvent("event177","DropboxCloseModal")},e.trackGetStarted=function(){e.trackEvent("event178","DropboxGetStarted")},e.trackDismiss=function(){e.trackEvent("event179","DropboxdontShowAgain")},e.open=function(){return n(function(){return $.gettyModal.find(".dropbox-intro-modal").open(!0)}),l=n(e.impl.close,i)},e.close=function(){return e.impl.close()},e.dismiss=function(){return e.dismissed=!0,e.trackDismiss(),o.dismiss(),e.close(),!1},e.getStarted=function(){return e.trackGetStarted(),r.location.href="/account/apps"},e.$watch("showModal",function(t){if(t)return e.open(),e.trackEvent("event175",e.pev2)}),e.$on("dropbox-intro-modal.asset-downloaded",function(t,n){if(null==(null!=n?n.alwaysDownloadLargest:void 0)||!0!==(null!=n?n.alwaysDownloadLargest:void 0))return o.shouldShowUserInvite(null!=n?n.data:void 0).then(function(t){return e.showModal=t,e.pev2=n.origin})}),
angular.element(a).on("mouseover",function(){return e.impl.mouseover()}),angular.element(a).on("mouseout",function(){return e.impl.mouseout()}),angular.element(".dropbox-intro-modal").on("modal.close",function(){if(n.cancel(l),!e.dismissed)return e.trackClose()})}}}]),angular.module("giDropbox").constant("MODAL_TIMEOUT",3e4)}.call(this),function(){"use strict";angular.module("giDropbox").factory("DropboxService",["$q","$http","$window","giLocalStorage","visitorExperiences",function(e,t,n,r,i){var o,a;return o=n.DROPBOX_ENDPOINT||"/account/apps/dropbox",a={connectAccount:function(){return t({method:"PUT",url:o}).then(function(e){return n.location.href=e.data.dropboxUrl})},disconnectAccount:function(){return t({method:"DELETE",url:o})},updateAccount:function(e){return t({method:"PUT",url:o+"/sync",data:e})},getAccountStatus:function(){return t({method:"GET",url:o}).then(function(e){return e.data})},getConnectStatus:function(){return t({method:"GET",url:o+"/connect-status"}).then(function(e){return e.data})},shouldShowUserInvite:function(t){return e(function(e){return i.isActive("mvfdropbox")?(a.isUserDismissed()&&e(!1),null!=t?e(!(null!=t?t.download_destinations:void 0)||0===t.download_destinations.length):a.getConnectStatus().then(function(t){return e(!t.dropboxConnected)})):e(!1)})},dismiss:function(){return r.setItem("dropboxOptOut",!0)},isUserDismissed:function(){return r.getItem("dropboxOptOut")||!1},isUserOptedOut:function(){return a.getAccountStatus().then(function(e){return!!e.optOut})},uploadFiles:function(e,n){return null==n&&(n=null),t({method:"POST",url:o+"/upload-files",data:{Assets:e,SizePreference:n}}).then(function(e){return e})}}}])}.call(this),function(){angular.module("AdpApp").controller("VrController",["$scope",function(e){return e.hasWebglSupport=function(){var e;try{return e=document.createElement("canvas"),!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return e,!1}},e.has360VideoSupport=function(){var e,t;return t=navigator.userAgent.toLowerCase(),!((/safari\//g.test(t)||/applewebkit\//g.test(t))&&!/chrome\//g.test(t)&&(e=/Mac OS X \d+_(\d+)_\d+/g.exec(navigator.userAgent))&&e[1]<12)&&(!/edge\//g.test(t)&&!/trident\//g.test(t))}}])}.call(this),function(){angular.module("AdpApp").directive("giVrImage",["$window",function(e){return{scope:{},restrict:"A",controller:"VrController",link:function(t,n,r){return t.init=function(){var i,o,a,s;if($("body").addClass("vr-asset"),t.hasWebglSupport())return isMobile?(o=$("<iframe>",{"class":"viewer_360_image",title:"360 Image Viewer",webkitAllowFullScreen:"",mozallowfullscreen:"",allowFullScreen:"",frameborder:"0",alt:r.alt,"data-ratio":r.ratio,src:"/asset-detail/templates/vrview.html?image="+r.giVrImage+"&preview="+r.preview}),$(n).replaceWith(o)):(s=0===n.parent().width()?"500px":$(n.parent()).css("width"),i=e.currentSite.isiStock?$(n).css("height"):"100%",a=$("<div>",{id:"panorama-image","class":"viewer_360_image",style:"height: "+i+"; flex-basis:"+s,alt:r.alt}),$(n).replaceWith(a),pannellum.viewer("panorama-image",{type:"equirectangular",autoLoad:!0,autoRotate:-1,hfov:120,showZoomCtrl:!0,showFullscreenCtrl:!0,preview:r.preview,panorama:r.giVrImage}))},t.init()}}}]),angular.module("AdpApp").directive("giVrVideo",function(){return{scope:{},restrict:"A",controller:"VrController",link:function(e,t,n){return e.init=function(){var r;return $("body").addClass("vr-asset"),e.hasWebglSupport()&&e.has360VideoSupport()&&!isMobile?(window.pannellumConfig={type:"equirectangular",dynamic:!0,showZoomCtrl:!1,autoRotate:-1,showFullscreenCtrl:!1,autoLoad:!0,hfov:120},r=$("<video>",{id:"panorama-video",alt:n.alt,poster:n.preview,"class":"video-js vjs-default-skin vjs-big-play-centered",crossorigin:"anonymous",autoplay:"",controls:"",preload:"none"}),r.append($("<source>",{src:n.giVrVideo,type:"video/mp4"})),$(t).replaceWith(r),videojs("panorama-video",{plugins:{pannellum:{}}})):($("body").addClass("vr-asset-unsupported-browser"),r=$("<video>",{src:n.giVrVideo,alt:n.alt,poster:n.preview,controls:"",autoplay:""}),$(t).replaceWith(r))},e.init()}}})}.call(this);